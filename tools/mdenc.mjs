var Ct=(r=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(r,{get:(t,e)=>(typeof require!="undefined"?require:t)[e]}):r)(function(r){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+r+'" is not supported')});import{notStrictEqual as ei,strictEqual as ni}from"assert";var Ms={right:Ns,center:Ls},Ds=0,we=1,vs=2,_e=3,He=class{constructor(t){var e;this.width=t.width,this.wrap=(e=t.wrap)!==null&&e!==void 0?e:!0,this.rows=[]}span(...t){let e=this.div(...t);e.span=!0}resetOutput(){this.rows=[]}div(...t){if(t.length===0&&this.div(""),this.wrap&&this.shouldApplyLayoutDSL(...t)&&typeof t[0]=="string")return this.applyLayoutDSL(t[0]);let e=t.map(n=>typeof n=="string"?this.colFromString(n):n);return this.rows.push(e),e}shouldApplyLayoutDSL(...t){return t.length===1&&typeof t[0]=="string"&&/[\t\n]/.test(t[0])}applyLayoutDSL(t){let e=t.split(`
`).map(s=>s.split("	")),n=0;return e.forEach(s=>{s.length>1&&ft.stringWidth(s[0])>n&&(n=Math.min(Math.floor(this.width*.5),ft.stringWidth(s[0])))}),e.forEach(s=>{this.div(...s.map((i,a)=>({text:i.trim(),padding:this.measurePadding(i),width:a===0&&s.length>1?n:void 0})))}),this.rows[this.rows.length-1]}colFromString(t){return{text:t,padding:this.measurePadding(t)}}measurePadding(t){let e=ft.stripAnsi(t);return[0,e.match(/\s*$/)[0].length,0,e.match(/^\s*/)[0].length]}toString(){let t=[];return this.rows.forEach(e=>{this.rowToString(e,t)}),t.filter(e=>!e.hidden).map(e=>e.text).join(`
`)}rowToString(t,e){return this.rasterize(t).forEach((n,s)=>{let i="";n.forEach((a,c)=>{let{width:m}=t[c],b=this.negatePadding(t[c]),p=a;if(b>ft.stringWidth(a)&&(p+=" ".repeat(b-ft.stringWidth(a))),t[c].align&&t[c].align!=="left"&&this.wrap){let g=Ms[t[c].align];p=g(p,b),ft.stringWidth(p)<b&&(p+=" ".repeat((m||0)-ft.stringWidth(p)-1))}let h=t[c].padding||[0,0,0,0];h[_e]&&(i+=" ".repeat(h[_e])),i+=jn(t[c],p,"| "),i+=p,i+=jn(t[c],p," |"),h[we]&&(i+=" ".repeat(h[we])),s===0&&e.length>0&&(i=this.renderInline(i,e[e.length-1]))}),e.push({text:i.replace(/ +$/,""),span:t.span})}),e}renderInline(t,e){let n=t.match(/^ */),s=n?n[0].length:0,i=e.text,a=ft.stringWidth(i.trimRight());return e.span?this.wrap?s<a?t:(e.hidden=!0,i.trimRight()+" ".repeat(s-a)+t.trimLeft()):(e.hidden=!0,i+t):t}rasterize(t){let e=[],n=this.columnWidths(t),s;return t.forEach((i,a)=>{i.width=n[a],this.wrap?s=ft.wrap(i.text,this.negatePadding(i),{hard:!0}).split(`
`):s=i.text.split(`
`),i.border&&(s.unshift("."+"-".repeat(this.negatePadding(i)+2)+"."),s.push("'"+"-".repeat(this.negatePadding(i)+2)+"'")),i.padding&&(s.unshift(...new Array(i.padding[Ds]||0).fill("")),s.push(...new Array(i.padding[vs]||0).fill(""))),s.forEach((c,m)=>{e[m]||e.push([]);let b=e[m];for(let p=0;p<a;p++)b[p]===void 0&&b.push("");b.push(c)})}),e}negatePadding(t){let e=t.width||0;return t.padding&&(e-=(t.padding[_e]||0)+(t.padding[we]||0)),t.border&&(e-=4),e}columnWidths(t){if(!this.wrap)return t.map(a=>a.width||ft.stringWidth(a.text));let e=t.length,n=this.width,s=t.map(a=>{if(a.width)return e--,n-=a.width,a.width}),i=e?Math.floor(n/e):0;return s.map((a,c)=>a===void 0?Math.max(i,$s(t[c])):a)}};function jn(r,t,e){return r.border?/[.']-+[.']/.test(t)?"":t.trim().length!==0?e:"  ":""}function $s(r){let t=r.padding||[],e=1+(t[_e]||0)+(t[we]||0);return r.border?e+4:e}function Ts(){return typeof process=="object"&&process.stdout&&process.stdout.columns?process.stdout.columns:80}function Ns(r,t){r=r.trim();let e=ft.stringWidth(r);return e<t?" ".repeat(t-e)+r:r}function Ls(r,t){r=r.trim();let e=ft.stringWidth(r);return e>=t?r:" ".repeat(t-e>>1)+r}var ft;function In(r,t){return ft=t,new He({width:(r==null?void 0:r.width)||Ts(),wrap:r==null?void 0:r.wrap})}var Fn=new RegExp("\x1B(?:\\[(?:\\d+[ABCDEFGJKSTm]|\\d+;\\d+[Hfm]|\\d+;\\d+;\\d+m|6n|s|u|\\?25[lh])|\\w)","g");function Ye(r){return r.replace(Fn,"")}function Mn(r,t){let[e,n]=r.match(Fn)||["",""];r=Ye(r);let s="";for(let i=0;i<r.length;i++)i!==0&&i%t===0&&(s+=`
`),s+=r.charAt(i);return e&&n&&(s=`${e}${s}${n}`),s}function Ve(r){return In(r,{stringWidth:t=>[...t].length,stripAnsi:Ye,wrap:Mn})}import{dirname as Dn,resolve as vn}from"path";import{readdirSync as Rs,statSync as Bs}from"fs";function $n(r,t){let e=vn(".",r),n;for(Bs(e).isDirectory()||(e=Dn(e));;){if(n=t(e,Rs(e)),n)return vn(e,n);if(e=Dn(n=e),n===e)break}}import{inspect as si}from"util";import{readFileSync as ii}from"fs";import{fileURLToPath as ri}from"url";import{format as zs}from"util";import{normalize as Hs,resolve as Ys}from"path";function Ut(r){if(r!==r.toLowerCase()&&r!==r.toUpperCase()||(r=r.toLowerCase()),r.indexOf("-")===-1&&r.indexOf("_")===-1)return r;{let e="",n=!1,s=r.match(/^-+/);for(let i=s?s[0].length:0;i<r.length;i++){let a=r.charAt(i);n&&(n=!1,a=a.toUpperCase()),i!==0&&(a==="-"||a==="_")?n=!0:a!=="-"&&a!=="_"&&(e+=a)}return e}}function Oe(r,t){let e=r.toLowerCase();t=t||"-";let n="";for(let s=0;s<r.length;s++){let i=e.charAt(s),a=r.charAt(s);i!==a&&s>0?n+=`${t}${e.charAt(s)}`:n+=a}return n}function Ee(r){return r==null?!1:typeof r=="number"||/^0x[0-9a-f]+$/i.test(r)?!0:/^0[^.]/.test(r)?!1:/^[-]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(r)}function Tn(r){if(Array.isArray(r))return r.map(a=>typeof a!="string"?a+"":a);r=r.trim();let t=0,e=null,n=null,s=null,i=[];for(let a=0;a<r.length;a++){if(e=n,n=r.charAt(a),n===" "&&!s){e!==" "&&t++;continue}n===s?s=null:(n==="'"||n==='"')&&!s&&(s=n),i[t]||(i[t]=""),i[t]+=n}return i}var gt;(function(r){r.BOOLEAN="boolean",r.STRING="string",r.NUMBER="number",r.ARRAY="array"})(gt||(gt={}));var It,xe=class{constructor(t){It=t}parse(t,e){let n=Object.assign({alias:void 0,array:void 0,boolean:void 0,config:void 0,configObjects:void 0,configuration:void 0,coerce:void 0,count:void 0,default:void 0,envPrefix:void 0,narg:void 0,normalize:void 0,string:void 0,number:void 0,__:void 0,key:void 0},e),s=Tn(t),i=typeof t=="string",a=Ws(Object.assign(Object.create(null),n.alias)),c=Object.assign({"boolean-negation":!0,"camel-case-expansion":!0,"combine-arrays":!1,"dot-notation":!0,"duplicate-arguments-array":!0,"flatten-duplicate-arrays":!0,"greedy-arrays":!0,"halt-at-non-option":!1,"nargs-eats-options":!1,"negation-prefix":"no-","parse-numbers":!0,"parse-positional-numbers":!0,"populate--":!1,"set-placeholder-key":!1,"short-option-groups":!0,"strip-aliased":!1,"strip-dashed":!1,"unknown-options-as-args":!1},n.configuration),m=Object.assign(Object.create(null),n.default),b=n.configObjects||[],p=n.envPrefix,h=c["populate--"],g=h?"--":"_",w=Object.create(null),E=Object.create(null),_=n.__||It.format,d={aliases:Object.create(null),arrays:Object.create(null),bools:Object.create(null),strings:Object.create(null),numbers:Object.create(null),counts:Object.create(null),normalize:Object.create(null),configs:Object.create(null),nargs:Object.create(null),coercions:Object.create(null),keys:[]},L=/^-([0-9]+(\.[0-9]+)?|\.[0-9]+)$/,R=new RegExp("^--"+c["negation-prefix"]+"(.+)");[].concat(n.array||[]).filter(Boolean).forEach(function(l){let u=typeof l=="object"?l.key:l,O=Object.keys(l).map(function(y){return{boolean:"bools",string:"strings",number:"numbers"}[y]}).filter(Boolean).pop();O&&(d[O][u]=!0),d.arrays[u]=!0,d.keys.push(u)}),[].concat(n.boolean||[]).filter(Boolean).forEach(function(l){d.bools[l]=!0,d.keys.push(l)}),[].concat(n.string||[]).filter(Boolean).forEach(function(l){d.strings[l]=!0,d.keys.push(l)}),[].concat(n.number||[]).filter(Boolean).forEach(function(l){d.numbers[l]=!0,d.keys.push(l)}),[].concat(n.count||[]).filter(Boolean).forEach(function(l){d.counts[l]=!0,d.keys.push(l)}),[].concat(n.normalize||[]).filter(Boolean).forEach(function(l){d.normalize[l]=!0,d.keys.push(l)}),typeof n.narg=="object"&&Object.entries(n.narg).forEach(([l,u])=>{typeof u=="number"&&(d.nargs[l]=u,d.keys.push(l))}),typeof n.coerce=="object"&&Object.entries(n.coerce).forEach(([l,u])=>{typeof u=="function"&&(d.coercions[l]=u,d.keys.push(l))}),typeof n.config<"u"&&(Array.isArray(n.config)||typeof n.config=="string"?[].concat(n.config).filter(Boolean).forEach(function(l){d.configs[l]=!0}):typeof n.config=="object"&&Object.entries(n.config).forEach(([l,u])=>{(typeof u=="boolean"||typeof u=="function")&&(d.configs[l]=u)})),Wt(n.key,a,n.default,d.arrays),Object.keys(m).forEach(function(l){(d.aliases[l]||[]).forEach(function(u){m[u]=m[l]})});let H=null;ye();let B=[],Y=Object.assign(Object.create(null),{_:[]}),lt={};for(let l=0;l<s.length;l++){let u=s[l],O=u.replace(/^-{3,}/,"---"),y,f,j,C,M,st;if(u!=="--"&&/^-/.test(u)&&J(u))ot(u);else if(O.match(/^---+(=|$)/)){ot(u);continue}else if(u.match(/^--.+=/)||!c["short-option-groups"]&&u.match(/^-.+=/))C=u.match(/^--?([^=]+)=([\s\S]*)$/),C!==null&&Array.isArray(C)&&C.length>=3&&(v(C[1],d.arrays)?l=Rt(l,C[1],s,C[2]):v(C[1],d.nargs)!==!1?l=Ft(l,C[1],s,C[2]):V(C[1],C[2],!0));else if(u.match(R)&&c["boolean-negation"])C=u.match(R),C!==null&&Array.isArray(C)&&C.length>=2&&(f=C[1],V(f,v(f,d.arrays)?[!1]:!1));else if(u.match(/^--.+/)||!c["short-option-groups"]&&u.match(/^-[^-]+/))C=u.match(/^--?(.+)/),C!==null&&Array.isArray(C)&&C.length>=2&&(f=C[1],v(f,d.arrays)?l=Rt(l,f,s):v(f,d.nargs)!==!1?l=Ft(l,f,s):(M=s[l+1],M!==void 0&&(!M.match(/^-/)||M.match(L))&&!v(f,d.bools)&&!v(f,d.counts)||/^(true|false)$/.test(M)?(V(f,M),l++):V(f,Q(f))));else if(u.match(/^-.\..+=/))C=u.match(/^-([^=]+)=([\s\S]*)$/),C!==null&&Array.isArray(C)&&C.length>=3&&V(C[1],C[2]);else if(u.match(/^-.\..+/)&&!u.match(L))M=s[l+1],C=u.match(/^-(.\..+)/),C!==null&&Array.isArray(C)&&C.length>=2&&(f=C[1],M!==void 0&&!M.match(/^-/)&&!v(f,d.bools)&&!v(f,d.counts)?(V(f,M),l++):V(f,Q(f)));else if(u.match(/^-[^-]+/)&&!u.match(L)){j=u.slice(1,-1).split(""),y=!1;for(let at=0;at<j.length;at++){if(M=u.slice(at+2),j[at+1]&&j[at+1]==="="){st=u.slice(at+3),f=j[at],v(f,d.arrays)?l=Rt(l,f,s,st):v(f,d.nargs)!==!1?l=Ft(l,f,s,st):V(f,st),y=!0;break}if(M==="-"){V(j[at],M);continue}if(/[A-Za-z]/.test(j[at])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(M)&&v(M,d.bools)===!1){V(j[at],M),y=!0;break}if(j[at+1]&&j[at+1].match(/\W/)){V(j[at],M),y=!0;break}else V(j[at],Q(j[at]))}f=u.slice(-1)[0],!y&&f!=="-"&&(v(f,d.arrays)?l=Rt(l,f,s):v(f,d.nargs)!==!1?l=Ft(l,f,s):(M=s[l+1],M!==void 0&&(!/^(-|--)[^-]/.test(M)||M.match(L))&&!v(f,d.bools)&&!v(f,d.counts)||/^(true|false)$/.test(M)?(V(f,M),l++):V(f,Q(f))))}else if(u.match(/^-[0-9]$/)&&u.match(L)&&v(u.slice(1),d.bools))f=u.slice(1),V(f,Q(f));else if(u==="--"){B=s.slice(l+1);break}else if(c["halt-at-non-option"]){B=s.slice(l);break}else ot(u)}U(Y,!0),U(Y,!1),N(Y),et(),X(Y,d.aliases,m,!0),nt(Y),c["set-placeholder-key"]&&Bt(Y),Object.keys(d.counts).forEach(function(l){St(Y,l.split("."))||V(l,0)}),h&&B.length&&(Y[g]=[]),B.forEach(function(l){Y[g].push(l)}),c["camel-case-expansion"]&&c["strip-dashed"]&&Object.keys(Y).filter(l=>l!=="--"&&l.includes("-")).forEach(l=>{delete Y[l]}),c["strip-aliased"]&&[].concat(...Object.keys(a).map(l=>a[l])).forEach(l=>{c["camel-case-expansion"]&&l.includes("-")&&delete Y[l.split(".").map(u=>Ut(u)).join(".")],delete Y[l]});function ot(l){let u=S("_",l);(typeof u=="string"||typeof u=="number")&&Y._.push(u)}function Ft(l,u,O,y){let f,j=v(u,d.nargs);if(j=typeof j!="number"||isNaN(j)?1:j,j===0)return Et(y)||(H=Error(_("Argument unexpected for: %s",u))),V(u,Q(u)),l;let C=Et(y)?0:1;if(c["nargs-eats-options"])O.length-(l+1)+C<j&&(H=Error(_("Not enough arguments following: %s",u))),C=j;else{for(f=l+1;f<O.length&&(!O[f].match(/^-[^0-9]/)||O[f].match(L)||J(O[f]));f++)C++;C<j&&(H=Error(_("Not enough arguments following: %s",u)))}let M=Math.min(C,j);for(!Et(y)&&M>0&&(V(u,y),M--),f=l+1;f<M+l+1;f++)V(u,O[f]);return l+M}function Rt(l,u,O,y){let f=[],j=y||O[l+1],C=v(u,d.nargs);if(v(u,d.bools)&&!/^(true|false)$/.test(j))f.push(!0);else if(Et(j)||Et(y)&&/^-/.test(j)&&!L.test(j)&&!J(j)){if(m[u]!==void 0){let M=m[u];f=Array.isArray(M)?M:[M]}}else{Et(y)||f.push(x(u,y,!0));for(let M=l+1;M<O.length&&!(!c["greedy-arrays"]&&f.length>0||C&&typeof C=="number"&&f.length>=C||(j=O[M],/^-/.test(j)&&!L.test(j)&&!J(j)));M++)l=M,f.push(x(u,j,i))}return typeof C=="number"&&(C&&f.length<C||isNaN(C)&&f.length===0)&&(H=Error(_("Not enough arguments following: %s",u))),V(u,f),l}function V(l,u,O=i){if(/-/.test(l)&&c["camel-case-expansion"]){let j=l.split(".").map(function(C){return Ut(C)}).join(".");I(l,j)}let y=x(l,u,O),f=l.split(".");jt(Y,f,y),d.aliases[l]&&d.aliases[l].forEach(function(j){let C=j.split(".");jt(Y,C,y)}),f.length>1&&c["dot-notation"]&&(d.aliases[f[0]]||[]).forEach(function(j){let C=j.split("."),M=[].concat(f);M.shift(),C=C.concat(M),(d.aliases[l]||[]).includes(C.join("."))||jt(Y,C,y)}),v(l,d.normalize)&&!v(l,d.arrays)&&[l].concat(d.aliases[l]||[]).forEach(function(C){Object.defineProperty(lt,C,{enumerable:!0,get(){return u},set(M){u=typeof M=="string"?It.normalize(M):M}})})}function I(l,u){d.aliases[l]&&d.aliases[l].length||(d.aliases[l]=[u],w[u]=!0),d.aliases[u]&&d.aliases[u].length||I(u,l)}function x(l,u,O){O&&(u=Us(u)),(v(l,d.bools)||v(l,d.counts))&&typeof u=="string"&&(u=u==="true");let y=Array.isArray(u)?u.map(function(f){return S(l,f)}):S(l,u);return v(l,d.counts)&&(Et(y)||typeof y=="boolean")&&(y=Ke()),v(l,d.normalize)&&v(l,d.arrays)&&(Array.isArray(u)?y=u.map(f=>It.normalize(f)):y=It.normalize(u)),y}function S(l,u){return!c["parse-positional-numbers"]&&l==="_"||!v(l,d.strings)&&!v(l,d.bools)&&!Array.isArray(u)&&(Ee(u)&&c["parse-numbers"]&&Number.isSafeInteger(Math.floor(parseFloat(`${u}`)))||!Et(u)&&v(l,d.numbers))&&(u=Number(u)),u}function N(l){let u=Object.create(null);X(u,d.aliases,m),Object.keys(d.configs).forEach(function(O){let y=l[O]||u[O];if(y)try{let f=null,j=It.resolve(It.cwd(),y),C=d.configs[O];if(typeof C=="function"){try{f=C(j)}catch(M){f=M}if(f instanceof Error){H=f;return}}else f=It.require(j);z(f)}catch(f){f.name==="PermissionDenied"?H=f:l[O]&&(H=Error(_("Invalid JSON config file: %s",y)))}})}function z(l,u){Object.keys(l).forEach(function(O){let y=l[O],f=u?u+"."+O:O;typeof y=="object"&&y!==null&&!Array.isArray(y)&&c["dot-notation"]?z(y,f):(!St(Y,f.split("."))||v(f,d.arrays)&&c["combine-arrays"])&&V(f,y)})}function et(){typeof b<"u"&&b.forEach(function(l){z(l)})}function U(l,u){if(typeof p>"u")return;let O=typeof p=="string"?p:"",y=It.env();Object.keys(y).forEach(function(f){if(O===""||f.lastIndexOf(O,0)===0){let j=f.split("__").map(function(C,M){return M===0&&(C=C.substring(O.length)),Ut(C)});(u&&d.configs[j.join(".")]||!u)&&!St(l,j)&&V(j.join("."),y[f])}})}function nt(l){let u,O=new Set;Object.keys(l).forEach(function(y){if(!O.has(y)&&(u=v(y,d.coercions),typeof u=="function"))try{let f=S(y,u(l[y]));[].concat(d.aliases[y]||[],y).forEach(j=>{O.add(j),l[j]=f})}catch(f){H=f}})}function Bt(l){return d.keys.forEach(u=>{~u.indexOf(".")||typeof l[u]>"u"&&(l[u]=void 0)}),l}function X(l,u,O,y=!1){Object.keys(O).forEach(function(f){St(l,f.split("."))||(jt(l,f.split("."),O[f]),y&&(E[f]=!0),(u[f]||[]).forEach(function(j){St(l,j.split("."))||jt(l,j.split("."),O[f])}))})}function St(l,u){let O=l;c["dot-notation"]||(u=[u.join(".")]),u.slice(0,-1).forEach(function(f){O=O[f]||{}});let y=u[u.length-1];return typeof O!="object"?!1:y in O}function jt(l,u,O){let y=l;c["dot-notation"]||(u=[u.join(".")]),u.slice(0,-1).forEach(function(st){st=Nn(st),typeof y=="object"&&y[st]===void 0&&(y[st]={}),typeof y[st]!="object"||Array.isArray(y[st])?(Array.isArray(y[st])?y[st].push({}):y[st]=[y[st],{}],y=y[st][y[st].length-1]):y=y[st]});let f=Nn(u[u.length-1]),j=v(u.join("."),d.arrays),C=Array.isArray(O),M=c["duplicate-arguments-array"];!M&&v(f,d.nargs)&&(M=!0,(!Et(y[f])&&d.nargs[f]===1||Array.isArray(y[f])&&y[f].length===d.nargs[f])&&(y[f]=void 0)),O===Ke()?y[f]=Ke(y[f]):Array.isArray(y[f])?M&&j&&C?y[f]=c["flatten-duplicate-arrays"]?y[f].concat(O):(Array.isArray(y[f][0])?y[f]:[y[f]]).concat([O]):!M&&Boolean(j)===Boolean(C)?y[f]=O:y[f]=y[f].concat([O]):y[f]===void 0&&j?y[f]=C?O:[O]:M&&!(y[f]===void 0||v(f,d.counts)||v(f,d.bools))?y[f]=[y[f],O]:y[f]=O}function Wt(...l){l.forEach(function(u){Object.keys(u||{}).forEach(function(O){d.aliases[O]||(d.aliases[O]=[].concat(a[O]||[]),d.aliases[O].concat(O).forEach(function(y){if(/-/.test(y)&&c["camel-case-expansion"]){let f=Ut(y);f!==O&&d.aliases[O].indexOf(f)===-1&&(d.aliases[O].push(f),w[f]=!0)}}),d.aliases[O].concat(O).forEach(function(y){if(y.length>1&&/[A-Z]/.test(y)&&c["camel-case-expansion"]){let f=Oe(y,"-");f!==O&&d.aliases[O].indexOf(f)===-1&&(d.aliases[O].push(f),w[f]=!0)}}),d.aliases[O].forEach(function(y){d.aliases[y]=[O].concat(d.aliases[O].filter(function(f){return y!==f}))}))})})}function v(l,u){let O=[].concat(d.aliases[l]||[],l),y=Object.keys(u),f=O.find(j=>y.includes(j));return f?u[f]:!1}function ze(l){let u=Object.keys(d);return[].concat(u.map(y=>d[y])).some(function(y){return Array.isArray(y)?y.includes(l):y[l]})}function D(l,...u){return[].concat(...u).some(function(y){let f=l.match(y);return f&&ze(f[1])})}function q(l){if(l.match(L)||!l.match(/^-[^-]+/))return!1;let u=!0,O,y=l.slice(1).split("");for(let f=0;f<y.length;f++){if(O=l.slice(f+2),!ze(y[f])){u=!1;break}if(y[f+1]&&y[f+1]==="="||O==="-"||/[A-Za-z]/.test(y[f])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(O)||y[f+1]&&y[f+1].match(/\W/))break}return u}function J(l){return c["unknown-options-as-args"]&&W(l)}function W(l){return l=l.replace(/^-{3,}/,"--"),l.match(L)||q(l)?!1:!D(l,/^-+([^=]+?)=[\s\S]*$/,R,/^-+([^=]+?)$/,/^-+([^=]+?)-$/,/^-+([^=]+?\d+)$/,/^-+([^=]+?)\W+.*$/)}function Q(l){return!v(l,d.bools)&&!v(l,d.counts)&&`${l}`in m?m[l]:k(Ot(l))}function k(l){return{[gt.BOOLEAN]:!0,[gt.STRING]:"",[gt.NUMBER]:void 0,[gt.ARRAY]:[]}[l]}function Ot(l){let u=gt.BOOLEAN;return v(l,d.strings)?u=gt.STRING:v(l,d.numbers)?u=gt.NUMBER:v(l,d.bools)?u=gt.BOOLEAN:v(l,d.arrays)&&(u=gt.ARRAY),u}function Et(l){return l===void 0}function ye(){Object.keys(d.counts).find(l=>v(l,d.arrays)?(H=Error(_("Invalid configuration: %s, opts.count excludes opts.array.",l)),!0):v(l,d.nargs)?(H=Error(_("Invalid configuration: %s, opts.count excludes opts.narg.",l)),!0):!1)}return{aliases:Object.assign({},d.aliases),argv:Object.assign(lt,Y),configuration:c,defaulted:Object.assign({},E),error:H,newAliases:Object.assign({},w)}}};function Ws(r){let t=[],e=Object.create(null),n=!0;for(Object.keys(r).forEach(function(s){t.push([].concat(r[s],s))});n;){n=!1;for(let s=0;s<t.length;s++)for(let i=s+1;i<t.length;i++)if(t[s].filter(function(c){return t[i].indexOf(c)!==-1}).length){t[s]=t[s].concat(t[i]),t.splice(i,1),n=!0;break}}return t.forEach(function(s){s=s.filter(function(a,c,m){return m.indexOf(a)===c});let i=s.pop();i!==void 0&&typeof i=="string"&&(e[i]=s)}),e}function Ke(r){return r!==void 0?r+1:1}function Nn(r){return r==="__proto__"?"___proto___":r}function Us(r){return typeof r=="string"&&(r[0]==="'"||r[0]==='"')&&r[r.length-1]===r[0]?r.substring(1,r.length-1):r}import{readFileSync as Vs}from"fs";var Ge,qe,Xe,Ln=process&&process.env&&process.env.YARGS_MIN_NODE_VERSION?Number(process.env.YARGS_MIN_NODE_VERSION):12,Rn=(qe=(Ge=process==null?void 0:process.versions)===null||Ge===void 0?void 0:Ge.node)!==null&&qe!==void 0?qe:(Xe=process==null?void 0:process.version)===null||Xe===void 0?void 0:Xe.slice(1);if(Rn&&Number(Rn.match(/^([^.]+)/)[1])<Ln)throw Error(`yargs parser supports a minimum Node.js version of ${Ln}. Read our version support policy: https://github.com/yargs/yargs-parser#supported-nodejs-versions`);var Ks=process?process.env:{},Bn=new xe({cwd:process.cwd,env:()=>Ks,format:zs,normalize:Hs,resolve:Ys,require:r=>{if(typeof Ct<"u")return Ct(r);if(r.match(/\.json$/))return JSON.parse(Vs(r,"utf8"));throw Error("only .json config files are supported in ESM")}}),ae=function(t,e){return Bn.parse(t.slice(),e).argv};ae.detailed=function(r,t){return Bn.parse(r.slice(),t)};ae.camelCase=Ut;ae.decamelize=Oe;ae.looksLikeNumber=Ee;var Je=ae;import{basename as oi,dirname as ai,extname as ci,relative as li,resolve as Vn}from"path";function Wn(){return Gs()?0:1}function Gs(){return qs()&&!process.defaultApp}function qs(){return!!process.versions.electron}function Qe(r){return r.slice(Wn()+1)}function Un(){return process.argv[Wn()]}var K=class extends Error{constructor(t){super(t||"yargs error"),this.name="YError",Error.captureStackTrace&&Error.captureStackTrace(this,K)}};import{readFileSync as Xs,statSync as Js,writeFile as Qs}from"fs";import{format as Zs}from"util";import{resolve as ks}from"path";var zn={fs:{readFileSync:Xs,writeFile:Qs},format:Zs,resolve:ks,exists:r=>{try{return Js(r).isFile()}catch{return!1}}};var xt,Ze=class{constructor(t){t=t||{},this.directory=t.directory||"./locales",this.updateFiles=typeof t.updateFiles=="boolean"?t.updateFiles:!0,this.locale=t.locale||"en",this.fallbackToLanguage=typeof t.fallbackToLanguage=="boolean"?t.fallbackToLanguage:!0,this.cache=Object.create(null),this.writeQueue=[]}__(...t){if(typeof arguments[0]!="string")return this._taggedLiteral(arguments[0],...arguments);let e=t.shift(),n=function(){};return typeof t[t.length-1]=="function"&&(n=t.pop()),n=n||function(){},this.cache[this.locale]||this._readLocaleFile(),!this.cache[this.locale][e]&&this.updateFiles?(this.cache[this.locale][e]=e,this._enqueueWrite({directory:this.directory,locale:this.locale,cb:n})):n(),xt.format.apply(xt.format,[this.cache[this.locale][e]||e].concat(t))}__n(){let t=Array.prototype.slice.call(arguments),e=t.shift(),n=t.shift(),s=t.shift(),i=function(){};typeof t[t.length-1]=="function"&&(i=t.pop()),this.cache[this.locale]||this._readLocaleFile();let a=s===1?e:n;this.cache[this.locale][e]&&(a=this.cache[this.locale][e][s===1?"one":"other"]),!this.cache[this.locale][e]&&this.updateFiles?(this.cache[this.locale][e]={one:e,other:n},this._enqueueWrite({directory:this.directory,locale:this.locale,cb:i})):i();let c=[a];return~a.indexOf("%d")&&c.push(s),xt.format.apply(xt.format,c.concat(t))}setLocale(t){this.locale=t}getLocale(){return this.locale}updateLocale(t){this.cache[this.locale]||this._readLocaleFile();for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&(this.cache[this.locale][e]=t[e])}_taggedLiteral(t,...e){let n="";return t.forEach(function(s,i){let a=e[i+1];n+=s,typeof a<"u"&&(n+="%s")}),this.__.apply(this,[n].concat([].slice.call(e,1)))}_enqueueWrite(t){this.writeQueue.push(t),this.writeQueue.length===1&&this._processWriteQueue()}_processWriteQueue(){let t=this,e=this.writeQueue[0],n=e.directory,s=e.locale,i=e.cb,a=this._resolveLocaleFile(n,s),c=JSON.stringify(this.cache[s],null,2);xt.fs.writeFile(a,c,"utf-8",function(m){t.writeQueue.shift(),t.writeQueue.length>0&&t._processWriteQueue(),i(m)})}_readLocaleFile(){let t={},e=this._resolveLocaleFile(this.directory,this.locale);try{xt.fs.readFileSync&&(t=JSON.parse(xt.fs.readFileSync(e,"utf-8")))}catch(n){if(n instanceof SyntaxError&&(n.message="syntax error in "+e),n.code==="ENOENT")t={};else throw n}this.cache[this.locale]=t}_resolveLocaleFile(t,e){let n=xt.resolve(t,"./",e+".json");if(this.fallbackToLanguage&&!this._fileExistsSync(n)&&~e.lastIndexOf("_")){let s=xt.resolve(t,"./",e.split("_")[0]+".json");this._fileExistsSync(s)&&(n=s)}return n}_fileExistsSync(t){return xt.exists(t)}};function Hn(r,t){xt=t;let e=new Ze(r);return{__:e.__.bind(e),__n:e.__n.bind(e),setLocale:e.setLocale.bind(e),getLocale:e.getLocale.bind(e),updateLocale:e.updateLocale.bind(e),locale:e.locale}}var ti=r=>Hn(r,zn),Yn=ti;var fi="require is not supported by ESM",Kn="loading a directory of commands is not supported yet for ESM",ce;try{ce=ri(import.meta.url)}catch{ce=process.cwd()}var ui=ce.substring(0,ce.lastIndexOf("node_modules")),ke={assert:{notStrictEqual:ei,strictEqual:ni},cliui:Ve,findUp:$n,getEnv:r=>process.env[r],inspect:si,getCallerFile:()=>{throw new K(Kn)},getProcessArgvBin:Un,mainFilename:ui||process.cwd(),Parser:Je,path:{basename:oi,dirname:ai,extname:ci,relative:li,resolve:Vn},process:{argv:()=>process.argv,cwd:process.cwd,emitWarning:(r,t)=>process.emitWarning(r,t),execPath:()=>process.execPath,exit:process.exit,nextTick:process.nextTick,stdColumns:typeof process.stdout.columns<"u"?process.stdout.columns:null},readFileSync:ii,require:()=>{throw new K(fi)},requireDirectory:()=>{throw new K(Kn)},stringWidth:r=>[...r].length,y18n:Yn({directory:Vn(ce,"../../../locales"),updateFiles:!1})};function ct(r,t,e,n){e.assert.notStrictEqual(r,t,n)}function tn(r,t){t.assert.strictEqual(typeof r,"string")}function ee(r){return Object.keys(r)}function G(r){return!!r&&!!r.then&&typeof r.then=="function"}function Mt(r){let e=r.replace(/\s{2,}/g," ").split(/\s+(?![^[]*]|[^<]*>)/),n=/\.*[\][<>]/g,s=e.shift();if(!s)throw new Error(`No command found in: ${r}`);let i={cmd:s.replace(n,""),demanded:[],optional:[]};return e.forEach((a,c)=>{let m=!1;a=a.replace(/\s/g,""),/\.+[\]>]/.test(a)&&c===e.length-1&&(m=!0),/^\[/.test(a)?i.optional.push({cmd:a.replace(n,"").split("|"),variadic:m}):i.demanded.push({cmd:a.replace(n,"").split("|"),variadic:m})}),i}var hi=["first","second","third","fourth","fifth","sixth"];function A(r,t,e){function n(){return typeof r=="object"?[{demanded:[],optional:[]},r,t]:[Mt(`cmd ${r}`),t,e]}try{let s=0,[i,a,c]=n(),m=[].slice.call(a);for(;m.length&&m[m.length-1]===void 0;)m.pop();let b=c||m.length;if(b<i.demanded.length)throw new K(`Not enough arguments provided. Expected ${i.demanded.length} but received ${m.length}.`);let p=i.demanded.length+i.optional.length;if(b>p)throw new K(`Too many arguments provided. Expected max ${p} but received ${b}.`);i.demanded.forEach(h=>{let g=m.shift(),w=Gn(g);h.cmd.filter(_=>_===w||_==="*").length===0&&qn(w,h.cmd,s),s+=1}),i.optional.forEach(h=>{if(m.length===0)return;let g=m.shift(),w=Gn(g);h.cmd.filter(_=>_===w||_==="*").length===0&&qn(w,h.cmd,s),s+=1})}catch(s){console.warn(s.stack)}}function Gn(r){return Array.isArray(r)?"array":r===null?"null":typeof r}function qn(r,t,e){throw new K(`Invalid ${hi[e]||"manyith"} argument. Expected ${t.join(" or ")} but received ${r}.`)}var Ce=class{constructor(t){this.globalMiddleware=[],this.frozens=[],this.yargs=t}addMiddleware(t,e,n=!0,s=!1){if(A("<array|function> [boolean] [boolean] [boolean]",[t,e,n],arguments.length),Array.isArray(t)){for(let i=0;i<t.length;i++){if(typeof t[i]!="function")throw Error("middleware must be a function");let a=t[i];a.applyBeforeValidation=e,a.global=n}Array.prototype.push.apply(this.globalMiddleware,t)}else if(typeof t=="function"){let i=t;i.applyBeforeValidation=e,i.global=n,i.mutates=s,this.globalMiddleware.push(t)}return this.yargs}addCoerceMiddleware(t,e){let n=this.yargs.getAliases();return this.globalMiddleware=this.globalMiddleware.filter(s=>{let i=[...n[e]||[],e];return s.option?!i.includes(s.option):!0}),t.option=e,this.addMiddleware(t,!0,!0,!0)}getMiddleware(){return this.globalMiddleware}freeze(){this.frozens.push([...this.globalMiddleware])}unfreeze(){let t=this.frozens.pop();t!==void 0&&(this.globalMiddleware=t)}reset(){this.globalMiddleware=this.globalMiddleware.filter(t=>t.global)}};function Xn(r){return r?r.map(t=>(t.applyBeforeValidation=!1,t)):[]}function zt(r,t,e,n){return e.reduce((s,i)=>{if(i.applyBeforeValidation!==n)return s;if(i.mutates){if(i.applied)return s;i.applied=!0}if(G(s))return s.then(a=>Promise.all([a,i(a,t)])).then(([a,c])=>Object.assign(a,c));{let a=i(s,t);return G(a)?a.then(c=>Object.assign(s,c)):Object.assign(s,a)}},r)}function Ht(r,t,e=n=>{throw n}){try{let n=di(r)?r():r;return G(n)?n.then(s=>t(s)):t(n)}catch(n){return e(n)}}function di(r){return typeof r=="function"}function en(r){if(typeof Ct>"u")return null;for(let t=0,e=Object.keys(Ct.cache),n;t<e.length;t++)if(n=Ct.cache[e[t]],n.exports===r)return n;return null}var ne=/(^\*)|(^\$0)/,nn=class{constructor(t,e,n,s){this.requireCache=new Set,this.handlers={},this.aliasMap={},this.frozens=[],this.shim=s,this.usage=t,this.globalMiddleware=n,this.validation=e}addDirectory(t,e,n,s){s=s||{},typeof s.recurse!="boolean"&&(s.recurse=!1),Array.isArray(s.extensions)||(s.extensions=["js"]);let i=typeof s.visit=="function"?s.visit:a=>a;s.visit=(a,c,m)=>{let b=i(a,c,m);if(b){if(this.requireCache.has(c))return b;this.requireCache.add(c),this.addHandler(b)}return b},this.shim.requireDirectory({require:e,filename:n},t,s)}addHandler(t,e,n,s,i,a){let c=[],m=Xn(i);if(s=s||(()=>{}),Array.isArray(t))if(pi(t))[t,...c]=t;else for(let b of t)this.addHandler(b);else if(gi(t)){let b=Array.isArray(t.command)||typeof t.command=="string"?t.command:this.moduleName(t);t.aliases&&(b=[].concat(b).concat(t.aliases)),this.addHandler(b,this.extractDesc(t),t.builder,t.handler,t.middlewares,t.deprecated);return}else if(Jn(n)){this.addHandler([t].concat(c),e,n.builder,n.handler,n.middlewares,n.deprecated);return}if(typeof t=="string"){let b=Mt(t);c=c.map(g=>Mt(g).cmd);let p=!1,h=[b.cmd].concat(c).filter(g=>ne.test(g)?(p=!0,!1):!0);h.length===0&&p&&h.push("$0"),p&&(b.cmd=h[0],c=h.slice(1),t=t.replace(ne,b.cmd)),c.forEach(g=>{this.aliasMap[g]=b.cmd}),e!==!1&&this.usage.command(t,e,p,c,a),this.handlers[b.cmd]={original:t,description:e,handler:s,builder:n||{},middlewares:m,deprecated:a,demanded:b.demanded,optional:b.optional},p&&(this.defaultCommand=this.handlers[b.cmd])}}getCommandHandlers(){return this.handlers}getCommands(){return Object.keys(this.handlers).concat(Object.keys(this.aliasMap))}hasDefaultCommand(){return!!this.defaultCommand}runCommand(t,e,n,s,i,a){let c=this.handlers[t]||this.handlers[this.aliasMap[t]]||this.defaultCommand,m=e.getInternalMethods().getContext(),b=m.commands.slice(),p=!t;t&&(m.commands.push(t),m.fullCommands.push(c.original));let h=this.applyBuilderUpdateUsageAndParse(p,c,e,n.aliases,b,s,i,a);return G(h)?h.then(g=>this.applyMiddlewareAndGetResult(p,c,g.innerArgv,m,i,g.aliases,e)):this.applyMiddlewareAndGetResult(p,c,h.innerArgv,m,i,h.aliases,e)}applyBuilderUpdateUsageAndParse(t,e,n,s,i,a,c,m){let b=e.builder,p=n;if(Ae(b)){n.getInternalMethods().getUsageInstance().freeze();let h=b(n.getInternalMethods().reset(s),m);if(G(h))return h.then(g=>(p=Zn(g)?g:n,this.parseAndUpdateUsage(t,e,p,i,a,c)))}else mi(b)&&(n.getInternalMethods().getUsageInstance().freeze(),p=n.getInternalMethods().reset(s),Object.keys(e.builder).forEach(h=>{p.option(h,b[h])}));return this.parseAndUpdateUsage(t,e,p,i,a,c)}parseAndUpdateUsage(t,e,n,s,i,a){t&&n.getInternalMethods().getUsageInstance().unfreeze(!0),this.shouldUpdateUsage(n)&&n.getInternalMethods().getUsageInstance().usage(this.usageFromParentCommandsCommandHandler(s,e),e.description);let c=n.getInternalMethods().runYargsParserAndExecuteCommands(null,void 0,!0,i,a);return G(c)?c.then(m=>({aliases:n.parsed.aliases,innerArgv:m})):{aliases:n.parsed.aliases,innerArgv:c}}shouldUpdateUsage(t){return!t.getInternalMethods().getUsageInstance().getUsageDisabled()&&t.getInternalMethods().getUsageInstance().getUsage().length===0}usageFromParentCommandsCommandHandler(t,e){let n=ne.test(e.original)?e.original.replace(ne,"").trim():e.original,s=t.filter(i=>!ne.test(i));return s.push(n),`$0 ${s.join(" ")}`}handleValidationAndGetResult(t,e,n,s,i,a,c,m){if(!a.getInternalMethods().getHasOutput()){let b=a.getInternalMethods().runValidation(i,m,a.parsed.error,t);n=Ht(n,p=>(b(p),p))}if(e.handler&&!a.getInternalMethods().getHasOutput()){a.getInternalMethods().setHasOutput();let b=!!a.getOptions().configuration["populate--"];a.getInternalMethods().postProcess(n,b,!1,!1),n=zt(n,a,c,!1),n=Ht(n,p=>{let h=e.handler(p);return G(h)?h.then(()=>p):p}),t||a.getInternalMethods().getUsageInstance().cacheHelpMessage(),G(n)&&!a.getInternalMethods().hasParseCallback()&&n.catch(p=>{try{a.getInternalMethods().getUsageInstance().fail(null,p)}catch{}})}return t||(s.commands.pop(),s.fullCommands.pop()),n}applyMiddlewareAndGetResult(t,e,n,s,i,a,c){let m={};if(i)return n;c.getInternalMethods().getHasOutput()||(m=this.populatePositionals(e,n,s,c));let b=this.globalMiddleware.getMiddleware().slice(0).concat(e.middlewares),p=zt(n,c,b,!0);return G(p)?p.then(h=>this.handleValidationAndGetResult(t,e,h,s,a,c,b,m)):this.handleValidationAndGetResult(t,e,p,s,a,c,b,m)}populatePositionals(t,e,n,s){e._=e._.slice(n.commands.length);let i=t.demanded.slice(0),a=t.optional.slice(0),c={};for(this.validation.positionalCount(i.length,e._.length);i.length;){let m=i.shift();this.populatePositional(m,e,c)}for(;a.length;){let m=a.shift();this.populatePositional(m,e,c)}return e._=n.commands.concat(e._.map(m=>""+m)),this.postProcessPositionals(e,c,this.cmdToParseOptions(t.original),s),c}populatePositional(t,e,n){let s=t.cmd[0];t.variadic?n[s]=e._.splice(0).map(String):e._.length&&(n[s]=[String(e._.shift())])}cmdToParseOptions(t){let e={array:[],default:{},alias:{},demand:{}},n=Mt(t);return n.demanded.forEach(s=>{let[i,...a]=s.cmd;s.variadic&&(e.array.push(i),e.default[i]=[]),e.alias[i]=a,e.demand[i]=!0}),n.optional.forEach(s=>{let[i,...a]=s.cmd;s.variadic&&(e.array.push(i),e.default[i]=[]),e.alias[i]=a}),e}postProcessPositionals(t,e,n,s){let i=Object.assign({},s.getOptions());i.default=Object.assign(n.default,i.default);for(let b of Object.keys(n.alias))i.alias[b]=(i.alias[b]||[]).concat(n.alias[b]);i.array=i.array.concat(n.array),i.config={};let a=[];if(Object.keys(e).forEach(b=>{e[b].map(p=>{i.configuration["unknown-options-as-args"]&&(i.key[b]=!0),a.push(`--${b}`),a.push(p)})}),!a.length)return;let c=Object.assign({},i.configuration,{"populate--":!1}),m=this.shim.Parser.detailed(a,Object.assign({},i,{configuration:c}));if(m.error)s.getInternalMethods().getUsageInstance().fail(m.error.message,m.error);else{let b=Object.keys(e);Object.keys(e).forEach(p=>{b.push(...m.aliases[p])}),Object.keys(m.argv).forEach(p=>{b.includes(p)&&(e[p]||(e[p]=m.argv[p]),!this.isInConfigs(s,p)&&!this.isDefaulted(s,p)&&Object.prototype.hasOwnProperty.call(t,p)&&Object.prototype.hasOwnProperty.call(m.argv,p)&&(Array.isArray(t[p])||Array.isArray(m.argv[p]))?t[p]=[].concat(t[p],m.argv[p]):t[p]=m.argv[p])})}}isDefaulted(t,e){let{default:n}=t.getOptions();return Object.prototype.hasOwnProperty.call(n,e)||Object.prototype.hasOwnProperty.call(n,this.shim.Parser.camelCase(e))}isInConfigs(t,e){let{configObjects:n}=t.getOptions();return n.some(s=>Object.prototype.hasOwnProperty.call(s,e))||n.some(s=>Object.prototype.hasOwnProperty.call(s,this.shim.Parser.camelCase(e)))}runDefaultBuilderOn(t){if(!this.defaultCommand)return;if(this.shouldUpdateUsage(t)){let n=ne.test(this.defaultCommand.original)?this.defaultCommand.original:this.defaultCommand.original.replace(/^[^[\]<>]*/,"$0 ");t.getInternalMethods().getUsageInstance().usage(n,this.defaultCommand.description)}let e=this.defaultCommand.builder;if(Ae(e))return e(t,!0);Jn(e)||Object.keys(e).forEach(n=>{t.option(n,e[n])})}moduleName(t){let e=en(t);if(!e)throw new Error(`No command name given for module: ${this.shim.inspect(t)}`);return this.commandFromFilename(e.filename)}commandFromFilename(t){return this.shim.path.basename(t,this.shim.path.extname(t))}extractDesc({describe:t,description:e,desc:n}){for(let s of[t,e,n]){if(typeof s=="string"||s===!1)return s;ct(s,!0,this.shim)}return!1}freeze(){this.frozens.push({handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand})}unfreeze(){let t=this.frozens.pop();ct(t,void 0,this.shim),{handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand}=t}reset(){return this.handlers={},this.aliasMap={},this.defaultCommand=void 0,this.requireCache=new Set,this}};function Qn(r,t,e,n){return new nn(r,t,e,n)}function Jn(r){return typeof r=="object"&&!!r.builder&&typeof r.handler=="function"}function pi(r){return r.every(t=>typeof t=="string")}function Ae(r){return typeof r=="function"}function mi(r){return typeof r=="object"}function gi(r){return typeof r=="object"&&!Array.isArray(r)}function Dt(r={},t=()=>!0){let e={};return ee(r).forEach(n=>{t(n,r[n])&&(e[n]=r[n])}),e}function vt(r){typeof process>"u"||[process.stdout,process.stderr].forEach(t=>{let e=t;e._handle&&e.isTTY&&typeof e._handle.setBlocking=="function"&&e._handle.setBlocking(r)})}function bi(r){return typeof r=="boolean"}function ts(r,t){let e=t.y18n.__,n={},s=[];n.failFn=function(x){s.push(x)};let i=null,a=null,c=!0;n.showHelpOnFail=function(x=!0,S){let[N,z]=typeof x=="string"?[!0,x]:[x,S];return r.getInternalMethods().isGlobalContext()&&(a=z),i=z,c=N,n};let m=!1;n.fail=function(x,S){let N=r.getInternalMethods().getLoggerInstance();if(s.length)for(let z=s.length-1;z>=0;--z){let et=s[z];if(bi(et)){if(S)throw S;if(x)throw Error(x)}else et(x,S,n)}else{if(r.getExitProcess()&&vt(!0),!m){m=!0,c&&(r.showHelp("error"),N.error()),(x||S)&&N.error(x||S);let z=i||a;z&&((x||S)&&N.error(""),N.error(z))}if(S=S||new K(x),r.getExitProcess())return r.exit(1);if(r.getInternalMethods().hasParseCallback())return r.exit(1,S);throw S}};let b=[],p=!1;n.usage=(I,x)=>I===null?(p=!0,b=[],n):(p=!1,b.push([I,x||""]),n),n.getUsage=()=>b,n.getUsageDisabled=()=>p,n.getPositionalGroupName=()=>e("Positionals:");let h=[];n.example=(I,x)=>{h.push([I,x||""])};let g=[];n.command=function(x,S,N,z,et=!1){N&&(g=g.map(U=>(U[2]=!1,U))),g.push([x,S||"",N,z,et])},n.getCommands=()=>g;let w={};n.describe=function(x,S){Array.isArray(x)?x.forEach(N=>{n.describe(N,S)}):typeof x=="object"?Object.keys(x).forEach(N=>{n.describe(N,x[N])}):w[x]=S},n.getDescriptions=()=>w;let E=[];n.epilog=I=>{E.push(I)};let _=!1,d;n.wrap=I=>{_=!0,d=I},n.getWrap=()=>t.getEnv("YARGS_DISABLE_WRAP")?null:(_||(d=Ft(),_=!0),d);let L="__yargsString__:";n.deferY18nLookup=I=>L+I,n.help=function(){if(B)return B;H();let x=r.customScriptName?r.$0:t.path.basename(r.$0),S=r.getDemandedOptions(),N=r.getDemandedCommands(),z=r.getDeprecatedOptions(),et=r.getGroups(),U=r.getOptions(),nt=[];nt=nt.concat(Object.keys(w)),nt=nt.concat(Object.keys(S)),nt=nt.concat(Object.keys(N)),nt=nt.concat(Object.keys(U.default)),nt=nt.filter(lt),nt=Object.keys(nt.reduce((D,q)=>(q!=="_"&&(D[q]=!0),D),{}));let Bt=n.getWrap(),X=t.cliui({width:Bt,wrap:!!Bt});if(!p){if(b.length)b.forEach(D=>{X.div({text:`${D[0].replace(/\$0/g,x)}`}),D[1]&&X.div({text:`${D[1]}`,padding:[1,0,0,0]})}),X.div();else if(g.length){let D=null;N._?D=`${x} <${e("command")}>
`:D=`${x} [${e("command")}]
`,X.div(`${D}`)}}if(g.length>1||g.length===1&&!g[0][2]){X.div(e("Commands:"));let D=r.getInternalMethods().getContext(),q=D.commands.length?`${D.commands.join(" ")} `:"";r.getInternalMethods().getParserConfiguration()["sort-commands"]===!0&&(g=g.sort((W,Q)=>W[0].localeCompare(Q[0])));let J=x?`${x} `:"";g.forEach(W=>{let Q=`${J}${q}${W[0].replace(/^\$0 ?/,"")}`;X.span({text:Q,padding:[0,2,0,2],width:R(g,Bt,`${x}${q}`)+4},{text:W[1]});let k=[];W[2]&&k.push(`[${e("default")}]`),W[3]&&W[3].length&&k.push(`[${e("aliases:")} ${W[3].join(", ")}]`),W[4]&&(typeof W[4]=="string"?k.push(`[${e("deprecated: %s",W[4])}]`):k.push(`[${e("deprecated")}]`)),k.length?X.div({text:k.join(" "),padding:[0,0,0,2],align:"right"}):X.div()}),X.div()}let St=(Object.keys(U.alias)||[]).concat(Object.keys(r.parsed.newAliases)||[]);nt=nt.filter(D=>!r.parsed.newAliases[D]&&St.every(q=>(U.alias[q]||[]).indexOf(D)===-1));let jt=e("Options:");et[jt]||(et[jt]=[]),Y(nt,U.alias,et,jt);let Wt=D=>/^--/.test(Pe(D)),v=Object.keys(et).filter(D=>et[D].length>0).map(D=>{let q=et[D].filter(lt).map(J=>{if(St.includes(J))return J;for(let W=0,Q;(Q=St[W])!==void 0;W++)if((U.alias[Q]||[]).includes(J))return Q;return J});return{groupName:D,normalizedKeys:q}}).filter(({normalizedKeys:D})=>D.length>0).map(({groupName:D,normalizedKeys:q})=>{let J=q.reduce((W,Q)=>(W[Q]=[Q].concat(U.alias[Q]||[]).map(k=>D===n.getPositionalGroupName()?k:(/^[0-9]$/.test(k)?U.boolean.includes(Q)?"-":"--":k.length>1?"--":"-")+k).sort((k,Ot)=>Wt(k)===Wt(Ot)?0:Wt(k)?1:-1).join(", "),W),{});return{groupName:D,normalizedKeys:q,switches:J}});if(v.filter(({groupName:D})=>D!==n.getPositionalGroupName()).some(({normalizedKeys:D,switches:q})=>!D.every(J=>Wt(q[J])))&&v.filter(({groupName:D})=>D!==n.getPositionalGroupName()).forEach(({normalizedKeys:D,switches:q})=>{D.forEach(J=>{Wt(q[J])&&(q[J]=yi(q[J],4))})}),v.forEach(({groupName:D,normalizedKeys:q,switches:J})=>{X.div(D),q.forEach(W=>{let Q=J[W],k=w[W]||"",Ot=null;k.includes(L)&&(k=e(k.substring(L.length))),U.boolean.includes(W)&&(Ot=`[${e("boolean")}]`),U.count.includes(W)&&(Ot=`[${e("count")}]`),U.string.includes(W)&&(Ot=`[${e("string")}]`),U.normalize.includes(W)&&(Ot=`[${e("string")}]`),U.array.includes(W)&&(Ot=`[${e("array")}]`),U.number.includes(W)&&(Ot=`[${e("number")}]`);let Et=u=>typeof u=="string"?`[${e("deprecated: %s",u)}]`:`[${e("deprecated")}]`,ye=[W in z?Et(z[W]):null,Ot,W in S?`[${e("required")}]`:null,U.choices&&U.choices[W]?`[${e("choices:")} ${n.stringifiedValues(U.choices[W])}]`:null,ot(U.default[W],U.defaultDescription[W])].filter(Boolean).join(" ");X.span({text:Pe(Q),padding:[0,2,0,2+kn(Q)],width:R(J,Bt)+4},k);let l=r.getInternalMethods().getUsageConfiguration()["hide-types"]===!0;ye&&!l?X.div({text:ye,padding:[0,0,0,2],align:"right"}):X.div()}),X.div()}),h.length&&(X.div(e("Examples:")),h.forEach(D=>{D[0]=D[0].replace(/\$0/g,x)}),h.forEach(D=>{D[1]===""?X.div({text:D[0],padding:[0,2,0,2]}):X.div({text:D[0],padding:[0,2,0,2],width:R(h,Bt)+4},{text:D[1]})}),X.div()),E.length>0){let D=E.map(q=>q.replace(/\$0/g,x)).join(`
`);X.div(`${D}
`)}return X.toString().replace(/\s*$/,"")};function R(I,x,S){let N=0;return Array.isArray(I)||(I=Object.values(I).map(z=>[z])),I.forEach(z=>{N=Math.max(t.stringWidth(S?`${S} ${Pe(z[0])}`:Pe(z[0]))+kn(z[0]),N)}),x&&(N=Math.min(N,parseInt((x*.5).toString(),10))),N}function H(){let I=r.getDemandedOptions(),x=r.getOptions();(Object.keys(x.alias)||[]).forEach(S=>{x.alias[S].forEach(N=>{w[N]&&n.describe(S,w[N]),N in I&&r.demandOption(S,I[N]),x.boolean.includes(N)&&r.boolean(S),x.count.includes(N)&&r.count(S),x.string.includes(N)&&r.string(S),x.normalize.includes(N)&&r.normalize(S),x.array.includes(N)&&r.array(S),x.number.includes(N)&&r.number(S)})})}let B;n.cacheHelpMessage=function(){B=this.help()},n.clearCachedHelpMessage=function(){B=void 0},n.hasCachedHelpMessage=function(){return!!B};function Y(I,x,S,N){let z=[],et=null;return Object.keys(S).forEach(U=>{z=z.concat(S[U])}),I.forEach(U=>{et=[U].concat(x[U]),et.some(nt=>z.indexOf(nt)!==-1)||S[N].push(U)}),z}function lt(I){return r.getOptions().hiddenOptions.indexOf(I)<0||r.parsed.argv[r.getOptions().showHiddenOpt]}n.showHelp=I=>{let x=r.getInternalMethods().getLoggerInstance();I||(I="error"),(typeof I=="function"?I:x[I])(n.help())},n.functionDescription=I=>{let x=I.name?t.Parser.decamelize(I.name,"-"):e("generated-value");return["(",x,")"].join("")},n.stringifiedValues=function(x,S){let N="",z=S||", ",et=[].concat(x);return!x||!et.length||et.forEach(U=>{N.length&&(N+=z),N+=JSON.stringify(U)}),N};function ot(I,x){let S=`[${e("default:")} `;if(I===void 0&&!x)return null;if(x)S+=x;else switch(typeof I){case"string":S+=`"${I}"`;break;case"object":S+=JSON.stringify(I);break;default:S+=I}return`${S}]`}function Ft(){return t.process.stdColumns?Math.min(80,t.process.stdColumns):80}let Rt=null;n.version=I=>{Rt=I},n.showVersion=I=>{let x=r.getInternalMethods().getLoggerInstance();I||(I="error"),(typeof I=="function"?I:x[I])(Rt)},n.reset=function(x){return i=null,m=!1,b=[],p=!1,E=[],h=[],g=[],w=Dt(w,S=>!x[S]),n};let V=[];return n.freeze=function(){V.push({failMessage:i,failureOutput:m,usages:b,usageDisabled:p,epilogs:E,examples:h,commands:g,descriptions:w})},n.unfreeze=function(x=!1){let S=V.pop();!S||(x?(w={...S.descriptions,...w},g=[...S.commands,...g],b=[...S.usages,...b],h=[...S.examples,...h],E=[...S.epilogs,...E]):{failMessage:i,failureOutput:m,usages:b,usageDisabled:p,epilogs:E,examples:h,commands:g,descriptions:w}=S)},n}function sn(r){return typeof r=="object"}function yi(r,t){return sn(r)?{text:r.text,indentation:r.indentation+t}:{text:r,indentation:t}}function kn(r){return sn(r)?r.indentation:0}function Pe(r){return sn(r)?r.text:r}var es=`###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.bashrc
#    or {{app_path}} {{completion_command}} >> ~/.bash_profile on OSX.
#
_{{app_name}}_yargs_completions()
{
    local cur_word args type_list

    cur_word="\${COMP_WORDS[COMP_CWORD]}"
    args=("\${COMP_WORDS[@]}")

    # ask yargs to generate completions.
    type_list=$({{app_path}} --get-yargs-completions "\${args[@]}")

    COMPREPLY=( $(compgen -W "\${type_list}" -- \${cur_word}) )

    # if no match was found, fall back to filename completion
    if [ \${#COMPREPLY[@]} -eq 0 ]; then
      COMPREPLY=()
    fi

    return 0
}
complete -o bashdefault -o default -F _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`,ns=`#compdef {{app_name}}
###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.zshrc
#    or {{app_path}} {{completion_command}} >> ~/.zprofile on OSX.
#
_{{app_name}}_yargs_completions()
{
  local reply
  local si=$IFS
  IFS=$'
' reply=($(COMP_CWORD="$((CURRENT-1))" COMP_LINE="$BUFFER" COMP_POINT="$CURSOR" {{app_path}} --get-yargs-completions "\${words[@]}"))
  IFS=$si
  _describe 'values' reply
}
compdef _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`;var rn=class{constructor(t,e,n,s){var i,a,c;this.yargs=t,this.usage=e,this.command=n,this.shim=s,this.completionKey="get-yargs-completions",this.aliases=null,this.customCompletionFunction=null,this.indexAfterLastReset=0,this.zshShell=(c=((i=this.shim.getEnv("SHELL"))===null||i===void 0?void 0:i.includes("zsh"))||((a=this.shim.getEnv("ZSH_NAME"))===null||a===void 0?void 0:a.includes("zsh")))!==null&&c!==void 0?c:!1}defaultCompletion(t,e,n,s){let i=this.command.getCommandHandlers();for(let c=0,m=t.length;c<m;++c)if(i[t[c]]&&i[t[c]].builder){let b=i[t[c]].builder;if(Ae(b)){this.indexAfterLastReset=c+1;let p=this.yargs.getInternalMethods().reset();return b(p,!0),p.argv}}let a=[];this.commandCompletions(a,t,n),this.optionCompletions(a,t,e,n),this.choicesFromOptionsCompletions(a,t,e,n),this.choicesFromPositionalsCompletions(a,t,e,n),s(null,a)}commandCompletions(t,e,n){let s=this.yargs.getInternalMethods().getContext().commands;!n.match(/^-/)&&s[s.length-1]!==n&&!this.previousArgHasChoices(e)&&this.usage.getCommands().forEach(i=>{let a=Mt(i[0]).cmd;if(e.indexOf(a)===-1)if(!this.zshShell)t.push(a);else{let c=i[1]||"";t.push(a.replace(/:/g,"\\:")+":"+c)}})}optionCompletions(t,e,n,s){if((s.match(/^-/)||s===""&&t.length===0)&&!this.previousArgHasChoices(e)){let i=this.yargs.getOptions(),a=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[];Object.keys(i.key).forEach(c=>{let m=!!i.configuration["boolean-negation"]&&i.boolean.includes(c);!a.includes(c)&&!i.hiddenOptions.includes(c)&&!this.argsContainKey(e,c,m)&&this.completeOptionKey(c,t,s,m&&!!i.default[c])})}}choicesFromOptionsCompletions(t,e,n,s){if(this.previousArgHasChoices(e)){let i=this.getPreviousArgChoices(e);i&&i.length>0&&t.push(...i.map(a=>a.replace(/:/g,"\\:")))}}choicesFromPositionalsCompletions(t,e,n,s){if(s===""&&t.length>0&&this.previousArgHasChoices(e))return;let i=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[],a=Math.max(this.indexAfterLastReset,this.yargs.getInternalMethods().getContext().commands.length+1),c=i[n._.length-a-1];if(!c)return;let m=this.yargs.getOptions().choices[c]||[];for(let b of m)b.startsWith(s)&&t.push(b.replace(/:/g,"\\:"))}getPreviousArgChoices(t){if(t.length<1)return;let e=t[t.length-1],n="";if(!e.startsWith("-")&&t.length>1&&(n=e,e=t[t.length-2]),!e.startsWith("-"))return;let s=e.replace(/^-+/,""),i=this.yargs.getOptions(),a=[s,...this.yargs.getAliases()[s]||[]],c;for(let m of a)if(Object.prototype.hasOwnProperty.call(i.key,m)&&Array.isArray(i.choices[m])){c=i.choices[m];break}if(c)return c.filter(m=>!n||m.startsWith(n))}previousArgHasChoices(t){let e=this.getPreviousArgChoices(t);return e!==void 0&&e.length>0}argsContainKey(t,e,n){let s=i=>t.indexOf((/^[^0-9]$/.test(i)?"-":"--")+i)!==-1;if(s(e)||n&&s(`no-${e}`))return!0;if(this.aliases){for(let i of this.aliases[e])if(s(i))return!0}return!1}completeOptionKey(t,e,n,s){var i,a,c,m;let b=t;if(this.zshShell){let w=this.usage.getDescriptions(),E=(a=(i=this===null||this===void 0?void 0:this.aliases)===null||i===void 0?void 0:i[t])===null||a===void 0?void 0:a.find(L=>{let R=w[L];return typeof R=="string"&&R.length>0}),_=E?w[E]:void 0,d=(m=(c=w[t])!==null&&c!==void 0?c:_)!==null&&m!==void 0?m:"";b=`${t.replace(/:/g,"\\:")}:${d.replace("__yargsString__:","").replace(/(\r\n|\n|\r)/gm," ")}`}let p=w=>/^--/.test(w),h=w=>/^[^0-9]$/.test(w),g=!p(n)&&h(t)?"-":"--";e.push(g+b),s&&e.push(g+"no-"+b)}customCompletion(t,e,n,s){if(ct(this.customCompletionFunction,null,this.shim),_i(this.customCompletionFunction)){let i=this.customCompletionFunction(n,e);return G(i)?i.then(a=>{this.shim.process.nextTick(()=>{s(null,a)})}).catch(a=>{this.shim.process.nextTick(()=>{s(a,void 0)})}):s(null,i)}else return Oi(this.customCompletionFunction)?this.customCompletionFunction(n,e,(i=s)=>this.defaultCompletion(t,e,n,i),i=>{s(null,i)}):this.customCompletionFunction(n,e,i=>{s(null,i)})}getCompletion(t,e){let n=t.length?t[t.length-1]:"",s=this.yargs.parse(t,!0),i=this.customCompletionFunction?a=>this.customCompletion(t,a,n,e):a=>this.defaultCompletion(t,a,n,e);return G(s)?s.then(i):i(s)}generateCompletionScript(t,e){let n=this.zshShell?ns:es,s=this.shim.path.basename(t);return t.match(/\.js$/)&&(t=`./${t}`),n=n.replace(/{{app_name}}/g,s),n=n.replace(/{{completion_command}}/g,e),n.replace(/{{app_path}}/g,t)}registerFunction(t){this.customCompletionFunction=t}setParsed(t){this.aliases=t.aliases}};function ss(r,t,e,n){return new rn(r,t,e,n)}function _i(r){return r.length<3}function Oi(r){return r.length>3}function is(r,t){if(r.length===0)return t.length;if(t.length===0)return r.length;let e=[],n;for(n=0;n<=t.length;n++)e[n]=[n];let s;for(s=0;s<=r.length;s++)e[0][s]=s;for(n=1;n<=t.length;n++)for(s=1;s<=r.length;s++)t.charAt(n-1)===r.charAt(s-1)?e[n][s]=e[n-1][s-1]:n>1&&s>1&&t.charAt(n-2)===r.charAt(s-1)&&t.charAt(n-1)===r.charAt(s-2)?e[n][s]=e[n-2][s-2]+1:e[n][s]=Math.min(e[n-1][s-1]+1,Math.min(e[n][s-1]+1,e[n-1][s]+1));return e[t.length][r.length]}var rs=["$0","--","_"];function os(r,t,e){let n=e.y18n.__,s=e.y18n.__n,i={};i.nonOptionCount=function(h){let g=r.getDemandedCommands(),E=h._.length+(h["--"]?h["--"].length:0)-r.getInternalMethods().getContext().commands.length;g._&&(E<g._.min||E>g._.max)&&(E<g._.min?g._.minMsg!==void 0?t.fail(g._.minMsg?g._.minMsg.replace(/\$0/g,E.toString()).replace(/\$1/,g._.min.toString()):null):t.fail(s("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",E,E.toString(),g._.min.toString())):E>g._.max&&(g._.maxMsg!==void 0?t.fail(g._.maxMsg?g._.maxMsg.replace(/\$0/g,E.toString()).replace(/\$1/,g._.max.toString()):null):t.fail(s("Too many non-option arguments: got %s, maximum of %s","Too many non-option arguments: got %s, maximum of %s",E,E.toString(),g._.max.toString()))))},i.positionalCount=function(h,g){g<h&&t.fail(s("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",g,g+"",h+""))},i.requiredArguments=function(h,g){let w=null;for(let E of Object.keys(g))(!Object.prototype.hasOwnProperty.call(h,E)||typeof h[E]>"u")&&(w=w||{},w[E]=g[E]);if(w){let E=[];for(let d of Object.keys(w)){let L=w[d];L&&E.indexOf(L)<0&&E.push(L)}let _=E.length?`
${E.join(`
`)}`:"";t.fail(s("Missing required argument: %s","Missing required arguments: %s",Object.keys(w).length,Object.keys(w).join(", ")+_))}},i.unknownArguments=function(h,g,w,E,_=!0){var d;let L=r.getInternalMethods().getCommandInstance().getCommands(),R=[],H=r.getInternalMethods().getContext();if(Object.keys(h).forEach(B=>{!rs.includes(B)&&!Object.prototype.hasOwnProperty.call(w,B)&&!Object.prototype.hasOwnProperty.call(r.getInternalMethods().getParseContext(),B)&&!i.isValidAndSomeAliasIsNotNew(B,g)&&R.push(B)}),_&&(H.commands.length>0||L.length>0||E)&&h._.slice(H.commands.length).forEach(B=>{L.includes(""+B)||R.push(""+B)}),_){let Y=((d=r.getDemandedCommands()._)===null||d===void 0?void 0:d.max)||0,lt=H.commands.length+Y;lt<h._.length&&h._.slice(lt).forEach(ot=>{ot=String(ot),!H.commands.includes(ot)&&!R.includes(ot)&&R.push(ot)})}R.length&&t.fail(s("Unknown argument: %s","Unknown arguments: %s",R.length,R.map(B=>B.trim()?B:`"${B}"`).join(", ")))},i.unknownCommands=function(h){let g=r.getInternalMethods().getCommandInstance().getCommands(),w=[],E=r.getInternalMethods().getContext();return(E.commands.length>0||g.length>0)&&h._.slice(E.commands.length).forEach(_=>{g.includes(""+_)||w.push(""+_)}),w.length>0?(t.fail(s("Unknown command: %s","Unknown commands: %s",w.length,w.join(", "))),!0):!1},i.isValidAndSomeAliasIsNotNew=function(h,g){if(!Object.prototype.hasOwnProperty.call(g,h))return!1;let w=r.parsed.newAliases;return[h,...g[h]].some(E=>!Object.prototype.hasOwnProperty.call(w,E)||!w[h])},i.limitedChoices=function(h){let g=r.getOptions(),w={};if(!Object.keys(g.choices).length)return;Object.keys(h).forEach(d=>{rs.indexOf(d)===-1&&Object.prototype.hasOwnProperty.call(g.choices,d)&&[].concat(h[d]).forEach(L=>{g.choices[d].indexOf(L)===-1&&L!==void 0&&(w[d]=(w[d]||[]).concat(L))})});let E=Object.keys(w);if(!E.length)return;let _=n("Invalid values:");E.forEach(d=>{_+=`
  ${n("Argument: %s, Given: %s, Choices: %s",d,t.stringifiedValues(w[d]),t.stringifiedValues(g.choices[d]))}`}),t.fail(_)};let a={};i.implies=function(h,g){A("<string|object> [array|number|string]",[h,g],arguments.length),typeof h=="object"?Object.keys(h).forEach(w=>{i.implies(w,h[w])}):(r.global(h),a[h]||(a[h]=[]),Array.isArray(g)?g.forEach(w=>i.implies(h,w)):(ct(g,void 0,e),a[h].push(g)))},i.getImplied=function(){return a};function c(p,h){let g=Number(h);return h=isNaN(g)?h:g,typeof h=="number"?h=p._.length>=h:h.match(/^--no-.+/)?(h=h.match(/^--no-(.+)/)[1],h=!Object.prototype.hasOwnProperty.call(p,h)):h=Object.prototype.hasOwnProperty.call(p,h),h}i.implications=function(h){let g=[];if(Object.keys(a).forEach(w=>{let E=w;(a[w]||[]).forEach(_=>{let d=E,L=_;d=c(h,d),_=c(h,_),d&&!_&&g.push(` ${E} -> ${L}`)})}),g.length){let w=`${n("Implications failed:")}
`;g.forEach(E=>{w+=E}),t.fail(w)}};let m={};i.conflicts=function(h,g){A("<string|object> [array|string]",[h,g],arguments.length),typeof h=="object"?Object.keys(h).forEach(w=>{i.conflicts(w,h[w])}):(r.global(h),m[h]||(m[h]=[]),Array.isArray(g)?g.forEach(w=>i.conflicts(h,w)):m[h].push(g))},i.getConflicting=()=>m,i.conflicting=function(h){Object.keys(h).forEach(g=>{m[g]&&m[g].forEach(w=>{w&&h[g]!==void 0&&h[w]!==void 0&&t.fail(n("Arguments %s and %s are mutually exclusive",g,w))})}),r.getInternalMethods().getParserConfiguration()["strip-dashed"]&&Object.keys(m).forEach(g=>{m[g].forEach(w=>{w&&h[e.Parser.camelCase(g)]!==void 0&&h[e.Parser.camelCase(w)]!==void 0&&t.fail(n("Arguments %s and %s are mutually exclusive",g,w))})})},i.recommendCommands=function(h,g){g=g.sort((d,L)=>L.length-d.length);let E=null,_=1/0;for(let d=0,L;(L=g[d])!==void 0;d++){let R=is(h,L);R<=3&&R<_&&(_=R,E=L)}E&&t.fail(n("Did you mean %s?",E))},i.reset=function(h){return a=Dt(a,g=>!h[g]),m=Dt(m,g=>!h[g]),i};let b=[];return i.freeze=function(){b.push({implied:a,conflicting:m})},i.unfreeze=function(){let h=b.pop();ct(h,void 0,e),{implied:a,conflicting:m}=h},i}var on=[],le;function fe(r,t,e,n){le=n;let s={};if(Object.prototype.hasOwnProperty.call(r,"extends")){if(typeof r.extends!="string")return s;let i=/\.json|\..*rc$/.test(r.extends),a=null;if(i)a=xi(t,r.extends);else try{a=Ct.resolve(r.extends)}catch{return r}Ei(a),on.push(a),s=i?JSON.parse(le.readFileSync(a,"utf8")):Ct(r.extends),delete r.extends,s=fe(s,le.path.dirname(a),e,le)}return on=[],e?as(s,r):Object.assign({},s,r)}function Ei(r){if(on.indexOf(r)>-1)throw new K(`Circular extended configurations: '${r}'.`)}function xi(r,t){return le.path.resolve(r,t)}function as(r,t){let e={};function n(s){return s&&typeof s=="object"&&!Array.isArray(s)}Object.assign(e,r);for(let s of Object.keys(t))n(t[s])&&n(e[s])?e[s]=as(r[s],t[s]):e[s]=t[s];return e}var P=function(r,t,e,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?r!==t||!s:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(r,e):s?s.value=e:t.set(r,e),e},o=function(r,t,e,n){if(e==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!n:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?n:e==="a"?n.call(r):n?n.value:t.get(r)},tt,Yt,ue,bt,ut,Se,$t,Vt,je,yt,Ie,wt,At,ht,_t,Fe,se,it,F,Me,De,dt,Kt,ie,Gt,Tt,ve,$,qt,Xt,Jt,T,$e,Pt,Z;function Ss(r){return(t=[],e=r.process.cwd(),n)=>{let s=new bn(t,e,n,r);return Object.defineProperty(s,"argv",{get:()=>s.parse(),enumerable:!0}),s.help(),s.version(),s}}var cs=Symbol("copyDoubleDash"),ls=Symbol("copyDoubleDash"),an=Symbol("deleteFromParserHintObject"),fs=Symbol("emitWarning"),us=Symbol("freeze"),hs=Symbol("getDollarZero"),Qt=Symbol("getParserConfiguration"),ds=Symbol("getUsageConfiguration"),cn=Symbol("guessLocale"),ps=Symbol("guessVersion"),ms=Symbol("parsePositionalNumbers"),ln=Symbol("pkgUp"),Nt=Symbol("populateParserHintArray"),re=Symbol("populateParserHintSingleValueDictionary"),fn=Symbol("populateParserHintArrayDictionary"),un=Symbol("populateParserHintDictionary"),hn=Symbol("sanitizeKey"),dn=Symbol("setKey"),pn=Symbol("unfreeze"),gs=Symbol("validateAsync"),bs=Symbol("getCommandInstance"),ys=Symbol("getContext"),ws=Symbol("getHasOutput"),_s=Symbol("getLoggerInstance"),Os=Symbol("getParseContext"),Es=Symbol("getUsageInstance"),xs=Symbol("getValidationInstance"),Te=Symbol("hasParseCallback"),Cs=Symbol("isGlobalContext"),Zt=Symbol("postProcess"),As=Symbol("rebase"),mn=Symbol("reset"),he=Symbol("runYargsParserAndExecuteCommands"),gn=Symbol("runValidation"),Ps=Symbol("setHasOutput"),kt=Symbol("kTrackManuallySetKeys"),bn=class{constructor(t=[],e,n,s){this.customScriptName=!1,this.parsed=!1,tt.set(this,void 0),Yt.set(this,void 0),ue.set(this,{commands:[],fullCommands:[]}),bt.set(this,null),ut.set(this,null),Se.set(this,"show-hidden"),$t.set(this,null),Vt.set(this,!0),je.set(this,{}),yt.set(this,!0),Ie.set(this,[]),wt.set(this,void 0),At.set(this,{}),ht.set(this,!1),_t.set(this,null),Fe.set(this,!0),se.set(this,void 0),it.set(this,""),F.set(this,void 0),Me.set(this,void 0),De.set(this,{}),dt.set(this,null),Kt.set(this,null),ie.set(this,{}),Gt.set(this,{}),Tt.set(this,void 0),ve.set(this,!1),$.set(this,void 0),qt.set(this,!1),Xt.set(this,!1),Jt.set(this,!1),T.set(this,void 0),$e.set(this,{}),Pt.set(this,null),Z.set(this,void 0),P(this,$,s,"f"),P(this,Tt,t,"f"),P(this,Yt,e,"f"),P(this,Me,n,"f"),P(this,wt,new Ce(this),"f"),this.$0=this[hs](),this[mn](),P(this,tt,o(this,tt,"f"),"f"),P(this,T,o(this,T,"f"),"f"),P(this,Z,o(this,Z,"f"),"f"),P(this,F,o(this,F,"f"),"f"),o(this,F,"f").showHiddenOpt=o(this,Se,"f"),P(this,se,this[ls](),"f")}addHelpOpt(t,e){let n="help";return A("[string|boolean] [string]",[t,e],arguments.length),o(this,_t,"f")&&(this[an](o(this,_t,"f")),P(this,_t,null,"f")),t===!1&&e===void 0?this:(P(this,_t,typeof t=="string"?t:n,"f"),this.boolean(o(this,_t,"f")),this.describe(o(this,_t,"f"),e||o(this,T,"f").deferY18nLookup("Show help")),this)}help(t,e){return this.addHelpOpt(t,e)}addShowHiddenOpt(t,e){if(A("[string|boolean] [string]",[t,e],arguments.length),t===!1&&e===void 0)return this;let n=typeof t=="string"?t:o(this,Se,"f");return this.boolean(n),this.describe(n,e||o(this,T,"f").deferY18nLookup("Show hidden options")),o(this,F,"f").showHiddenOpt=n,this}showHidden(t,e){return this.addShowHiddenOpt(t,e)}alias(t,e){return A("<object|string|array> [string|array]",[t,e],arguments.length),this[fn](this.alias.bind(this),"alias",t,e),this}array(t){return A("<array|string>",[t],arguments.length),this[Nt]("array",t),this[kt](t),this}boolean(t){return A("<array|string>",[t],arguments.length),this[Nt]("boolean",t),this[kt](t),this}check(t,e){return A("<function> [boolean]",[t,e],arguments.length),this.middleware((n,s)=>Ht(()=>t(n,s.getOptions()),i=>(i?(typeof i=="string"||i instanceof Error)&&o(this,T,"f").fail(i.toString(),i):o(this,T,"f").fail(o(this,$,"f").y18n.__("Argument check failed: %s",t.toString())),n),i=>(o(this,T,"f").fail(i.message?i.message:i.toString(),i),n)),!1,e),this}choices(t,e){return A("<object|string|array> [string|array]",[t,e],arguments.length),this[fn](this.choices.bind(this),"choices",t,e),this}coerce(t,e){if(A("<object|string|array> [function]",[t,e],arguments.length),Array.isArray(t)){if(!e)throw new K("coerce callback must be provided");for(let n of t)this.coerce(n,e);return this}else if(typeof t=="object"){for(let n of Object.keys(t))this.coerce(n,t[n]);return this}if(!e)throw new K("coerce callback must be provided");return o(this,F,"f").key[t]=!0,o(this,wt,"f").addCoerceMiddleware((n,s)=>{let i;return Object.prototype.hasOwnProperty.call(n,t)?Ht(()=>(i=s.getAliases(),e(n[t])),c=>{n[t]=c;let m=s.getInternalMethods().getParserConfiguration()["strip-aliased"];if(i[t]&&m!==!0)for(let b of i[t])n[b]=c;return n},c=>{throw new K(c.message)}):n},t),this}conflicts(t,e){return A("<string|object> [string|array]",[t,e],arguments.length),o(this,Z,"f").conflicts(t,e),this}config(t="config",e,n){return A("[object|string] [string|function] [function]",[t,e,n],arguments.length),typeof t=="object"&&!Array.isArray(t)?(t=fe(t,o(this,Yt,"f"),this[Qt]()["deep-merge-config"]||!1,o(this,$,"f")),o(this,F,"f").configObjects=(o(this,F,"f").configObjects||[]).concat(t),this):(typeof e=="function"&&(n=e,e=void 0),this.describe(t,e||o(this,T,"f").deferY18nLookup("Path to JSON config file")),(Array.isArray(t)?t:[t]).forEach(s=>{o(this,F,"f").config[s]=n||!0}),this)}completion(t,e,n){return A("[string] [string|boolean|function] [function]",[t,e,n],arguments.length),typeof e=="function"&&(n=e,e=void 0),P(this,ut,t||o(this,ut,"f")||"completion","f"),!e&&e!==!1&&(e="generate completion script"),this.command(o(this,ut,"f"),e),n&&o(this,bt,"f").registerFunction(n),this}command(t,e,n,s,i,a){return A("<string|array|object> [string|boolean] [function|object] [function] [array] [boolean|string]",[t,e,n,s,i,a],arguments.length),o(this,tt,"f").addHandler(t,e,n,s,i,a),this}commands(t,e,n,s,i,a){return this.command(t,e,n,s,i,a)}commandDir(t,e){A("<string> [object]",[t,e],arguments.length);let n=o(this,Me,"f")||o(this,$,"f").require;return o(this,tt,"f").addDirectory(t,n,o(this,$,"f").getCallerFile(),e),this}count(t){return A("<array|string>",[t],arguments.length),this[Nt]("count",t),this[kt](t),this}default(t,e,n){return A("<object|string|array> [*] [string]",[t,e,n],arguments.length),n&&(tn(t,o(this,$,"f")),o(this,F,"f").defaultDescription[t]=n),typeof e=="function"&&(tn(t,o(this,$,"f")),o(this,F,"f").defaultDescription[t]||(o(this,F,"f").defaultDescription[t]=o(this,T,"f").functionDescription(e)),e=e.call()),this[re](this.default.bind(this),"default",t,e),this}defaults(t,e,n){return this.default(t,e,n)}demandCommand(t=1,e,n,s){return A("[number] [number|string] [string|null|undefined] [string|null|undefined]",[t,e,n,s],arguments.length),typeof e!="number"&&(n=e,e=1/0),this.global("_",!1),o(this,F,"f").demandedCommands._={min:t,max:e,minMsg:n,maxMsg:s},this}demand(t,e,n){return Array.isArray(e)?(e.forEach(s=>{ct(n,!0,o(this,$,"f")),this.demandOption(s,n)}),e=1/0):typeof e!="number"&&(n=e,e=1/0),typeof t=="number"?(ct(n,!0,o(this,$,"f")),this.demandCommand(t,e,n,n)):Array.isArray(t)?t.forEach(s=>{ct(n,!0,o(this,$,"f")),this.demandOption(s,n)}):typeof n=="string"?this.demandOption(t,n):(n===!0||typeof n>"u")&&this.demandOption(t),this}demandOption(t,e){return A("<object|string|array> [string]",[t,e],arguments.length),this[re](this.demandOption.bind(this),"demandedOptions",t,e),this}deprecateOption(t,e){return A("<string> [string|boolean]",[t,e],arguments.length),o(this,F,"f").deprecatedOptions[t]=e,this}describe(t,e){return A("<object|string|array> [string]",[t,e],arguments.length),this[dn](t,!0),o(this,T,"f").describe(t,e),this}detectLocale(t){return A("<boolean>",[t],arguments.length),P(this,Vt,t,"f"),this}env(t){return A("[string|boolean]",[t],arguments.length),t===!1?delete o(this,F,"f").envPrefix:o(this,F,"f").envPrefix=t||"",this}epilogue(t){return A("<string>",[t],arguments.length),o(this,T,"f").epilog(t),this}epilog(t){return this.epilogue(t)}example(t,e){return A("<string|array> [string]",[t,e],arguments.length),Array.isArray(t)?t.forEach(n=>this.example(...n)):o(this,T,"f").example(t,e),this}exit(t,e){P(this,ht,!0,"f"),P(this,$t,e,"f"),o(this,yt,"f")&&o(this,$,"f").process.exit(t)}exitProcess(t=!0){return A("[boolean]",[t],arguments.length),P(this,yt,t,"f"),this}fail(t){if(A("<function|boolean>",[t],arguments.length),typeof t=="boolean"&&t!==!1)throw new K("Invalid first argument. Expected function or boolean 'false'");return o(this,T,"f").failFn(t),this}getAliases(){return this.parsed?this.parsed.aliases:{}}async getCompletion(t,e){return A("<array> [function]",[t,e],arguments.length),e?o(this,bt,"f").getCompletion(t,e):new Promise((n,s)=>{o(this,bt,"f").getCompletion(t,(i,a)=>{i?s(i):n(a)})})}getDemandedOptions(){return A([],0),o(this,F,"f").demandedOptions}getDemandedCommands(){return A([],0),o(this,F,"f").demandedCommands}getDeprecatedOptions(){return A([],0),o(this,F,"f").deprecatedOptions}getDetectLocale(){return o(this,Vt,"f")}getExitProcess(){return o(this,yt,"f")}getGroups(){return Object.assign({},o(this,At,"f"),o(this,Gt,"f"))}getHelp(){if(P(this,ht,!0,"f"),!o(this,T,"f").hasCachedHelpMessage()){if(!this.parsed){let e=this[he](o(this,Tt,"f"),void 0,void 0,0,!0);if(G(e))return e.then(()=>o(this,T,"f").help())}let t=o(this,tt,"f").runDefaultBuilderOn(this);if(G(t))return t.then(()=>o(this,T,"f").help())}return Promise.resolve(o(this,T,"f").help())}getOptions(){return o(this,F,"f")}getStrict(){return o(this,qt,"f")}getStrictCommands(){return o(this,Xt,"f")}getStrictOptions(){return o(this,Jt,"f")}global(t,e){return A("<string|array> [boolean]",[t,e],arguments.length),t=[].concat(t),e!==!1?o(this,F,"f").local=o(this,F,"f").local.filter(n=>t.indexOf(n)===-1):t.forEach(n=>{o(this,F,"f").local.includes(n)||o(this,F,"f").local.push(n)}),this}group(t,e){A("<string|array> <string>",[t,e],arguments.length);let n=o(this,Gt,"f")[e]||o(this,At,"f")[e];o(this,Gt,"f")[e]&&delete o(this,Gt,"f")[e];let s={};return o(this,At,"f")[e]=(n||[]).concat(t).filter(i=>s[i]?!1:s[i]=!0),this}hide(t){return A("<string>",[t],arguments.length),o(this,F,"f").hiddenOptions.push(t),this}implies(t,e){return A("<string|object> [number|string|array]",[t,e],arguments.length),o(this,Z,"f").implies(t,e),this}locale(t){return A("[string]",[t],arguments.length),t===void 0?(this[cn](),o(this,$,"f").y18n.getLocale()):(P(this,Vt,!1,"f"),o(this,$,"f").y18n.setLocale(t),this)}middleware(t,e,n){return o(this,wt,"f").addMiddleware(t,!!e,n)}nargs(t,e){return A("<string|object|array> [number]",[t,e],arguments.length),this[re](this.nargs.bind(this),"narg",t,e),this}normalize(t){return A("<array|string>",[t],arguments.length),this[Nt]("normalize",t),this}number(t){return A("<array|string>",[t],arguments.length),this[Nt]("number",t),this[kt](t),this}option(t,e){if(A("<string|object> [object]",[t,e],arguments.length),typeof t=="object")Object.keys(t).forEach(n=>{this.options(n,t[n])});else{typeof e!="object"&&(e={}),this[kt](t),o(this,Pt,"f")&&(t==="version"||(e==null?void 0:e.alias)==="version")&&this[fs](['"version" is a reserved word.',"Please do one of the following:",'- Disable version with `yargs.version(false)` if using "version" as an option',"- Use the built-in `yargs.version` method instead (if applicable)","- Use a different option key","https://yargs.js.org/docs/#api-reference-version"].join(`
`),void 0,"versionWarning"),o(this,F,"f").key[t]=!0,e.alias&&this.alias(t,e.alias);let n=e.deprecate||e.deprecated;n&&this.deprecateOption(t,n);let s=e.demand||e.required||e.require;s&&this.demand(t,s),e.demandOption&&this.demandOption(t,typeof e.demandOption=="string"?e.demandOption:void 0),e.conflicts&&this.conflicts(t,e.conflicts),"default"in e&&this.default(t,e.default),e.implies!==void 0&&this.implies(t,e.implies),e.nargs!==void 0&&this.nargs(t,e.nargs),e.config&&this.config(t,e.configParser),e.normalize&&this.normalize(t),e.choices&&this.choices(t,e.choices),e.coerce&&this.coerce(t,e.coerce),e.group&&this.group(t,e.group),(e.boolean||e.type==="boolean")&&(this.boolean(t),e.alias&&this.boolean(e.alias)),(e.array||e.type==="array")&&(this.array(t),e.alias&&this.array(e.alias)),(e.number||e.type==="number")&&(this.number(t),e.alias&&this.number(e.alias)),(e.string||e.type==="string")&&(this.string(t),e.alias&&this.string(e.alias)),(e.count||e.type==="count")&&this.count(t),typeof e.global=="boolean"&&this.global(t,e.global),e.defaultDescription&&(o(this,F,"f").defaultDescription[t]=e.defaultDescription),e.skipValidation&&this.skipValidation(t);let i=e.describe||e.description||e.desc,a=o(this,T,"f").getDescriptions();(!Object.prototype.hasOwnProperty.call(a,t)||typeof i=="string")&&this.describe(t,i),e.hidden&&this.hide(t),e.requiresArg&&this.requiresArg(t)}return this}options(t,e){return this.option(t,e)}parse(t,e,n){A("[string|array] [function|boolean|object] [function]",[t,e,n],arguments.length),this[us](),typeof t>"u"&&(t=o(this,Tt,"f")),typeof e=="object"&&(P(this,Kt,e,"f"),e=n),typeof e=="function"&&(P(this,dt,e,"f"),e=!1),e||P(this,Tt,t,"f"),o(this,dt,"f")&&P(this,yt,!1,"f");let s=this[he](t,!!e),i=this.parsed;return o(this,bt,"f").setParsed(this.parsed),G(s)?s.then(a=>(o(this,dt,"f")&&o(this,dt,"f").call(this,o(this,$t,"f"),a,o(this,it,"f")),a)).catch(a=>{throw o(this,dt,"f")&&o(this,dt,"f")(a,this.parsed.argv,o(this,it,"f")),a}).finally(()=>{this[pn](),this.parsed=i}):(o(this,dt,"f")&&o(this,dt,"f").call(this,o(this,$t,"f"),s,o(this,it,"f")),this[pn](),this.parsed=i,s)}parseAsync(t,e,n){let s=this.parse(t,e,n);return G(s)?s:Promise.resolve(s)}parseSync(t,e,n){let s=this.parse(t,e,n);if(G(s))throw new K(".parseSync() must not be used with asynchronous builders, handlers, or middleware");return s}parserConfiguration(t){return A("<object>",[t],arguments.length),P(this,De,t,"f"),this}pkgConf(t,e){A("<string> [string]",[t,e],arguments.length);let n=null,s=this[ln](e||o(this,Yt,"f"));return s[t]&&typeof s[t]=="object"&&(n=fe(s[t],e||o(this,Yt,"f"),this[Qt]()["deep-merge-config"]||!1,o(this,$,"f")),o(this,F,"f").configObjects=(o(this,F,"f").configObjects||[]).concat(n)),this}positional(t,e){A("<string> <object>",[t,e],arguments.length);let n=["default","defaultDescription","implies","normalize","choices","conflicts","coerce","type","describe","desc","description","alias"];e=Dt(e,(a,c)=>a==="type"&&!["string","number","boolean"].includes(c)?!1:n.includes(a));let s=o(this,ue,"f").fullCommands[o(this,ue,"f").fullCommands.length-1],i=s?o(this,tt,"f").cmdToParseOptions(s):{array:[],alias:{},default:{},demand:{}};return ee(i).forEach(a=>{let c=i[a];Array.isArray(c)?c.indexOf(t)!==-1&&(e[a]=!0):c[t]&&!(a in e)&&(e[a]=c[t])}),this.group(t,o(this,T,"f").getPositionalGroupName()),this.option(t,e)}recommendCommands(t=!0){return A("[boolean]",[t],arguments.length),P(this,ve,t,"f"),this}required(t,e,n){return this.demand(t,e,n)}require(t,e,n){return this.demand(t,e,n)}requiresArg(t){return A("<array|string|object> [number]",[t],arguments.length),typeof t=="string"&&o(this,F,"f").narg[t]?this:(this[re](this.requiresArg.bind(this),"narg",t,NaN),this)}showCompletionScript(t,e){return A("[string] [string]",[t,e],arguments.length),t=t||this.$0,o(this,se,"f").log(o(this,bt,"f").generateCompletionScript(t,e||o(this,ut,"f")||"completion")),this}showHelp(t){if(A("[string|function]",[t],arguments.length),P(this,ht,!0,"f"),!o(this,T,"f").hasCachedHelpMessage()){if(!this.parsed){let n=this[he](o(this,Tt,"f"),void 0,void 0,0,!0);if(G(n))return n.then(()=>{o(this,T,"f").showHelp(t)}),this}let e=o(this,tt,"f").runDefaultBuilderOn(this);if(G(e))return e.then(()=>{o(this,T,"f").showHelp(t)}),this}return o(this,T,"f").showHelp(t),this}scriptName(t){return this.customScriptName=!0,this.$0=t,this}showHelpOnFail(t,e){return A("[boolean|string] [string]",[t,e],arguments.length),o(this,T,"f").showHelpOnFail(t,e),this}showVersion(t){return A("[string|function]",[t],arguments.length),o(this,T,"f").showVersion(t),this}skipValidation(t){return A("<array|string>",[t],arguments.length),this[Nt]("skipValidation",t),this}strict(t){return A("[boolean]",[t],arguments.length),P(this,qt,t!==!1,"f"),this}strictCommands(t){return A("[boolean]",[t],arguments.length),P(this,Xt,t!==!1,"f"),this}strictOptions(t){return A("[boolean]",[t],arguments.length),P(this,Jt,t!==!1,"f"),this}string(t){return A("<array|string>",[t],arguments.length),this[Nt]("string",t),this[kt](t),this}terminalWidth(){return A([],0),o(this,$,"f").process.stdColumns}updateLocale(t){return this.updateStrings(t)}updateStrings(t){return A("<object>",[t],arguments.length),P(this,Vt,!1,"f"),o(this,$,"f").y18n.updateLocale(t),this}usage(t,e,n,s){if(A("<string|null|undefined> [string|boolean] [function|object] [function]",[t,e,n,s],arguments.length),e!==void 0){if(ct(t,null,o(this,$,"f")),(t||"").match(/^\$0( |$)/))return this.command(t,e,n,s);throw new K(".usage() description must start with $0 if being used as alias for .command()")}else return o(this,T,"f").usage(t),this}usageConfiguration(t){return A("<object>",[t],arguments.length),P(this,$e,t,"f"),this}version(t,e,n){let s="version";if(A("[boolean|string] [string] [string]",[t,e,n],arguments.length),o(this,Pt,"f")&&(this[an](o(this,Pt,"f")),o(this,T,"f").version(void 0),P(this,Pt,null,"f")),arguments.length===0)n=this[ps](),t=s;else if(arguments.length===1){if(t===!1)return this;n=t,t=s}else arguments.length===2&&(n=e,e=void 0);return P(this,Pt,typeof t=="string"?t:s,"f"),e=e||o(this,T,"f").deferY18nLookup("Show version number"),o(this,T,"f").version(n||void 0),this.boolean(o(this,Pt,"f")),this.describe(o(this,Pt,"f"),e),this}wrap(t){return A("<number|null|undefined>",[t],arguments.length),o(this,T,"f").wrap(t),this}[(tt=new WeakMap,Yt=new WeakMap,ue=new WeakMap,bt=new WeakMap,ut=new WeakMap,Se=new WeakMap,$t=new WeakMap,Vt=new WeakMap,je=new WeakMap,yt=new WeakMap,Ie=new WeakMap,wt=new WeakMap,At=new WeakMap,ht=new WeakMap,_t=new WeakMap,Fe=new WeakMap,se=new WeakMap,it=new WeakMap,F=new WeakMap,Me=new WeakMap,De=new WeakMap,dt=new WeakMap,Kt=new WeakMap,ie=new WeakMap,Gt=new WeakMap,Tt=new WeakMap,ve=new WeakMap,$=new WeakMap,qt=new WeakMap,Xt=new WeakMap,Jt=new WeakMap,T=new WeakMap,$e=new WeakMap,Pt=new WeakMap,Z=new WeakMap,cs)](t){if(!t._||!t["--"])return t;t._.push.apply(t._,t["--"]);try{delete t["--"]}catch{}return t}[ls](){return{log:(...t)=>{this[Te]()||console.log(...t),P(this,ht,!0,"f"),o(this,it,"f").length&&P(this,it,o(this,it,"f")+`
`,"f"),P(this,it,o(this,it,"f")+t.join(" "),"f")},error:(...t)=>{this[Te]()||console.error(...t),P(this,ht,!0,"f"),o(this,it,"f").length&&P(this,it,o(this,it,"f")+`
`,"f"),P(this,it,o(this,it,"f")+t.join(" "),"f")}}}[an](t){ee(o(this,F,"f")).forEach(e=>{if((s=>s==="configObjects")(e))return;let n=o(this,F,"f")[e];Array.isArray(n)?n.includes(t)&&n.splice(n.indexOf(t),1):typeof n=="object"&&delete n[t]}),delete o(this,T,"f").getDescriptions()[t]}[fs](t,e,n){o(this,je,"f")[n]||(o(this,$,"f").process.emitWarning(t,e),o(this,je,"f")[n]=!0)}[us](){o(this,Ie,"f").push({options:o(this,F,"f"),configObjects:o(this,F,"f").configObjects.slice(0),exitProcess:o(this,yt,"f"),groups:o(this,At,"f"),strict:o(this,qt,"f"),strictCommands:o(this,Xt,"f"),strictOptions:o(this,Jt,"f"),completionCommand:o(this,ut,"f"),output:o(this,it,"f"),exitError:o(this,$t,"f"),hasOutput:o(this,ht,"f"),parsed:this.parsed,parseFn:o(this,dt,"f"),parseContext:o(this,Kt,"f")}),o(this,T,"f").freeze(),o(this,Z,"f").freeze(),o(this,tt,"f").freeze(),o(this,wt,"f").freeze()}[hs](){let t="",e;return/\b(node|iojs|electron)(\.exe)?$/.test(o(this,$,"f").process.argv()[0])?e=o(this,$,"f").process.argv().slice(1,2):e=o(this,$,"f").process.argv().slice(0,1),t=e.map(n=>{let s=this[As](o(this,Yt,"f"),n);return n.match(/^(\/|([a-zA-Z]:)?\\)/)&&s.length<n.length?s:n}).join(" ").trim(),o(this,$,"f").getEnv("_")&&o(this,$,"f").getProcessArgvBin()===o(this,$,"f").getEnv("_")&&(t=o(this,$,"f").getEnv("_").replace(`${o(this,$,"f").path.dirname(o(this,$,"f").process.execPath())}/`,"")),t}[Qt](){return o(this,De,"f")}[ds](){return o(this,$e,"f")}[cn](){if(!o(this,Vt,"f"))return;let t=o(this,$,"f").getEnv("LC_ALL")||o(this,$,"f").getEnv("LC_MESSAGES")||o(this,$,"f").getEnv("LANG")||o(this,$,"f").getEnv("LANGUAGE")||"en_US";this.locale(t.replace(/[.:].*/,""))}[ps](){return this[ln]().version||"unknown"}[ms](t){let e=t["--"]?t["--"]:t._;for(let n=0,s;(s=e[n])!==void 0;n++)o(this,$,"f").Parser.looksLikeNumber(s)&&Number.isSafeInteger(Math.floor(parseFloat(`${s}`)))&&(e[n]=Number(s));return t}[ln](t){let e=t||"*";if(o(this,ie,"f")[e])return o(this,ie,"f")[e];let n={};try{let s=t||o(this,$,"f").mainFilename;!t&&o(this,$,"f").path.extname(s)&&(s=o(this,$,"f").path.dirname(s));let i=o(this,$,"f").findUp(s,(a,c)=>{if(c.includes("package.json"))return"package.json"});ct(i,void 0,o(this,$,"f")),n=JSON.parse(o(this,$,"f").readFileSync(i,"utf8"))}catch{}return o(this,ie,"f")[e]=n||{},o(this,ie,"f")[e]}[Nt](t,e){e=[].concat(e),e.forEach(n=>{n=this[hn](n),o(this,F,"f")[t].push(n)})}[re](t,e,n,s){this[un](t,e,n,s,(i,a,c)=>{o(this,F,"f")[i][a]=c})}[fn](t,e,n,s){this[un](t,e,n,s,(i,a,c)=>{o(this,F,"f")[i][a]=(o(this,F,"f")[i][a]||[]).concat(c)})}[un](t,e,n,s,i){if(Array.isArray(n))n.forEach(a=>{t(a,s)});else if((a=>typeof a=="object")(n))for(let a of ee(n))t(a,n[a]);else i(e,this[hn](n),s)}[hn](t){return t==="__proto__"?"___proto___":t}[dn](t,e){return this[re](this[dn].bind(this),"key",t,e),this}[pn](){var t,e,n,s,i,a,c,m,b,p,h,g;let w=o(this,Ie,"f").pop();ct(w,void 0,o(this,$,"f"));let E;t=this,e=this,n=this,s=this,i=this,a=this,c=this,m=this,b=this,p=this,h=this,g=this,{options:{set value(_){P(t,F,_,"f")}}.value,configObjects:E,exitProcess:{set value(_){P(e,yt,_,"f")}}.value,groups:{set value(_){P(n,At,_,"f")}}.value,output:{set value(_){P(s,it,_,"f")}}.value,exitError:{set value(_){P(i,$t,_,"f")}}.value,hasOutput:{set value(_){P(a,ht,_,"f")}}.value,parsed:this.parsed,strict:{set value(_){P(c,qt,_,"f")}}.value,strictCommands:{set value(_){P(m,Xt,_,"f")}}.value,strictOptions:{set value(_){P(b,Jt,_,"f")}}.value,completionCommand:{set value(_){P(p,ut,_,"f")}}.value,parseFn:{set value(_){P(h,dt,_,"f")}}.value,parseContext:{set value(_){P(g,Kt,_,"f")}}.value}=w,o(this,F,"f").configObjects=E,o(this,T,"f").unfreeze(),o(this,Z,"f").unfreeze(),o(this,tt,"f").unfreeze(),o(this,wt,"f").unfreeze()}[gs](t,e){return Ht(e,n=>(t(n),n))}getInternalMethods(){return{getCommandInstance:this[bs].bind(this),getContext:this[ys].bind(this),getHasOutput:this[ws].bind(this),getLoggerInstance:this[_s].bind(this),getParseContext:this[Os].bind(this),getParserConfiguration:this[Qt].bind(this),getUsageConfiguration:this[ds].bind(this),getUsageInstance:this[Es].bind(this),getValidationInstance:this[xs].bind(this),hasParseCallback:this[Te].bind(this),isGlobalContext:this[Cs].bind(this),postProcess:this[Zt].bind(this),reset:this[mn].bind(this),runValidation:this[gn].bind(this),runYargsParserAndExecuteCommands:this[he].bind(this),setHasOutput:this[Ps].bind(this)}}[bs](){return o(this,tt,"f")}[ys](){return o(this,ue,"f")}[ws](){return o(this,ht,"f")}[_s](){return o(this,se,"f")}[Os](){return o(this,Kt,"f")||{}}[Es](){return o(this,T,"f")}[xs](){return o(this,Z,"f")}[Te](){return!!o(this,dt,"f")}[Cs](){return o(this,Fe,"f")}[Zt](t,e,n,s){return n||G(t)||(e||(t=this[cs](t)),(this[Qt]()["parse-positional-numbers"]||this[Qt]()["parse-positional-numbers"]===void 0)&&(t=this[ms](t)),s&&(t=zt(t,this,o(this,wt,"f").getMiddleware(),!1))),t}[mn](t={}){P(this,F,o(this,F,"f")||{},"f");let e={};e.local=o(this,F,"f").local||[],e.configObjects=o(this,F,"f").configObjects||[];let n={};e.local.forEach(a=>{n[a]=!0,(t[a]||[]).forEach(c=>{n[c]=!0})}),Object.assign(o(this,Gt,"f"),Object.keys(o(this,At,"f")).reduce((a,c)=>{let m=o(this,At,"f")[c].filter(b=>!(b in n));return m.length>0&&(a[c]=m),a},{})),P(this,At,{},"f");let s=["array","boolean","string","skipValidation","count","normalize","number","hiddenOptions"],i=["narg","key","alias","default","defaultDescription","config","choices","demandedOptions","demandedCommands","deprecatedOptions"];return s.forEach(a=>{e[a]=(o(this,F,"f")[a]||[]).filter(c=>!n[c])}),i.forEach(a=>{e[a]=Dt(o(this,F,"f")[a],c=>!n[c])}),e.envPrefix=o(this,F,"f").envPrefix,P(this,F,e,"f"),P(this,T,o(this,T,"f")?o(this,T,"f").reset(n):ts(this,o(this,$,"f")),"f"),P(this,Z,o(this,Z,"f")?o(this,Z,"f").reset(n):os(this,o(this,T,"f"),o(this,$,"f")),"f"),P(this,tt,o(this,tt,"f")?o(this,tt,"f").reset():Qn(o(this,T,"f"),o(this,Z,"f"),o(this,wt,"f"),o(this,$,"f")),"f"),o(this,bt,"f")||P(this,bt,ss(this,o(this,T,"f"),o(this,tt,"f"),o(this,$,"f")),"f"),o(this,wt,"f").reset(),P(this,ut,null,"f"),P(this,it,"","f"),P(this,$t,null,"f"),P(this,ht,!1,"f"),this.parsed=!1,this}[As](t,e){return o(this,$,"f").path.relative(t,e)}[he](t,e,n,s=0,i=!1){let a=!!n||i;t=t||o(this,Tt,"f"),o(this,F,"f").__=o(this,$,"f").y18n.__,o(this,F,"f").configuration=this[Qt]();let c=!!o(this,F,"f").configuration["populate--"],m=Object.assign({},o(this,F,"f").configuration,{"populate--":!0}),b=o(this,$,"f").Parser.detailed(t,Object.assign({},o(this,F,"f"),{configuration:{"parse-positional-numbers":!1,...m}})),p=Object.assign(b.argv,o(this,Kt,"f")),h,g=b.aliases,w=!1,E=!1;Object.keys(p).forEach(_=>{_===o(this,_t,"f")&&p[_]?w=!0:_===o(this,Pt,"f")&&p[_]&&(E=!0)}),p.$0=this.$0,this.parsed=b,s===0&&o(this,T,"f").clearCachedHelpMessage();try{if(this[cn](),e)return this[Zt](p,c,!!n,!1);o(this,_t,"f")&&[o(this,_t,"f")].concat(g[o(this,_t,"f")]||[]).filter(H=>H.length>1).includes(""+p._[p._.length-1])&&(p._.pop(),w=!0),P(this,Fe,!1,"f");let _=o(this,tt,"f").getCommands(),d=o(this,bt,"f").completionKey in p,L=w||d||i;if(p._.length){if(_.length){let R;for(let H=s||0,B;p._[H]!==void 0;H++)if(B=String(p._[H]),_.includes(B)&&B!==o(this,ut,"f")){let Y=o(this,tt,"f").runCommand(B,this,b,H+1,i,w||E||i);return this[Zt](Y,c,!!n,!1)}else if(!R&&B!==o(this,ut,"f")){R=B;break}!o(this,tt,"f").hasDefaultCommand()&&o(this,ve,"f")&&R&&!L&&o(this,Z,"f").recommendCommands(R,_)}o(this,ut,"f")&&p._.includes(o(this,ut,"f"))&&!d&&(o(this,yt,"f")&&vt(!0),this.showCompletionScript(),this.exit(0))}if(o(this,tt,"f").hasDefaultCommand()&&!L){let R=o(this,tt,"f").runCommand(null,this,b,0,i,w||E||i);return this[Zt](R,c,!!n,!1)}if(d){o(this,yt,"f")&&vt(!0),t=[].concat(t);let R=t.slice(t.indexOf(`--${o(this,bt,"f").completionKey}`)+1);return o(this,bt,"f").getCompletion(R,(H,B)=>{if(H)throw new K(H.message);(B||[]).forEach(Y=>{o(this,se,"f").log(Y)}),this.exit(0)}),this[Zt](p,!c,!!n,!1)}if(o(this,ht,"f")||(w?(o(this,yt,"f")&&vt(!0),a=!0,this.showHelp("log"),this.exit(0)):E&&(o(this,yt,"f")&&vt(!0),a=!0,o(this,T,"f").showVersion("log"),this.exit(0))),!a&&o(this,F,"f").skipValidation.length>0&&(a=Object.keys(p).some(R=>o(this,F,"f").skipValidation.indexOf(R)>=0&&p[R]===!0)),!a){if(b.error)throw new K(b.error.message);if(!d){let R=this[gn](g,{},b.error);n||(h=zt(p,this,o(this,wt,"f").getMiddleware(),!0)),h=this[gs](R,h??p),G(h)&&!n&&(h=h.then(()=>zt(p,this,o(this,wt,"f").getMiddleware(),!1)))}}}catch(_){if(_ instanceof K)o(this,T,"f").fail(_.message,_);else throw _}return this[Zt](h??p,c,!!n,!0)}[gn](t,e,n,s){let i={...this.getDemandedOptions()};return a=>{if(n)throw new K(n.message);o(this,Z,"f").nonOptionCount(a),o(this,Z,"f").requiredArguments(a,i);let c=!1;o(this,Xt,"f")&&(c=o(this,Z,"f").unknownCommands(a)),o(this,qt,"f")&&!c?o(this,Z,"f").unknownArguments(a,t,e,!!s):o(this,Jt,"f")&&o(this,Z,"f").unknownArguments(a,t,{},!1,!1),o(this,Z,"f").limitedChoices(a),o(this,Z,"f").implications(a),o(this,Z,"f").conflicting(a)}}[Ps](){P(this,ht,!0,"f")}[kt](t){if(typeof t=="string")o(this,F,"f").key[t]=!0;else for(let e of t)o(this,F,"f").key[e]=!0}};function Zn(r){return!!r&&typeof r.getInternalMethods=="function"}var Ci=Ss(ke),js=Ci;import*as mt from"fs";import*as rt from"path";var yn=new TextEncoder,Pi=new TextDecoder,Si=1e3,ji=yn.encode("XHWnDAT6ehMVY2zD"),de=class{async deriveKey(t){let e=yn.encode(t),n=await crypto.subtle.importKey("raw",e,{name:"PBKDF2"},!1,["deriveKey"]);return crypto.subtle.deriveKey({name:"PBKDF2",hash:{name:"SHA-256"},iterations:Si,salt:ji},n,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async encryptToBytes(t,e){let n=await this.deriveKey(e),s=yn.encode(t),i=crypto.getRandomValues(new Uint8Array(16)),a=new Uint8Array(await crypto.subtle.encrypt({name:"AES-GCM",iv:i},n,s)),c=new Uint8Array(i.byteLength+a.byteLength);return c.set(i,0),c.set(a,i.byteLength),c}convertToString(t){let e="";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e}async encryptToBase64(t,e){let n=await this.encryptToBytes(t,e);return btoa(this.convertToString(n))}stringToArray(t){let e=[];for(let n=0;n<t.length;n++)e.push(t.charCodeAt(n));return new Uint8Array(e)}async decryptFromBytes(t,e){try{let n=t.slice(0,16),s=t.slice(16),i=await this.deriveKey(e),a=await crypto.subtle.decrypt({name:"AES-GCM",iv:n},i,s);return Pi.decode(a)}catch{return null}}async decryptFromBase64(t,e){try{let n=this.stringToArray(atob(t));return await this.decryptFromBytes(n,e)}catch{return null}}};var oe=class{constructor(t,e,n){this.vectorSize=t,this.saltSize=e,this.iterations=n}async deriveKey(t,e){let s=new TextEncoder().encode(t),i=await crypto.subtle.importKey("raw",s,"PBKDF2",!1,["deriveKey"]);return await crypto.subtle.deriveKey({name:"PBKDF2",hash:"SHA-512",salt:e,iterations:this.iterations},i,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async encryptToBytes(t,e){let n=crypto.getRandomValues(new Uint8Array(this.saltSize)),s=await this.deriveKey(e,n),a=new TextEncoder().encode(t),c=crypto.getRandomValues(new Uint8Array(this.vectorSize)),m=new Uint8Array(await crypto.subtle.encrypt({name:"AES-GCM",iv:c},s,a)),b=new Uint8Array(c.byteLength+n.byteLength+m.byteLength);return b.set(c,0),b.set(n,c.byteLength),b.set(m,c.byteLength+n.byteLength),b}convertToString(t){let e="";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e}async encryptToBase64(t,e){let n=await this.encryptToBytes(t,e);return btoa(this.convertToString(n))}stringToArray(t){let e=[];for(let n=0;n<t.length;n++)e.push(t.charCodeAt(n));return new Uint8Array(e)}async decryptFromBytes(t,e){try{let n,s;n=0,s=n+this.vectorSize;let i=t.slice(n,s);n=s,s=n+this.saltSize;let a=t.slice(n,s);n=s,s=void 0;let c=t.slice(n),m=await this.deriveKey(e,a),b=await crypto.subtle.decrypt({name:"AES-GCM",iv:i},m,c);return new TextDecoder().decode(b)}catch{return null}}async decryptFromBase64(t,e){try{let n=this.stringToArray(atob(t));return await this.decryptFromBytes(n,e)}catch{return null}}};var wn={name:"AES-GCM",iv:new Uint8Array([196,190,240,190,188,78,41,132,15,220,84,211]),tagLength:128},Ne=class{async buildKey(t){let n=new TextEncoder().encode(t),s=await crypto.subtle.digest({name:"SHA-256"},n);return await crypto.subtle.importKey("raw",s,wn,!1,["encrypt","decrypt"])}async encryptToBase64(t,e){let n=await this.buildKey(e),i=new TextEncoder().encode(t),a=new Uint8Array(await crypto.subtle.encrypt(wn,n,i));return btoa(String.fromCharCode(...a))}stringToArray(t){let e=[];for(let n=0;n<t.length;n++)e.push(t.charCodeAt(n));return new Uint8Array(e)}async decryptFromBase64(t,e){try{let n=this.stringToArray(atob(t)),s=await this.buildKey(e),i=await crypto.subtle.decrypt(wn,s,n);return new TextDecoder().decode(i)}catch{return null}}};var pt=class{static BuildDefault(){return new oe(16,16,21e4)}static BuildFromFileDataOrThrow(t){let e=pt.BuildFromFileDataOrNull(t);if(e!=null)return e;throw new Error(`Unable to determine ICryptoHelper for File ver ${t.version}`)}static BuildFromFileDataOrNull(t){return t.version=="1.0"?new de:t.version=="2.0"?new oe(16,16,21e4):null}static BuildFromDecryptableOrThrow(t){let e=pt.BuildFromDecryptableOrNull(t);if(e!=null)return e;throw new Error(`Unable to determine ICryptoHelper for Decryptable ver ${t.version}`)}static BuildFromDecryptableOrNull(t){return t.version==0?new Ne:t.version==1?new de:t.version==2?new oe(16,16,21e4):null}};var Re=class{constructor(t,e,n){this.version="1.0";this.version=t,this.hint=e,this.encodedData=n}},_n=class{static async encode(t,e,n){let i=await pt.BuildDefault().encryptToBase64(n,t);return new Re(_n.DEFAULT_VERSION,e,i)}static async decrypt(t,e){return t.encodedData==""?"":await pt.BuildFromFileDataOrThrow(t).decryptFromBase64(t.encodedData,e)}},Le=_n;Le.DEFAULT_VERSION="2.0";var pe=class{static encode(t){return JSON.stringify(t,null,2)}static decode(t){return t===""?new Re(Le.DEFAULT_VERSION,"",""):JSON.parse(t)}};var Ii="encrypted",Fi="mdenc";var Is=[Fi,Ii];var On="%%\u{1F510}\u03B2 ",me="\u{1F510}\u03B2 ",En="%%\u{1F510}\u03B1 ",ge="\u{1F510}\u03B1 ",xn="%%\u{1F510} ",Cn="\u{1F510} ";var Be=[On,me,En,ge,xn,Cn],Di=" \u{1F510}%%",vi=" \u{1F510}",We=[Di,vi],te="\u{1F4A1}";var Ue=class{};var be=class{constructor(t){this.process(t)}process(t){if(this.processedText=t,this.isEmpty=t.length===0,this.prefix=Be.find(e=>t.startsWith(e))??"",this.suffix=We.find(e=>t.endsWith(e))??"",this.hasEncryptedPrefix=this.prefix.length>0,this.hasEncryptedSuffix=this.suffix.length>0,this.hasObsoleteEncryptedPrefix=this.prefix===xn||this.prefix===Cn,this.containsEncryptedMarkers=[...Be,...We].some(e=>t.includes(e)),this.canDecrypt=this.hasEncryptedPrefix&&this.hasEncryptedSuffix,this.canEncrypt=!this.hasEncryptedPrefix&&!this.containsEncryptedMarkers,this.canDecrypt){let e=this.parseDecryptableContent(t);e!=null?this.decryptable=e:this.canDecrypt=!1}}parseDecryptableContent(t){let e=new Ue;if(!this.hasEncryptedPrefix||!this.hasEncryptedSuffix)return null;this.hasObsoleteEncryptedPrefix?e.version=0:this.prefix==On||this.prefix==me?e.version=2:(this.prefix==En||this.prefix==ge)&&(e.version=1);let n=t.substring(this.prefix.length,t.length-this.suffix.length);if([...Be,...We].some(s=>n.includes(s)))return null;if(n.substring(0,te.length)==te){let s=n.indexOf(te,te.length);if(s<0)return null;e.hint=n.substring(te.length,s),e.base64CipherText=n.substring(s+te.length)}else e.base64CipherText=n;return e}};var An=class{async argHandler(t){let e=process.cwd(),n,s,i,a=[];t==="csv"?(n=()=>console.log("feature,fullPath,relativePath,extension"),s=c=>console.log(`"${c.featureType}","${c.fullPath}","${c.relativePath}","${c.extension}"`),i=()=>{}):t=="json"?(n=()=>{},s=c=>a.push(c),i=()=>console.log(JSON.stringify(a,null,2))):t==="table"?(n=()=>{},s=c=>a.push(c),i=()=>console.table(a)):(n=()=>{},s=c=>console.log(`${c.relativePath}`),i=()=>{}),await this.output(e,n,s,i)}async output(t,e,n,s){e();for await(let i of Lt.listings(t,!1))n(i);s()}},Pn=class{async argHandler(t,e){let n=process.cwd();for await(let s of Lt.listings(n,!0))if(s.featureType=="InPlace")for await(let i of this.testForInPlaceDecryption(s,t))this.outputResult(i,e);else if(s.featureType=="WholeNote"){let i=await this.testForWholeNoteDecryption(s,t);this.outputResult(i,e)}}async*testForInPlaceDecryption(t,e){if(t.content==null){yield{listing:t,success:!1,message:"no content"};return}let n=t.content.split(`
`);for(let s=0;s<n.length;s++){let i=n[s],a=s+1,c=/(.*?)/g,m=Array.from(i.matchAll(c));for(let b of m){let p=`line ${a}, pos ${b.index+1}`,h=`\u{1F510}${b[1]}\u{1F510}`,g=new be(h);if(!g.canDecrypt||g.decryptable==null){yield{listing:t,success:!1,message:`${p}, cannot decrypt`};continue}let w=pt.BuildFromDecryptableOrNull(g.decryptable);if(w==null){yield{listing:t,success:!1,message:`${p}, unknown format`};continue}let E=!1;for(let _=0;_<e.length;_++){let d=e[_],L=_+1;if(await w.decryptFromBase64(g.decryptable.base64CipherText,d)!=null){E=!0,yield{listing:t,success:!0,message:`${p}, password #${L}`};break}}if(E)break}}}async testForWholeNoteDecryption(t,e){if(t.content==null||t.content.length==0)return{listing:t,success:!1,message:"no content"};let n=pe.decode(t.content||""),s=pt.BuildFromFileDataOrNull(n);if(s==null)return{listing:t,success:!1,message:"Unknown format"};for(let i=0;i<e.length;i++){let a=e[i];if(await s.decryptFromBase64(n.encodedData,a)!=null)return{listing:t,success:!0,message:`password #${i+1}`}}return{listing:t,success:!1,message:"unable to decrypt"}}outputResult(t,e){e&&t.success||console.log(`${t.success?"PASSED":"FAILED"} => ${t.listing.relativePath} => ${t.message} => ${t.listing.featureType}`)}outputResults(t,e){for(let n of t)this.outputResult(n,e)}},Sn=class{async argHandler(t,e,n){console.log(`decrypting${n?" (dry run)":""}...`);let s=process.cwd();for await(let i of Lt.listings(s,!0))if(i.featureType=="InPlace"){let a=await this.decryptInPlaceListing(i,t,e,n);this.outputResult(a)}else if(i.featureType=="WholeNote"){let a=await this.decryptWholeNoteListing(i,t,e,n);this.outputResult(a)}}async decryptInPlaceListing(t,e,n,s){let i=t.content.split(`
`),a=[];for(let m=0;m<i.length;m++){let b=i[m],p=m+1,h=[/%%(.*?)%%/g,/(.*?)/g],g=b,w=0,E=0;for(let _ of h)for await(let d of g.matchAll(_)){w++;let L=`Line ${p}, pos ${d.index+1}`,R=d[0],H=`\u{1F510}${d[1]}\u{1F510}`,B=new be(H);if(!B.canDecrypt||B.decryptable==null)return{listing:t,success:!1,message:`ERROR: ${L}, cannot decrypt`,outFile:void 0};let Y=pt.BuildFromDecryptableOrNull(B.decryptable);if(Y==null)return{listing:t,success:!1,message:`ERROR: ${L}, unknown format`,outFile:void 0};let lt=null;for(let ot=0;ot<e.length;ot++){let Ft=e[ot];if(lt=await Y.decryptFromBase64(B.decryptable.base64CipherText,Ft),lt!=null)break}lt!==null&&(E++,g=g.replace(R,lt))}if(w!=E)return{listing:t,success:!1,message:`ERROR: Match count ${w} != decrypted count ${E}`,outFile:void 0};a.push(g)}let c=rt.join(n,t.relativePath);if(!s){let m=rt.dirname(c);mt.existsSync(m)||mt.mkdirSync(m,{recursive:!0}),mt.writeFileSync(c,a.join(`
`))}return Promise.resolve({listing:t,success:!0,message:"Decrypted",outFile:c})}outputResult(t){console.log(`${t.message} : ${t.listing.relativePath}${t.outFile==null?"":" => `"+t.outFile+"`"}`)}async decryptWholeNoteListing(t,e,n,s){let i=rt.join(n,t.relativePath),a=rt.basename(i),c=rt.extname(i),m=a.replace(c,".md");if(i=rt.join(rt.dirname(i),m),!s){let h=rt.dirname(i);mt.existsSync(h)||mt.mkdirSync(h,{recursive:!0})}if(t.content==null||t.content.length==0)return s||mt.writeFileSync(i,""),{listing:t,success:!0,message:"WARN: Empty file",outFile:i};let b=pe.decode(t.content||""),p=pt.BuildFromFileDataOrNull(b);if(p==null)return{listing:t,success:!1,message:"ERROR: Unknown format",outFile:void 0};for(let h=0;h<e.length;h++){let g=e[h],w=await p.decryptFromBase64(b.encodedData,g);if(w!=null)return s||mt.writeFileSync(i,w),{listing:t,success:!0,message:"Decrypted",outFile:i}}return{listing:t,success:!1,message:"ERROR: Unable to decrypt",outFile:void 0}}},Lt=class{static async*walk(t){for await(let e of await mt.promises.opendir(t)){let n=rt.join(t,e.name);e.isDirectory()?yield*Lt.walk(n):e.isFile()&&(yield n)}}static async*listings(t,e){for await(let n of Lt.walk(t)){let s=rt.extname(n).toLowerCase().slice(1);if(!["md",...Is].includes(s))continue;let i="."+rt.sep+rt.relative(t,n),a=e||s=="md"?await mt.promises.readFile(n,"utf8"):void 0;if(s=="md"){(a.includes(ge)||a.includes(me))&&(yield{featureType:"InPlace",fullPath:n,relativePath:i,extension:s,content:e?a:void 0});continue}yield{featureType:"WholeNote",fullPath:n,relativePath:i,extension:s,content:a}}}},Fs={demandOption:!0,alias:["p","pw"],describe:"passwords to use",type:"array"},Ti={alias:"f",describe:"format of the listing",type:"string",choices:["default","table","json","csv"],default:"default"};js(Qe(process.argv)).usage("Usage: $0 [command] [options]").command("list","list all encrypted artifacts within the current directory",r=>r.option({format:Ti}),r=>new An().argHandler(r.format)).command(["test","check"],"check that all notes can be decrypted with the given password list",r=>r.option({passwords:Fs,fails:{alias:["f","fail"],describe:"only list fails",type:"boolean",default:!1}}),r=>new Pn().argHandler(r.passwords,r.fails)).command("decrypt","decrypt notes to plain text given a password list and an output directory",r=>r.option({passwords:Fs,outdir:{alias:["o","out","to"],describe:"output directory",type:"string",demandOption:!0},dryrun:{alias:["dr","dry"],describe:"dry run",type:"boolean",default:!1}}),r=>new Sn().argHandler(r.passwords,r.outdir,r.dryrun!==!1)).demandCommand().help().wrap(null).example([["$0 list","Processes all *.md and *.mdenc files and list any encrypted artifacts within the current directory"],["$0 test --passwords pw1 pw2","check that all notes can be decrypted with the given password list"],["$0 decrypt --pw pw1 pw2 --outdir \\path\\to\\output\\","decrypt notes to an output directory"]]).parse();
/**
 * @fileoverview Main entrypoint for libraries using yargs-parser in Node.js
 * CJS and ESM environments.
 *
 * @license
 * Copyright (c) 2016, Contributors
 * SPDX-License-Identifier: ISC
 */
/**
 * @license
 * Copyright (c) 2016, Contributors
 * SPDX-License-Identifier: ISC
 */
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vbm9kZV9tb2R1bGVzL3lhcmdzL2xpYi9wbGF0Zm9ybS1zaGltcy9lc20ubWpzIiwgIi4uL25vZGVfbW9kdWxlcy9jbGl1aS9idWlsZC9saWIvaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL2NsaXVpL2J1aWxkL2xpYi9zdHJpbmctdXRpbHMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2NsaXVpL2luZGV4Lm1qcyIsICIuLi9ub2RlX21vZHVsZXMvZXNjYWxhZGUvc3luYy9pbmRleC5tanMiLCAiLi4vbm9kZV9tb2R1bGVzL3lhcmdzLXBhcnNlci9idWlsZC9saWIvaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL3lhcmdzLXBhcnNlci9idWlsZC9saWIvc3RyaW5nLXV0aWxzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy95YXJncy1wYXJzZXIvYnVpbGQvbGliL3Rva2VuaXplLWFyZy1zdHJpbmcuanMiLCAiLi4vbm9kZV9tb2R1bGVzL3lhcmdzLXBhcnNlci9idWlsZC9saWIveWFyZ3MtcGFyc2VyLXR5cGVzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy95YXJncy1wYXJzZXIvYnVpbGQvbGliL3lhcmdzLXBhcnNlci5qcyIsICIuLi9ub2RlX21vZHVsZXMveWFyZ3MvYnVpbGQvbGliL3V0aWxzL3Byb2Nlc3MtYXJndi5qcyIsICIuLi9ub2RlX21vZHVsZXMveWFyZ3MvYnVpbGQvbGliL3llcnJvci5qcyIsICIuLi9ub2RlX21vZHVsZXMveTE4bi9idWlsZC9saWIvcGxhdGZvcm0tc2hpbXMvbm9kZS5qcyIsICIuLi9ub2RlX21vZHVsZXMveTE4bi9idWlsZC9saWIvaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL3kxOG4vaW5kZXgubWpzIiwgIi4uL25vZGVfbW9kdWxlcy95YXJncy9idWlsZC9saWIvdHlwaW5ncy9jb21tb24tdHlwZXMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL3lhcmdzL2J1aWxkL2xpYi91dGlscy9pcy1wcm9taXNlLmpzIiwgIi4uL25vZGVfbW9kdWxlcy95YXJncy9idWlsZC9saWIvcGFyc2UtY29tbWFuZC5qcyIsICIuLi9ub2RlX21vZHVsZXMveWFyZ3MvYnVpbGQvbGliL2FyZ3NlcnQuanMiLCAiLi4vbm9kZV9tb2R1bGVzL3lhcmdzL2J1aWxkL2xpYi9taWRkbGV3YXJlLmpzIiwgIi4uL25vZGVfbW9kdWxlcy95YXJncy9idWlsZC9saWIvdXRpbHMvbWF5YmUtYXN5bmMtcmVzdWx0LmpzIiwgIi4uL25vZGVfbW9kdWxlcy95YXJncy9idWlsZC9saWIvdXRpbHMvd2hpY2gtbW9kdWxlLmpzIiwgIi4uL25vZGVfbW9kdWxlcy95YXJncy9idWlsZC9saWIvY29tbWFuZC5qcyIsICIuLi9ub2RlX21vZHVsZXMveWFyZ3MvYnVpbGQvbGliL3V0aWxzL29iai1maWx0ZXIuanMiLCAiLi4vbm9kZV9tb2R1bGVzL3lhcmdzL2J1aWxkL2xpYi91dGlscy9zZXQtYmxvY2tpbmcuanMiLCAiLi4vbm9kZV9tb2R1bGVzL3lhcmdzL2J1aWxkL2xpYi91c2FnZS5qcyIsICIuLi9ub2RlX21vZHVsZXMveWFyZ3MvYnVpbGQvbGliL2NvbXBsZXRpb24tdGVtcGxhdGVzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy95YXJncy9idWlsZC9saWIvY29tcGxldGlvbi5qcyIsICIuLi9ub2RlX21vZHVsZXMveWFyZ3MvYnVpbGQvbGliL3V0aWxzL2xldmVuc2h0ZWluLmpzIiwgIi4uL25vZGVfbW9kdWxlcy95YXJncy9idWlsZC9saWIvdmFsaWRhdGlvbi5qcyIsICIuLi9ub2RlX21vZHVsZXMveWFyZ3MvYnVpbGQvbGliL3V0aWxzL2FwcGx5LWV4dGVuZHMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL3lhcmdzL2J1aWxkL2xpYi95YXJncy1mYWN0b3J5LmpzIiwgIi4uL25vZGVfbW9kdWxlcy95YXJncy9pbmRleC5tanMiLCAiLi4vc3JjL3Rvb2xzL21kZW5jLnRzIiwgIi4uL3NyYy9zZXJ2aWNlcy9DcnlwdG9IZWxwZXIudHMiLCAiLi4vc3JjL3NlcnZpY2VzL0NyeXB0b0hlbHBlcjIzMDQudHMiLCAiLi4vc3JjL3NlcnZpY2VzL0NyeXB0b0hlbHBlck9ic29sZXRlLnRzIiwgIi4uL3NyYy9zZXJ2aWNlcy9DcnlwdG9IZWxwZXJGYWN0b3J5LnRzIiwgIi4uL3NyYy9zZXJ2aWNlcy9GaWxlRGF0YUhlbHBlci50cyIsICIuLi9zcmMvc2VydmljZXMvQ29uc3RhbnRzLnRzIiwgIi4uL3NyYy9mZWF0dXJlcy9mZWF0dXJlLWlucGxhY2UtZW5jcnlwdC9GZWF0dXJlSW5wbGFjZUNvbnN0YW50cy50cyIsICIuLi9zcmMvZmVhdHVyZXMvZmVhdHVyZS1pbnBsYWNlLWVuY3J5cHQvRGVjcnlwdGFibGUudHMiLCAiLi4vc3JjL2ZlYXR1cmVzL2ZlYXR1cmUtaW5wbGFjZS1lbmNyeXB0L2ZlYXR1cmVJbnBsYWNlVGV4dEFuYWx5c2lzLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyIndXNlIHN0cmljdCdcblxuaW1wb3J0IHsgbm90U3RyaWN0RXF1YWwsIHN0cmljdEVxdWFsIH0gZnJvbSAnYXNzZXJ0J1xuaW1wb3J0IGNsaXVpIGZyb20gJ2NsaXVpJ1xuaW1wb3J0IGVzY2FsYWRlIGZyb20gJ2VzY2FsYWRlL3N5bmMnXG5pbXBvcnQgeyBpbnNwZWN0IH0gZnJvbSAndXRpbCdcbmltcG9ydCB7IHJlYWRGaWxlU3luYyB9IGZyb20gJ2ZzJ1xuaW1wb3J0IHsgZmlsZVVSTFRvUGF0aCB9IGZyb20gJ3VybCc7XG5pbXBvcnQgUGFyc2VyIGZyb20gJ3lhcmdzLXBhcnNlcidcbmltcG9ydCB7IGJhc2VuYW1lLCBkaXJuYW1lLCBleHRuYW1lLCByZWxhdGl2ZSwgcmVzb2x2ZSB9IGZyb20gJ3BhdGgnXG5pbXBvcnQgeyBnZXRQcm9jZXNzQXJndkJpbiB9IGZyb20gJy4uLy4uL2J1aWxkL2xpYi91dGlscy9wcm9jZXNzLWFyZ3YuanMnXG5pbXBvcnQgeyBZRXJyb3IgfSBmcm9tICcuLi8uLi9idWlsZC9saWIveWVycm9yLmpzJ1xuaW1wb3J0IHkxOG4gZnJvbSAneTE4bidcblxuY29uc3QgUkVRVUlSRV9FUlJPUiA9ICdyZXF1aXJlIGlzIG5vdCBzdXBwb3J0ZWQgYnkgRVNNJ1xuY29uc3QgUkVRVUlSRV9ESVJFQ1RPUllfRVJST1IgPSAnbG9hZGluZyBhIGRpcmVjdG9yeSBvZiBjb21tYW5kcyBpcyBub3Qgc3VwcG9ydGVkIHlldCBmb3IgRVNNJ1xuXG5sZXQgX19kaXJuYW1lO1xudHJ5IHtcbiAgX19kaXJuYW1lID0gZmlsZVVSTFRvUGF0aChpbXBvcnQubWV0YS51cmwpO1xufSBjYXRjaCAoZSkge1xuICBfX2Rpcm5hbWUgPSBwcm9jZXNzLmN3ZCgpO1xufVxuY29uc3QgbWFpbkZpbGVuYW1lID0gX19kaXJuYW1lLnN1YnN0cmluZygwLCBfX2Rpcm5hbWUubGFzdEluZGV4T2YoJ25vZGVfbW9kdWxlcycpKTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBhc3NlcnQ6IHtcbiAgICBub3RTdHJpY3RFcXVhbCxcbiAgICBzdHJpY3RFcXVhbFxuICB9LFxuICBjbGl1aSxcbiAgZmluZFVwOiBlc2NhbGFkZSxcbiAgZ2V0RW52OiAoa2V5KSA9PiB7XG4gICAgcmV0dXJuIHByb2Nlc3MuZW52W2tleV1cbiAgfSxcbiAgaW5zcGVjdCxcbiAgZ2V0Q2FsbGVyRmlsZTogKCkgPT4ge1xuICAgIHRocm93IG5ldyBZRXJyb3IoUkVRVUlSRV9ESVJFQ1RPUllfRVJST1IpXG4gIH0sXG4gIGdldFByb2Nlc3NBcmd2QmluLFxuICBtYWluRmlsZW5hbWU6IG1haW5GaWxlbmFtZSB8fCBwcm9jZXNzLmN3ZCgpLFxuICBQYXJzZXIsXG4gIHBhdGg6IHtcbiAgICBiYXNlbmFtZSxcbiAgICBkaXJuYW1lLFxuICAgIGV4dG5hbWUsXG4gICAgcmVsYXRpdmUsXG4gICAgcmVzb2x2ZVxuICB9LFxuICBwcm9jZXNzOiB7XG4gICAgYXJndjogKCkgPT4gcHJvY2Vzcy5hcmd2LFxuICAgIGN3ZDogcHJvY2Vzcy5jd2QsXG4gICAgZW1pdFdhcm5pbmc6ICh3YXJuaW5nLCB0eXBlKSA9PiBwcm9jZXNzLmVtaXRXYXJuaW5nKHdhcm5pbmcsIHR5cGUpLFxuICAgIGV4ZWNQYXRoOiAoKSA9PiBwcm9jZXNzLmV4ZWNQYXRoLFxuICAgIGV4aXQ6IHByb2Nlc3MuZXhpdCxcbiAgICBuZXh0VGljazogcHJvY2Vzcy5uZXh0VGljayxcbiAgICBzdGRDb2x1bW5zOiB0eXBlb2YgcHJvY2Vzcy5zdGRvdXQuY29sdW1ucyAhPT0gJ3VuZGVmaW5lZCcgPyBwcm9jZXNzLnN0ZG91dC5jb2x1bW5zIDogbnVsbFxuICB9LFxuICByZWFkRmlsZVN5bmMsXG4gIHJlcXVpcmU6ICgpID0+IHtcbiAgICB0aHJvdyBuZXcgWUVycm9yKFJFUVVJUkVfRVJST1IpXG4gIH0sXG4gIHJlcXVpcmVEaXJlY3Rvcnk6ICgpID0+IHtcbiAgICB0aHJvdyBuZXcgWUVycm9yKFJFUVVJUkVfRElSRUNUT1JZX0VSUk9SKVxuICB9LFxuICBzdHJpbmdXaWR0aDogKHN0cikgPT4ge1xuICAgIHJldHVybiBbLi4uc3RyXS5sZW5ndGhcbiAgfSxcbiAgeTE4bjogeTE4bih7XG4gICAgZGlyZWN0b3J5OiByZXNvbHZlKF9fZGlybmFtZSwgJy4uLy4uLy4uL2xvY2FsZXMnKSxcbiAgICB1cGRhdGVGaWxlczogZmFsc2VcbiAgfSlcbn1cbiIsICIndXNlIHN0cmljdCc7XG5jb25zdCBhbGlnbiA9IHtcbiAgICByaWdodDogYWxpZ25SaWdodCxcbiAgICBjZW50ZXI6IGFsaWduQ2VudGVyXG59O1xuY29uc3QgdG9wID0gMDtcbmNvbnN0IHJpZ2h0ID0gMTtcbmNvbnN0IGJvdHRvbSA9IDI7XG5jb25zdCBsZWZ0ID0gMztcbmV4cG9ydCBjbGFzcyBVSSB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMud2lkdGggPSBvcHRzLndpZHRoO1xuICAgICAgICB0aGlzLndyYXAgPSAoX2EgPSBvcHRzLndyYXApICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRydWU7XG4gICAgICAgIHRoaXMucm93cyA9IFtdO1xuICAgIH1cbiAgICBzcGFuKC4uLmFyZ3MpIHtcbiAgICAgICAgY29uc3QgY29scyA9IHRoaXMuZGl2KC4uLmFyZ3MpO1xuICAgICAgICBjb2xzLnNwYW4gPSB0cnVlO1xuICAgIH1cbiAgICByZXNldE91dHB1dCgpIHtcbiAgICAgICAgdGhpcy5yb3dzID0gW107XG4gICAgfVxuICAgIGRpdiguLi5hcmdzKSB7XG4gICAgICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5kaXYoJycpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLndyYXAgJiYgdGhpcy5zaG91bGRBcHBseUxheW91dERTTCguLi5hcmdzKSAmJiB0eXBlb2YgYXJnc1swXSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFwcGx5TGF5b3V0RFNMKGFyZ3NbMF0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbHMgPSBhcmdzLm1hcChhcmcgPT4ge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29sRnJvbVN0cmluZyhhcmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFyZztcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucm93cy5wdXNoKGNvbHMpO1xuICAgICAgICByZXR1cm4gY29scztcbiAgICB9XG4gICAgc2hvdWxkQXBwbHlMYXlvdXREU0woLi4uYXJncykge1xuICAgICAgICByZXR1cm4gYXJncy5sZW5ndGggPT09IDEgJiYgdHlwZW9mIGFyZ3NbMF0gPT09ICdzdHJpbmcnICYmXG4gICAgICAgICAgICAvW1xcdFxcbl0vLnRlc3QoYXJnc1swXSk7XG4gICAgfVxuICAgIGFwcGx5TGF5b3V0RFNMKHN0cikge1xuICAgICAgICBjb25zdCByb3dzID0gc3RyLnNwbGl0KCdcXG4nKS5tYXAocm93ID0+IHJvdy5zcGxpdCgnXFx0JykpO1xuICAgICAgICBsZXQgbGVmdENvbHVtbldpZHRoID0gMDtcbiAgICAgICAgLy8gc2ltcGxlIGhldXJpc3RpYyBmb3IgbGF5b3V0LCBtYWtlIHN1cmUgdGhlXG4gICAgICAgIC8vIHNlY29uZCBjb2x1bW4gbGluZXMgdXAgYWxvbmcgdGhlIGxlZnQtaGFuZC5cbiAgICAgICAgLy8gZG9uJ3QgYWxsb3cgdGhlIGZpcnN0IGNvbHVtbiB0byB0YWtlIHVwIG1vcmVcbiAgICAgICAgLy8gdGhhbiA1MCUgb2YgdGhlIHNjcmVlbi5cbiAgICAgICAgcm93cy5mb3JFYWNoKGNvbHVtbnMgPT4ge1xuICAgICAgICAgICAgaWYgKGNvbHVtbnMubGVuZ3RoID4gMSAmJiBtaXhpbi5zdHJpbmdXaWR0aChjb2x1bW5zWzBdKSA+IGxlZnRDb2x1bW5XaWR0aCkge1xuICAgICAgICAgICAgICAgIGxlZnRDb2x1bW5XaWR0aCA9IE1hdGgubWluKE1hdGguZmxvb3IodGhpcy53aWR0aCAqIDAuNSksIG1peGluLnN0cmluZ1dpZHRoKGNvbHVtbnNbMF0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGdlbmVyYXRlIGEgdGFibGU6XG4gICAgICAgIC8vICByZXBsYWNpbmcgJyAnIHdpdGggcGFkZGluZyBjYWxjdWxhdGlvbnMuXG4gICAgICAgIC8vICB1c2luZyB0aGUgYWxnb3JpdGhtaWNhbGx5IGdlbmVyYXRlZCB3aWR0aC5cbiAgICAgICAgcm93cy5mb3JFYWNoKGNvbHVtbnMgPT4ge1xuICAgICAgICAgICAgdGhpcy5kaXYoLi4uY29sdW1ucy5tYXAoKHIsIGkpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0OiByLnRyaW0oKSxcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogdGhpcy5tZWFzdXJlUGFkZGluZyhyKSxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IChpID09PSAwICYmIGNvbHVtbnMubGVuZ3RoID4gMSkgPyBsZWZ0Q29sdW1uV2lkdGggOiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMucm93c1t0aGlzLnJvd3MubGVuZ3RoIC0gMV07XG4gICAgfVxuICAgIGNvbEZyb21TdHJpbmcodGV4dCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdGV4dCxcbiAgICAgICAgICAgIHBhZGRpbmc6IHRoaXMubWVhc3VyZVBhZGRpbmcodGV4dClcbiAgICAgICAgfTtcbiAgICB9XG4gICAgbWVhc3VyZVBhZGRpbmcoc3RyKSB7XG4gICAgICAgIC8vIG1lYXN1cmUgcGFkZGluZyB3aXRob3V0IGFuc2kgZXNjYXBlIGNvZGVzXG4gICAgICAgIGNvbnN0IG5vQW5zaSA9IG1peGluLnN0cmlwQW5zaShzdHIpO1xuICAgICAgICByZXR1cm4gWzAsIG5vQW5zaS5tYXRjaCgvXFxzKiQvKVswXS5sZW5ndGgsIDAsIG5vQW5zaS5tYXRjaCgvXlxccyovKVswXS5sZW5ndGhdO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgY29uc3QgbGluZXMgPSBbXTtcbiAgICAgICAgdGhpcy5yb3dzLmZvckVhY2gocm93ID0+IHtcbiAgICAgICAgICAgIHRoaXMucm93VG9TdHJpbmcocm93LCBsaW5lcyk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBkb24ndCBkaXNwbGF5IGFueSBsaW5lcyB3aXRoIHRoZVxuICAgICAgICAvLyBoaWRkZW4gZmxhZyBzZXQuXG4gICAgICAgIHJldHVybiBsaW5lc1xuICAgICAgICAgICAgLmZpbHRlcihsaW5lID0+ICFsaW5lLmhpZGRlbilcbiAgICAgICAgICAgIC5tYXAobGluZSA9PiBsaW5lLnRleHQpXG4gICAgICAgICAgICAuam9pbignXFxuJyk7XG4gICAgfVxuICAgIHJvd1RvU3RyaW5nKHJvdywgbGluZXMpIHtcbiAgICAgICAgdGhpcy5yYXN0ZXJpemUocm93KS5mb3JFYWNoKChycm93LCByKSA9PiB7XG4gICAgICAgICAgICBsZXQgc3RyID0gJyc7XG4gICAgICAgICAgICBycm93LmZvckVhY2goKGNvbCwgYykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgd2lkdGggfSA9IHJvd1tjXTsgLy8gdGhlIHdpZHRoIHdpdGggcGFkZGluZy5cbiAgICAgICAgICAgICAgICBjb25zdCB3cmFwV2lkdGggPSB0aGlzLm5lZ2F0ZVBhZGRpbmcocm93W2NdKTsgLy8gdGhlIHdpZHRoIHdpdGhvdXQgcGFkZGluZy5cbiAgICAgICAgICAgICAgICBsZXQgdHMgPSBjb2w7IC8vIHRlbXBvcmFyeSBzdHJpbmcgdXNlZCBkdXJpbmcgYWxpZ25tZW50L3BhZGRpbmcuXG4gICAgICAgICAgICAgICAgaWYgKHdyYXBXaWR0aCA+IG1peGluLnN0cmluZ1dpZHRoKGNvbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdHMgKz0gJyAnLnJlcGVhdCh3cmFwV2lkdGggLSBtaXhpbi5zdHJpbmdXaWR0aChjb2wpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gYWxpZ24gdGhlIHN0cmluZyB3aXRoaW4gaXRzIGNvbHVtbi5cbiAgICAgICAgICAgICAgICBpZiAocm93W2NdLmFsaWduICYmIHJvd1tjXS5hbGlnbiAhPT0gJ2xlZnQnICYmIHRoaXMud3JhcCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmbiA9IGFsaWduW3Jvd1tjXS5hbGlnbl07XG4gICAgICAgICAgICAgICAgICAgIHRzID0gZm4odHMsIHdyYXBXaWR0aCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtaXhpbi5zdHJpbmdXaWR0aCh0cykgPCB3cmFwV2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRzICs9ICcgJy5yZXBlYXQoKHdpZHRoIHx8IDApIC0gbWl4aW4uc3RyaW5nV2lkdGgodHMpIC0gMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gYXBwbHkgYm9yZGVyIGFuZCBwYWRkaW5nIHRvIHN0cmluZy5cbiAgICAgICAgICAgICAgICBjb25zdCBwYWRkaW5nID0gcm93W2NdLnBhZGRpbmcgfHwgWzAsIDAsIDAsIDBdO1xuICAgICAgICAgICAgICAgIGlmIChwYWRkaW5nW2xlZnRdKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0ciArPSAnICcucmVwZWF0KHBhZGRpbmdbbGVmdF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzdHIgKz0gYWRkQm9yZGVyKHJvd1tjXSwgdHMsICd8ICcpO1xuICAgICAgICAgICAgICAgIHN0ciArPSB0cztcbiAgICAgICAgICAgICAgICBzdHIgKz0gYWRkQm9yZGVyKHJvd1tjXSwgdHMsICcgfCcpO1xuICAgICAgICAgICAgICAgIGlmIChwYWRkaW5nW3JpZ2h0XSkge1xuICAgICAgICAgICAgICAgICAgICBzdHIgKz0gJyAnLnJlcGVhdChwYWRkaW5nW3JpZ2h0XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGlmIHByaW9yIHJvdyBpcyBzcGFuLCB0cnkgdG8gcmVuZGVyIHRoZVxuICAgICAgICAgICAgICAgIC8vIGN1cnJlbnQgcm93IG9uIHRoZSBwcmlvciBsaW5lLlxuICAgICAgICAgICAgICAgIGlmIChyID09PSAwICYmIGxpbmVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc3RyID0gdGhpcy5yZW5kZXJJbmxpbmUoc3RyLCBsaW5lc1tsaW5lcy5sZW5ndGggLSAxXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyByZW1vdmUgdHJhaWxpbmcgd2hpdGVzcGFjZS5cbiAgICAgICAgICAgIGxpbmVzLnB1c2goe1xuICAgICAgICAgICAgICAgIHRleHQ6IHN0ci5yZXBsYWNlKC8gKyQvLCAnJyksXG4gICAgICAgICAgICAgICAgc3Bhbjogcm93LnNwYW5cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGxpbmVzO1xuICAgIH1cbiAgICAvLyBpZiB0aGUgZnVsbCAnc291cmNlJyBjYW4gcmVuZGVyIGluXG4gICAgLy8gdGhlIHRhcmdldCBsaW5lLCBkbyBzby5cbiAgICByZW5kZXJJbmxpbmUoc291cmNlLCBwcmV2aW91c0xpbmUpIHtcbiAgICAgICAgY29uc3QgbWF0Y2ggPSBzb3VyY2UubWF0Y2goL14gKi8pO1xuICAgICAgICBjb25zdCBsZWFkaW5nV2hpdGVzcGFjZSA9IG1hdGNoID8gbWF0Y2hbMF0ubGVuZ3RoIDogMDtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gcHJldmlvdXNMaW5lLnRleHQ7XG4gICAgICAgIGNvbnN0IHRhcmdldFRleHRXaWR0aCA9IG1peGluLnN0cmluZ1dpZHRoKHRhcmdldC50cmltUmlnaHQoKSk7XG4gICAgICAgIGlmICghcHJldmlvdXNMaW5lLnNwYW4pIHtcbiAgICAgICAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgd2UncmUgbm90IGFwcGx5aW5nIHdyYXBwaW5nIGxvZ2ljLFxuICAgICAgICAvLyBqdXN0IGFsd2F5cyBhcHBlbmQgdG8gdGhlIHNwYW4uXG4gICAgICAgIGlmICghdGhpcy53cmFwKSB7XG4gICAgICAgICAgICBwcmV2aW91c0xpbmUuaGlkZGVuID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQgKyBzb3VyY2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxlYWRpbmdXaGl0ZXNwYWNlIDwgdGFyZ2V0VGV4dFdpZHRoKSB7XG4gICAgICAgICAgICByZXR1cm4gc291cmNlO1xuICAgICAgICB9XG4gICAgICAgIHByZXZpb3VzTGluZS5oaWRkZW4gPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGFyZ2V0LnRyaW1SaWdodCgpICsgJyAnLnJlcGVhdChsZWFkaW5nV2hpdGVzcGFjZSAtIHRhcmdldFRleHRXaWR0aCkgKyBzb3VyY2UudHJpbUxlZnQoKTtcbiAgICB9XG4gICAgcmFzdGVyaXplKHJvdykge1xuICAgICAgICBjb25zdCBycm93cyA9IFtdO1xuICAgICAgICBjb25zdCB3aWR0aHMgPSB0aGlzLmNvbHVtbldpZHRocyhyb3cpO1xuICAgICAgICBsZXQgd3JhcHBlZDtcbiAgICAgICAgLy8gd29yZCB3cmFwIGFsbCBjb2x1bW5zLCBhbmQgY3JlYXRlXG4gICAgICAgIC8vIGEgZGF0YS1zdHJ1Y3R1cmUgdGhhdCBpcyBlYXN5IHRvIHJhc3Rlcml6ZS5cbiAgICAgICAgcm93LmZvckVhY2goKGNvbCwgYykgPT4ge1xuICAgICAgICAgICAgLy8gbGVhdmUgcm9vbSBmb3IgbGVmdCBhbmQgcmlnaHQgcGFkZGluZy5cbiAgICAgICAgICAgIGNvbC53aWR0aCA9IHdpZHRoc1tjXTtcbiAgICAgICAgICAgIGlmICh0aGlzLndyYXApIHtcbiAgICAgICAgICAgICAgICB3cmFwcGVkID0gbWl4aW4ud3JhcChjb2wudGV4dCwgdGhpcy5uZWdhdGVQYWRkaW5nKGNvbCksIHsgaGFyZDogdHJ1ZSB9KS5zcGxpdCgnXFxuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB3cmFwcGVkID0gY29sLnRleHQuc3BsaXQoJ1xcbicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbC5ib3JkZXIpIHtcbiAgICAgICAgICAgICAgICB3cmFwcGVkLnVuc2hpZnQoJy4nICsgJy0nLnJlcGVhdCh0aGlzLm5lZ2F0ZVBhZGRpbmcoY29sKSArIDIpICsgJy4nKTtcbiAgICAgICAgICAgICAgICB3cmFwcGVkLnB1c2goXCInXCIgKyAnLScucmVwZWF0KHRoaXMubmVnYXRlUGFkZGluZyhjb2wpICsgMikgKyBcIidcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBhZGQgdG9wIGFuZCBib3R0b20gcGFkZGluZy5cbiAgICAgICAgICAgIGlmIChjb2wucGFkZGluZykge1xuICAgICAgICAgICAgICAgIHdyYXBwZWQudW5zaGlmdCguLi5uZXcgQXJyYXkoY29sLnBhZGRpbmdbdG9wXSB8fCAwKS5maWxsKCcnKSk7XG4gICAgICAgICAgICAgICAgd3JhcHBlZC5wdXNoKC4uLm5ldyBBcnJheShjb2wucGFkZGluZ1tib3R0b21dIHx8IDApLmZpbGwoJycpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdyYXBwZWQuZm9yRWFjaCgoc3RyLCByKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFycm93c1tyXSkge1xuICAgICAgICAgICAgICAgICAgICBycm93cy5wdXNoKFtdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcnJvdyA9IHJyb3dzW3JdO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYzsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChycm93W2ldID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJyb3cucHVzaCgnJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcnJvdy5wdXNoKHN0cik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBycm93cztcbiAgICB9XG4gICAgbmVnYXRlUGFkZGluZyhjb2wpIHtcbiAgICAgICAgbGV0IHdyYXBXaWR0aCA9IGNvbC53aWR0aCB8fCAwO1xuICAgICAgICBpZiAoY29sLnBhZGRpbmcpIHtcbiAgICAgICAgICAgIHdyYXBXaWR0aCAtPSAoY29sLnBhZGRpbmdbbGVmdF0gfHwgMCkgKyAoY29sLnBhZGRpbmdbcmlnaHRdIHx8IDApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb2wuYm9yZGVyKSB7XG4gICAgICAgICAgICB3cmFwV2lkdGggLT0gNDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JhcFdpZHRoO1xuICAgIH1cbiAgICBjb2x1bW5XaWR0aHMocm93KSB7XG4gICAgICAgIGlmICghdGhpcy53cmFwKSB7XG4gICAgICAgICAgICByZXR1cm4gcm93Lm1hcChjb2wgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb2wud2lkdGggfHwgbWl4aW4uc3RyaW5nV2lkdGgoY29sLnRleHQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHVuc2V0ID0gcm93Lmxlbmd0aDtcbiAgICAgICAgbGV0IHJlbWFpbmluZ1dpZHRoID0gdGhpcy53aWR0aDtcbiAgICAgICAgLy8gY29sdW1uIHdpZHRocyBjYW4gYmUgc2V0IGluIGNvbmZpZy5cbiAgICAgICAgY29uc3Qgd2lkdGhzID0gcm93Lm1hcChjb2wgPT4ge1xuICAgICAgICAgICAgaWYgKGNvbC53aWR0aCkge1xuICAgICAgICAgICAgICAgIHVuc2V0LS07XG4gICAgICAgICAgICAgICAgcmVtYWluaW5nV2lkdGggLT0gY29sLndpZHRoO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb2wud2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gYW55IHVuc2V0IHdpZHRocyBzaG91bGQgYmUgY2FsY3VsYXRlZC5cbiAgICAgICAgY29uc3QgdW5zZXRXaWR0aCA9IHVuc2V0ID8gTWF0aC5mbG9vcihyZW1haW5pbmdXaWR0aCAvIHVuc2V0KSA6IDA7XG4gICAgICAgIHJldHVybiB3aWR0aHMubWFwKCh3LCBpKSA9PiB7XG4gICAgICAgICAgICBpZiAodyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hdGgubWF4KHVuc2V0V2lkdGgsIF9taW5XaWR0aChyb3dbaV0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB3O1xuICAgICAgICB9KTtcbiAgICB9XG59XG5mdW5jdGlvbiBhZGRCb3JkZXIoY29sLCB0cywgc3R5bGUpIHtcbiAgICBpZiAoY29sLmJvcmRlcikge1xuICAgICAgICBpZiAoL1suJ10tK1suJ10vLnRlc3QodHMpKSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRzLnRyaW0oKS5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBzdHlsZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJyAgJztcbiAgICB9XG4gICAgcmV0dXJuICcnO1xufVxuLy8gY2FsY3VsYXRlcyB0aGUgbWluaW11bSB3aWR0aCBvZlxuLy8gYSBjb2x1bW4sIGJhc2VkIG9uIHBhZGRpbmcgcHJlZmVyZW5jZXMuXG5mdW5jdGlvbiBfbWluV2lkdGgoY29sKSB7XG4gICAgY29uc3QgcGFkZGluZyA9IGNvbC5wYWRkaW5nIHx8IFtdO1xuICAgIGNvbnN0IG1pbldpZHRoID0gMSArIChwYWRkaW5nW2xlZnRdIHx8IDApICsgKHBhZGRpbmdbcmlnaHRdIHx8IDApO1xuICAgIGlmIChjb2wuYm9yZGVyKSB7XG4gICAgICAgIHJldHVybiBtaW5XaWR0aCArIDQ7XG4gICAgfVxuICAgIHJldHVybiBtaW5XaWR0aDtcbn1cbmZ1bmN0aW9uIGdldFdpbmRvd1dpZHRoKCkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiBkZXBlbmRzIG9uIHRlcm1pbmFsICovXG4gICAgaWYgKHR5cGVvZiBwcm9jZXNzID09PSAnb2JqZWN0JyAmJiBwcm9jZXNzLnN0ZG91dCAmJiBwcm9jZXNzLnN0ZG91dC5jb2x1bW5zKSB7XG4gICAgICAgIHJldHVybiBwcm9jZXNzLnN0ZG91dC5jb2x1bW5zO1xuICAgIH1cbiAgICByZXR1cm4gODA7XG59XG5mdW5jdGlvbiBhbGlnblJpZ2h0KHN0ciwgd2lkdGgpIHtcbiAgICBzdHIgPSBzdHIudHJpbSgpO1xuICAgIGNvbnN0IHN0cldpZHRoID0gbWl4aW4uc3RyaW5nV2lkdGgoc3RyKTtcbiAgICBpZiAoc3RyV2lkdGggPCB3aWR0aCkge1xuICAgICAgICByZXR1cm4gJyAnLnJlcGVhdCh3aWR0aCAtIHN0cldpZHRoKSArIHN0cjtcbiAgICB9XG4gICAgcmV0dXJuIHN0cjtcbn1cbmZ1bmN0aW9uIGFsaWduQ2VudGVyKHN0ciwgd2lkdGgpIHtcbiAgICBzdHIgPSBzdHIudHJpbSgpO1xuICAgIGNvbnN0IHN0cldpZHRoID0gbWl4aW4uc3RyaW5nV2lkdGgoc3RyKTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGlmIChzdHJXaWR0aCA+PSB3aWR0aCkge1xuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH1cbiAgICByZXR1cm4gJyAnLnJlcGVhdCgod2lkdGggLSBzdHJXaWR0aCkgPj4gMSkgKyBzdHI7XG59XG5sZXQgbWl4aW47XG5leHBvcnQgZnVuY3Rpb24gY2xpdWkob3B0cywgX21peGluKSB7XG4gICAgbWl4aW4gPSBfbWl4aW47XG4gICAgcmV0dXJuIG5ldyBVSSh7XG4gICAgICAgIHdpZHRoOiAob3B0cyA9PT0gbnVsbCB8fCBvcHRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRzLndpZHRoKSB8fCBnZXRXaW5kb3dXaWR0aCgpLFxuICAgICAgICB3cmFwOiBvcHRzID09PSBudWxsIHx8IG9wdHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdHMud3JhcFxuICAgIH0pO1xufVxuIiwgIi8vIE1pbmltYWwgcmVwbGFjZW1lbnQgZm9yIGFuc2kgc3RyaW5nIGhlbHBlcnMgXCJ3cmFwLWFuc2lcIiBhbmQgXCJzdHJpcC1hbnNpXCIuXG4vLyB0byBmYWNpbGl0YXRlIEVTTSBhbmQgRGVubyBtb2R1bGVzLlxuLy8gVE9ETzogbG9vayBhdCBwb3J0aW5nIGh0dHBzOi8vd3d3Lm5wbWpzLmNvbS9wYWNrYWdlL3dyYXAtYW5zaSB0byBFU00uXG4vLyBUaGUgbnBtIGFwcGxpY2F0aW9uXG4vLyBDb3B5cmlnaHQgKGMpIG5wbSwgSW5jLiBhbmQgQ29udHJpYnV0b3JzXG4vLyBMaWNlbnNlZCBvbiB0aGUgdGVybXMgb2YgVGhlIEFydGlzdGljIExpY2Vuc2UgMi4wXG4vLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9ucG0vY2xpL2Jsb2IvNGM2NWNkOTUyYmM4NjI3ODExNzM1YmVhNzZiOWIxMTBjYzRmYzgwZS9saWIvdXRpbHMvYW5zaS10cmltLmpzXG5jb25zdCBhbnNpID0gbmV3IFJlZ0V4cCgnXFx4MWIoPzpcXFxcWyg/OlxcXFxkK1tBQkNERUZHSktTVG1dfFxcXFxkKztcXFxcZCtbSGZtXXwnICtcbiAgICAnXFxcXGQrO1xcXFxkKztcXFxcZCttfDZufHN8dXxcXFxcPzI1W2xoXSl8XFxcXHcpJywgJ2cnKTtcbmV4cG9ydCBmdW5jdGlvbiBzdHJpcEFuc2koc3RyKSB7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKGFuc2ksICcnKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB3cmFwKHN0ciwgd2lkdGgpIHtcbiAgICBjb25zdCBbc3RhcnQsIGVuZF0gPSBzdHIubWF0Y2goYW5zaSkgfHwgWycnLCAnJ107XG4gICAgc3RyID0gc3RyaXBBbnNpKHN0cik7XG4gICAgbGV0IHdyYXBwZWQgPSAnJztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaSAhPT0gMCAmJiAoaSAlIHdpZHRoKSA9PT0gMCkge1xuICAgICAgICAgICAgd3JhcHBlZCArPSAnXFxuJztcbiAgICAgICAgfVxuICAgICAgICB3cmFwcGVkICs9IHN0ci5jaGFyQXQoaSk7XG4gICAgfVxuICAgIGlmIChzdGFydCAmJiBlbmQpIHtcbiAgICAgICAgd3JhcHBlZCA9IGAke3N0YXJ0fSR7d3JhcHBlZH0ke2VuZH1gO1xuICAgIH1cbiAgICByZXR1cm4gd3JhcHBlZDtcbn1cbiIsICIvLyBCb290c3RyYXAgY2xpdWkgd2l0aCBDb21tb25KUyBkZXBlbmRlbmNpZXM6XG5pbXBvcnQgeyBjbGl1aSB9IGZyb20gJy4vYnVpbGQvbGliL2luZGV4LmpzJ1xuaW1wb3J0IHsgd3JhcCwgc3RyaXBBbnNpIH0gZnJvbSAnLi9idWlsZC9saWIvc3RyaW5nLXV0aWxzLmpzJ1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1aSAob3B0cykge1xuICByZXR1cm4gY2xpdWkob3B0cywge1xuICAgIHN0cmluZ1dpZHRoOiAoc3RyKSA9PiB7XG4gICAgICByZXR1cm4gWy4uLnN0cl0ubGVuZ3RoXG4gICAgfSxcbiAgICBzdHJpcEFuc2ksXG4gICAgd3JhcFxuICB9KVxufVxuIiwgImltcG9ydCB7IGRpcm5hbWUsIHJlc29sdmUgfSBmcm9tICdwYXRoJztcbmltcG9ydCB7IHJlYWRkaXJTeW5jLCBzdGF0U3luYyB9IGZyb20gJ2ZzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKHN0YXJ0LCBjYWxsYmFjaykge1xuXHRsZXQgZGlyID0gcmVzb2x2ZSgnLicsIHN0YXJ0KTtcblx0bGV0IHRtcCwgc3RhdHMgPSBzdGF0U3luYyhkaXIpO1xuXG5cdGlmICghc3RhdHMuaXNEaXJlY3RvcnkoKSkge1xuXHRcdGRpciA9IGRpcm5hbWUoZGlyKTtcblx0fVxuXG5cdHdoaWxlICh0cnVlKSB7XG5cdFx0dG1wID0gY2FsbGJhY2soZGlyLCByZWFkZGlyU3luYyhkaXIpKTtcblx0XHRpZiAodG1wKSByZXR1cm4gcmVzb2x2ZShkaXIsIHRtcCk7XG5cdFx0ZGlyID0gZGlybmFtZSh0bXAgPSBkaXIpO1xuXHRcdGlmICh0bXAgPT09IGRpcikgYnJlYWs7XG5cdH1cbn1cbiIsICIvKipcbiAqIEBmaWxlb3ZlcnZpZXcgTWFpbiBlbnRyeXBvaW50IGZvciBsaWJyYXJpZXMgdXNpbmcgeWFyZ3MtcGFyc2VyIGluIE5vZGUuanNcbiAqIENKUyBhbmQgRVNNIGVudmlyb25tZW50cy5cbiAqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE2LCBDb250cmlidXRvcnNcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBJU0NcbiAqL1xudmFyIF9hLCBfYiwgX2M7XG5pbXBvcnQgeyBmb3JtYXQgfSBmcm9tICd1dGlsJztcbmltcG9ydCB7IG5vcm1hbGl6ZSwgcmVzb2x2ZSB9IGZyb20gJ3BhdGgnO1xuaW1wb3J0IHsgY2FtZWxDYXNlLCBkZWNhbWVsaXplLCBsb29rc0xpa2VOdW1iZXIgfSBmcm9tICcuL3N0cmluZy11dGlscy5qcyc7XG5pbXBvcnQgeyBZYXJnc1BhcnNlciB9IGZyb20gJy4veWFyZ3MtcGFyc2VyLmpzJztcbmltcG9ydCB7IHJlYWRGaWxlU3luYyB9IGZyb20gJ2ZzJztcbi8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20veWFyZ3MveWFyZ3MtcGFyc2VyI3N1cHBvcnRlZC1ub2RlanMtdmVyc2lvbnMgZm9yIG91clxuLy8gdmVyc2lvbiBzdXBwb3J0IHBvbGljeS4gVGhlIFlBUkdTX01JTl9OT0RFX1ZFUlNJT04gaXMgdXNlZCBmb3IgdGVzdGluZyBvbmx5LlxuY29uc3QgbWluTm9kZVZlcnNpb24gPSAocHJvY2VzcyAmJiBwcm9jZXNzLmVudiAmJiBwcm9jZXNzLmVudi5ZQVJHU19NSU5fTk9ERV9WRVJTSU9OKVxuICAgID8gTnVtYmVyKHByb2Nlc3MuZW52LllBUkdTX01JTl9OT0RFX1ZFUlNJT04pXG4gICAgOiAxMjtcbmNvbnN0IG5vZGVWZXJzaW9uID0gKF9iID0gKF9hID0gcHJvY2VzcyA9PT0gbnVsbCB8fCBwcm9jZXNzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwcm9jZXNzLnZlcnNpb25zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eubm9kZSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogKF9jID0gcHJvY2VzcyA9PT0gbnVsbCB8fCBwcm9jZXNzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwcm9jZXNzLnZlcnNpb24pID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5zbGljZSgxKTtcbmlmIChub2RlVmVyc2lvbikge1xuICAgIGNvbnN0IG1ham9yID0gTnVtYmVyKG5vZGVWZXJzaW9uLm1hdGNoKC9eKFteLl0rKS8pWzFdKTtcbiAgICBpZiAobWFqb3IgPCBtaW5Ob2RlVmVyc2lvbikge1xuICAgICAgICB0aHJvdyBFcnJvcihgeWFyZ3MgcGFyc2VyIHN1cHBvcnRzIGEgbWluaW11bSBOb2RlLmpzIHZlcnNpb24gb2YgJHttaW5Ob2RlVmVyc2lvbn0uIFJlYWQgb3VyIHZlcnNpb24gc3VwcG9ydCBwb2xpY3k6IGh0dHBzOi8vZ2l0aHViLmNvbS95YXJncy95YXJncy1wYXJzZXIjc3VwcG9ydGVkLW5vZGVqcy12ZXJzaW9uc2ApO1xuICAgIH1cbn1cbi8vIENyZWF0ZXMgYSB5YXJncy1wYXJzZXIgaW5zdGFuY2UgdXNpbmcgTm9kZS5qcyBzdGFuZGFyZCBsaWJyYXJpZXM6XG5jb25zdCBlbnYgPSBwcm9jZXNzID8gcHJvY2Vzcy5lbnYgOiB7fTtcbmNvbnN0IHBhcnNlciA9IG5ldyBZYXJnc1BhcnNlcih7XG4gICAgY3dkOiBwcm9jZXNzLmN3ZCxcbiAgICBlbnY6ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIGVudjtcbiAgICB9LFxuICAgIGZvcm1hdCxcbiAgICBub3JtYWxpemUsXG4gICAgcmVzb2x2ZSxcbiAgICAvLyBUT0RPOiBmaWd1cmUgIG91dCBhICB3YXkgdG8gY29tYmluZSBFU00gYW5kIENKUyBjb3ZlcmFnZSwgc3VjaCAgdGhhdFxuICAgIC8vIHdlIGNhbiBleGVyY2lzZSBhbGwgdGhlIGxpbmVzIGJlbG93OlxuICAgIHJlcXVpcmU6IChwYXRoKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgcmVxdWlyZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJldHVybiByZXF1aXJlKHBhdGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBhdGgubWF0Y2goL1xcLmpzb24kLykpIHtcbiAgICAgICAgICAgIC8vIEFkZHJlc3NlczogaHR0cHM6Ly9naXRodWIuY29tL3lhcmdzL3lhcmdzL2lzc3Vlcy8yMDQwXG4gICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShyZWFkRmlsZVN5bmMocGF0aCwgJ3V0ZjgnKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcignb25seSAuanNvbiBjb25maWcgZmlsZXMgYXJlIHN1cHBvcnRlZCBpbiBFU00nKTtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuY29uc3QgeWFyZ3NQYXJzZXIgPSBmdW5jdGlvbiBQYXJzZXIoYXJncywgb3B0cykge1xuICAgIGNvbnN0IHJlc3VsdCA9IHBhcnNlci5wYXJzZShhcmdzLnNsaWNlKCksIG9wdHMpO1xuICAgIHJldHVybiByZXN1bHQuYXJndjtcbn07XG55YXJnc1BhcnNlci5kZXRhaWxlZCA9IGZ1bmN0aW9uIChhcmdzLCBvcHRzKSB7XG4gICAgcmV0dXJuIHBhcnNlci5wYXJzZShhcmdzLnNsaWNlKCksIG9wdHMpO1xufTtcbnlhcmdzUGFyc2VyLmNhbWVsQ2FzZSA9IGNhbWVsQ2FzZTtcbnlhcmdzUGFyc2VyLmRlY2FtZWxpemUgPSBkZWNhbWVsaXplO1xueWFyZ3NQYXJzZXIubG9va3NMaWtlTnVtYmVyID0gbG9va3NMaWtlTnVtYmVyO1xuZXhwb3J0IGRlZmF1bHQgeWFyZ3NQYXJzZXI7XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE2LCBDb250cmlidXRvcnNcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBJU0NcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNhbWVsQ2FzZShzdHIpIHtcbiAgICAvLyBIYW5kbGUgdGhlIGNhc2Ugd2hlcmUgYW4gYXJndW1lbnQgaXMgcHJvdmlkZWQgYXMgY2FtZWwgY2FzZSwgZS5nLiwgZm9vQmFyLlxuICAgIC8vIGJ5IGVuc3VyaW5nIHRoYXQgdGhlIHN0cmluZyBpc24ndCBhbHJlYWR5IG1peGVkIGNhc2U6XG4gICAgY29uc3QgaXNDYW1lbENhc2UgPSBzdHIgIT09IHN0ci50b0xvd2VyQ2FzZSgpICYmIHN0ciAhPT0gc3RyLnRvVXBwZXJDYXNlKCk7XG4gICAgaWYgKCFpc0NhbWVsQ2FzZSkge1xuICAgICAgICBzdHIgPSBzdHIudG9Mb3dlckNhc2UoKTtcbiAgICB9XG4gICAgaWYgKHN0ci5pbmRleE9mKCctJykgPT09IC0xICYmIHN0ci5pbmRleE9mKCdfJykgPT09IC0xKSB7XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBsZXQgY2FtZWxjYXNlID0gJyc7XG4gICAgICAgIGxldCBuZXh0Q2hyVXBwZXIgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgbGVhZGluZ0h5cGhlbnMgPSBzdHIubWF0Y2goL14tKy8pO1xuICAgICAgICBmb3IgKGxldCBpID0gbGVhZGluZ0h5cGhlbnMgPyBsZWFkaW5nSHlwaGVuc1swXS5sZW5ndGggOiAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgY2hyID0gc3RyLmNoYXJBdChpKTtcbiAgICAgICAgICAgIGlmIChuZXh0Q2hyVXBwZXIpIHtcbiAgICAgICAgICAgICAgICBuZXh0Q2hyVXBwZXIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBjaHIgPSBjaHIudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpICE9PSAwICYmIChjaHIgPT09ICctJyB8fCBjaHIgPT09ICdfJykpIHtcbiAgICAgICAgICAgICAgICBuZXh0Q2hyVXBwZXIgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hyICE9PSAnLScgJiYgY2hyICE9PSAnXycpIHtcbiAgICAgICAgICAgICAgICBjYW1lbGNhc2UgKz0gY2hyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjYW1lbGNhc2U7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGRlY2FtZWxpemUoc3RyLCBqb2luU3RyaW5nKSB7XG4gICAgY29uc3QgbG93ZXJjYXNlID0gc3RyLnRvTG93ZXJDYXNlKCk7XG4gICAgam9pblN0cmluZyA9IGpvaW5TdHJpbmcgfHwgJy0nO1xuICAgIGxldCBub3RDYW1lbGNhc2UgPSAnJztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBjaHJMb3dlciA9IGxvd2VyY2FzZS5jaGFyQXQoaSk7XG4gICAgICAgIGNvbnN0IGNoclN0cmluZyA9IHN0ci5jaGFyQXQoaSk7XG4gICAgICAgIGlmIChjaHJMb3dlciAhPT0gY2hyU3RyaW5nICYmIGkgPiAwKSB7XG4gICAgICAgICAgICBub3RDYW1lbGNhc2UgKz0gYCR7am9pblN0cmluZ30ke2xvd2VyY2FzZS5jaGFyQXQoaSl9YDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5vdENhbWVsY2FzZSArPSBjaHJTdHJpbmc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5vdENhbWVsY2FzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBsb29rc0xpa2VOdW1iZXIoeCkge1xuICAgIGlmICh4ID09PSBudWxsIHx8IHggPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIC8vIGlmIGxvYWRlZCBmcm9tIGNvbmZpZywgbWF5IGFscmVhZHkgYmUgYSBudW1iZXIuXG4gICAgaWYgKHR5cGVvZiB4ID09PSAnbnVtYmVyJylcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgLy8gaGV4YWRlY2ltYWwuXG4gICAgaWYgKC9eMHhbMC05YS1mXSskL2kudGVzdCh4KSlcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgLy8gZG9uJ3QgdHJlYXQgMDEyMyBhcyBhIG51bWJlcjsgYXMgaXQgZHJvcHMgdGhlIGxlYWRpbmcgJzAnLlxuICAgIGlmICgvXjBbXi5dLy50ZXN0KHgpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIC9eWy1dPyg/OlxcZCsoPzpcXC5cXGQqKT98XFwuXFxkKykoZVstK10/XFxkKyk/JC8udGVzdCh4KTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTYsIENvbnRyaWJ1dG9yc1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IElTQ1xuICovXG4vLyB0YWtlIGFuIHVuLXNwbGl0IGFyZ3Ygc3RyaW5nIGFuZCB0b2tlbml6ZSBpdC5cbmV4cG9ydCBmdW5jdGlvbiB0b2tlbml6ZUFyZ1N0cmluZyhhcmdTdHJpbmcpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhcmdTdHJpbmcpKSB7XG4gICAgICAgIHJldHVybiBhcmdTdHJpbmcubWFwKGUgPT4gdHlwZW9mIGUgIT09ICdzdHJpbmcnID8gZSArICcnIDogZSk7XG4gICAgfVxuICAgIGFyZ1N0cmluZyA9IGFyZ1N0cmluZy50cmltKCk7XG4gICAgbGV0IGkgPSAwO1xuICAgIGxldCBwcmV2QyA9IG51bGw7XG4gICAgbGV0IGMgPSBudWxsO1xuICAgIGxldCBvcGVuaW5nID0gbnVsbDtcbiAgICBjb25zdCBhcmdzID0gW107XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGFyZ1N0cmluZy5sZW5ndGg7IGlpKyspIHtcbiAgICAgICAgcHJldkMgPSBjO1xuICAgICAgICBjID0gYXJnU3RyaW5nLmNoYXJBdChpaSk7XG4gICAgICAgIC8vIHNwbGl0IG9uIHNwYWNlcyB1bmxlc3Mgd2UncmUgaW4gcXVvdGVzLlxuICAgICAgICBpZiAoYyA9PT0gJyAnICYmICFvcGVuaW5nKSB7XG4gICAgICAgICAgICBpZiAoIShwcmV2QyA9PT0gJyAnKSkge1xuICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGRvbid0IHNwbGl0IHRoZSBzdHJpbmcgaWYgd2UncmUgaW4gbWF0Y2hpbmdcbiAgICAgICAgLy8gb3BlbmluZyBvciBjbG9zaW5nIHNpbmdsZSBhbmQgZG91YmxlIHF1b3Rlcy5cbiAgICAgICAgaWYgKGMgPT09IG9wZW5pbmcpIHtcbiAgICAgICAgICAgIG9wZW5pbmcgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKChjID09PSBcIidcIiB8fCBjID09PSAnXCInKSAmJiAhb3BlbmluZykge1xuICAgICAgICAgICAgb3BlbmluZyA9IGM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhcmdzW2ldKVxuICAgICAgICAgICAgYXJnc1tpXSA9ICcnO1xuICAgICAgICBhcmdzW2ldICs9IGM7XG4gICAgfVxuICAgIHJldHVybiBhcmdzO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNiwgQ29udHJpYnV0b3JzXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogSVNDXG4gKi9cbmV4cG9ydCB2YXIgRGVmYXVsdFZhbHVlc0ZvclR5cGVLZXk7XG4oZnVuY3Rpb24gKERlZmF1bHRWYWx1ZXNGb3JUeXBlS2V5KSB7XG4gICAgRGVmYXVsdFZhbHVlc0ZvclR5cGVLZXlbXCJCT09MRUFOXCJdID0gXCJib29sZWFuXCI7XG4gICAgRGVmYXVsdFZhbHVlc0ZvclR5cGVLZXlbXCJTVFJJTkdcIl0gPSBcInN0cmluZ1wiO1xuICAgIERlZmF1bHRWYWx1ZXNGb3JUeXBlS2V5W1wiTlVNQkVSXCJdID0gXCJudW1iZXJcIjtcbiAgICBEZWZhdWx0VmFsdWVzRm9yVHlwZUtleVtcIkFSUkFZXCJdID0gXCJhcnJheVwiO1xufSkoRGVmYXVsdFZhbHVlc0ZvclR5cGVLZXkgfHwgKERlZmF1bHRWYWx1ZXNGb3JUeXBlS2V5ID0ge30pKTtcbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTYsIENvbnRyaWJ1dG9yc1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IElTQ1xuICovXG5pbXBvcnQgeyB0b2tlbml6ZUFyZ1N0cmluZyB9IGZyb20gJy4vdG9rZW5pemUtYXJnLXN0cmluZy5qcyc7XG5pbXBvcnQgeyBEZWZhdWx0VmFsdWVzRm9yVHlwZUtleSB9IGZyb20gJy4veWFyZ3MtcGFyc2VyLXR5cGVzLmpzJztcbmltcG9ydCB7IGNhbWVsQ2FzZSwgZGVjYW1lbGl6ZSwgbG9va3NMaWtlTnVtYmVyIH0gZnJvbSAnLi9zdHJpbmctdXRpbHMuanMnO1xubGV0IG1peGluO1xuZXhwb3J0IGNsYXNzIFlhcmdzUGFyc2VyIHtcbiAgICBjb25zdHJ1Y3RvcihfbWl4aW4pIHtcbiAgICAgICAgbWl4aW4gPSBfbWl4aW47XG4gICAgfVxuICAgIHBhcnNlKGFyZ3NJbnB1dCwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBvcHRzID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICBhbGlhczogdW5kZWZpbmVkLFxuICAgICAgICAgICAgYXJyYXk6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGJvb2xlYW46IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGNvbmZpZzogdW5kZWZpbmVkLFxuICAgICAgICAgICAgY29uZmlnT2JqZWN0czogdW5kZWZpbmVkLFxuICAgICAgICAgICAgY29uZmlndXJhdGlvbjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgY29lcmNlOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBjb3VudDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZGVmYXVsdDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZW52UHJlZml4OiB1bmRlZmluZWQsXG4gICAgICAgICAgICBuYXJnOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBub3JtYWxpemU6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHN0cmluZzogdW5kZWZpbmVkLFxuICAgICAgICAgICAgbnVtYmVyOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBfXzogdW5kZWZpbmVkLFxuICAgICAgICAgICAga2V5OiB1bmRlZmluZWRcbiAgICAgICAgfSwgb3B0aW9ucyk7XG4gICAgICAgIC8vIGFsbG93IGEgc3RyaW5nIGFyZ3VtZW50IHRvIGJlIHBhc3NlZCBpbiByYXRoZXJcbiAgICAgICAgLy8gdGhhbiBhbiBhcmd2IGFycmF5LlxuICAgICAgICBjb25zdCBhcmdzID0gdG9rZW5pemVBcmdTdHJpbmcoYXJnc0lucHV0KTtcbiAgICAgICAgLy8gdG9rZW5pemVBcmdTdHJpbmcgYWRkcyBleHRyYSBxdW90ZXMgdG8gYXJncyBpZiBhcmdzSW5wdXQgaXMgYSBzdHJpbmdcbiAgICAgICAgLy8gb25seSBzdHJpcCB0aG9zZSBleHRyYSBxdW90ZXMgaW4gcHJvY2Vzc1ZhbHVlIGlmIGFyZ3NJbnB1dCBpcyBhIHN0cmluZ1xuICAgICAgICBjb25zdCBpbnB1dElzU3RyaW5nID0gdHlwZW9mIGFyZ3NJbnB1dCA9PT0gJ3N0cmluZyc7XG4gICAgICAgIC8vIGFsaWFzZXMgbWlnaHQgaGF2ZSB0cmFuc2l0aXZlIHJlbGF0aW9uc2hpcHMsIG5vcm1hbGl6ZSB0aGlzLlxuICAgICAgICBjb25zdCBhbGlhc2VzID0gY29tYmluZUFsaWFzZXMoT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKG51bGwpLCBvcHRzLmFsaWFzKSk7XG4gICAgICAgIGNvbnN0IGNvbmZpZ3VyYXRpb24gPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgICdib29sZWFuLW5lZ2F0aW9uJzogdHJ1ZSxcbiAgICAgICAgICAgICdjYW1lbC1jYXNlLWV4cGFuc2lvbic6IHRydWUsXG4gICAgICAgICAgICAnY29tYmluZS1hcnJheXMnOiBmYWxzZSxcbiAgICAgICAgICAgICdkb3Qtbm90YXRpb24nOiB0cnVlLFxuICAgICAgICAgICAgJ2R1cGxpY2F0ZS1hcmd1bWVudHMtYXJyYXknOiB0cnVlLFxuICAgICAgICAgICAgJ2ZsYXR0ZW4tZHVwbGljYXRlLWFycmF5cyc6IHRydWUsXG4gICAgICAgICAgICAnZ3JlZWR5LWFycmF5cyc6IHRydWUsXG4gICAgICAgICAgICAnaGFsdC1hdC1ub24tb3B0aW9uJzogZmFsc2UsXG4gICAgICAgICAgICAnbmFyZ3MtZWF0cy1vcHRpb25zJzogZmFsc2UsXG4gICAgICAgICAgICAnbmVnYXRpb24tcHJlZml4JzogJ25vLScsXG4gICAgICAgICAgICAncGFyc2UtbnVtYmVycyc6IHRydWUsXG4gICAgICAgICAgICAncGFyc2UtcG9zaXRpb25hbC1udW1iZXJzJzogdHJ1ZSxcbiAgICAgICAgICAgICdwb3B1bGF0ZS0tJzogZmFsc2UsXG4gICAgICAgICAgICAnc2V0LXBsYWNlaG9sZGVyLWtleSc6IGZhbHNlLFxuICAgICAgICAgICAgJ3Nob3J0LW9wdGlvbi1ncm91cHMnOiB0cnVlLFxuICAgICAgICAgICAgJ3N0cmlwLWFsaWFzZWQnOiBmYWxzZSxcbiAgICAgICAgICAgICdzdHJpcC1kYXNoZWQnOiBmYWxzZSxcbiAgICAgICAgICAgICd1bmtub3duLW9wdGlvbnMtYXMtYXJncyc6IGZhbHNlXG4gICAgICAgIH0sIG9wdHMuY29uZmlndXJhdGlvbik7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKG51bGwpLCBvcHRzLmRlZmF1bHQpO1xuICAgICAgICBjb25zdCBjb25maWdPYmplY3RzID0gb3B0cy5jb25maWdPYmplY3RzIHx8IFtdO1xuICAgICAgICBjb25zdCBlbnZQcmVmaXggPSBvcHRzLmVudlByZWZpeDtcbiAgICAgICAgY29uc3Qgbm90RmxhZ3NPcHRpb24gPSBjb25maWd1cmF0aW9uWydwb3B1bGF0ZS0tJ107XG4gICAgICAgIGNvbnN0IG5vdEZsYWdzQXJndiA9IG5vdEZsYWdzT3B0aW9uID8gJy0tJyA6ICdfJztcbiAgICAgICAgY29uc3QgbmV3QWxpYXNlcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRlZCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIC8vIGFsbG93IGEgaTE4biBoYW5kbGVyIHRvIGJlIHBhc3NlZCBpbiwgZGVmYXVsdCB0byBhIGZha2Ugb25lICh1dGlsLmZvcm1hdCkuXG4gICAgICAgIGNvbnN0IF9fID0gb3B0cy5fXyB8fCBtaXhpbi5mb3JtYXQ7XG4gICAgICAgIGNvbnN0IGZsYWdzID0ge1xuICAgICAgICAgICAgYWxpYXNlczogT2JqZWN0LmNyZWF0ZShudWxsKSxcbiAgICAgICAgICAgIGFycmF5czogT2JqZWN0LmNyZWF0ZShudWxsKSxcbiAgICAgICAgICAgIGJvb2xzOiBPYmplY3QuY3JlYXRlKG51bGwpLFxuICAgICAgICAgICAgc3RyaW5nczogT2JqZWN0LmNyZWF0ZShudWxsKSxcbiAgICAgICAgICAgIG51bWJlcnM6IE9iamVjdC5jcmVhdGUobnVsbCksXG4gICAgICAgICAgICBjb3VudHM6IE9iamVjdC5jcmVhdGUobnVsbCksXG4gICAgICAgICAgICBub3JtYWxpemU6IE9iamVjdC5jcmVhdGUobnVsbCksXG4gICAgICAgICAgICBjb25maWdzOiBPYmplY3QuY3JlYXRlKG51bGwpLFxuICAgICAgICAgICAgbmFyZ3M6IE9iamVjdC5jcmVhdGUobnVsbCksXG4gICAgICAgICAgICBjb2VyY2lvbnM6IE9iamVjdC5jcmVhdGUobnVsbCksXG4gICAgICAgICAgICBrZXlzOiBbXVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBuZWdhdGl2ZSA9IC9eLShbMC05XSsoXFwuWzAtOV0rKT98XFwuWzAtOV0rKSQvO1xuICAgICAgICBjb25zdCBuZWdhdGVkQm9vbGVhbiA9IG5ldyBSZWdFeHAoJ14tLScgKyBjb25maWd1cmF0aW9uWyduZWdhdGlvbi1wcmVmaXgnXSArICcoLispJyk7XG4gICAgICAgIFtdLmNvbmNhdChvcHRzLmFycmF5IHx8IFtdKS5maWx0ZXIoQm9vbGVhbikuZm9yRWFjaChmdW5jdGlvbiAob3B0KSB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSB0eXBlb2Ygb3B0ID09PSAnb2JqZWN0JyA/IG9wdC5rZXkgOiBvcHQ7XG4gICAgICAgICAgICAvLyBhc3NpZ24gdG8gZmxhZ3NbYm9vbHN8c3RyaW5nc3xudW1iZXJzXVxuICAgICAgICAgICAgY29uc3QgYXNzaWdubWVudCA9IE9iamVjdC5rZXlzKG9wdCkubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhcnJheUZsYWdLZXlzID0ge1xuICAgICAgICAgICAgICAgICAgICBib29sZWFuOiAnYm9vbHMnLFxuICAgICAgICAgICAgICAgICAgICBzdHJpbmc6ICdzdHJpbmdzJyxcbiAgICAgICAgICAgICAgICAgICAgbnVtYmVyOiAnbnVtYmVycydcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiBhcnJheUZsYWdLZXlzW2tleV07XG4gICAgICAgICAgICB9KS5maWx0ZXIoQm9vbGVhbikucG9wKCk7XG4gICAgICAgICAgICAvLyBhc3NpZ24ga2V5IHRvIGJlIGNvZXJjZWRcbiAgICAgICAgICAgIGlmIChhc3NpZ25tZW50KSB7XG4gICAgICAgICAgICAgICAgZmxhZ3NbYXNzaWdubWVudF1ba2V5XSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmbGFncy5hcnJheXNba2V5XSA9IHRydWU7XG4gICAgICAgICAgICBmbGFncy5rZXlzLnB1c2goa2V5KTtcbiAgICAgICAgfSk7XG4gICAgICAgIFtdLmNvbmNhdChvcHRzLmJvb2xlYW4gfHwgW10pLmZpbHRlcihCb29sZWFuKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIGZsYWdzLmJvb2xzW2tleV0gPSB0cnVlO1xuICAgICAgICAgICAgZmxhZ3Mua2V5cy5wdXNoKGtleSk7XG4gICAgICAgIH0pO1xuICAgICAgICBbXS5jb25jYXQob3B0cy5zdHJpbmcgfHwgW10pLmZpbHRlcihCb29sZWFuKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIGZsYWdzLnN0cmluZ3Nba2V5XSA9IHRydWU7XG4gICAgICAgICAgICBmbGFncy5rZXlzLnB1c2goa2V5KTtcbiAgICAgICAgfSk7XG4gICAgICAgIFtdLmNvbmNhdChvcHRzLm51bWJlciB8fCBbXSkuZmlsdGVyKEJvb2xlYW4pLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgZmxhZ3MubnVtYmVyc1trZXldID0gdHJ1ZTtcbiAgICAgICAgICAgIGZsYWdzLmtleXMucHVzaChrZXkpO1xuICAgICAgICB9KTtcbiAgICAgICAgW10uY29uY2F0KG9wdHMuY291bnQgfHwgW10pLmZpbHRlcihCb29sZWFuKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIGZsYWdzLmNvdW50c1trZXldID0gdHJ1ZTtcbiAgICAgICAgICAgIGZsYWdzLmtleXMucHVzaChrZXkpO1xuICAgICAgICB9KTtcbiAgICAgICAgW10uY29uY2F0KG9wdHMubm9ybWFsaXplIHx8IFtdKS5maWx0ZXIoQm9vbGVhbikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICBmbGFncy5ub3JtYWxpemVba2V5XSA9IHRydWU7XG4gICAgICAgICAgICBmbGFncy5rZXlzLnB1c2goa2V5KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0cy5uYXJnID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgT2JqZWN0LmVudHJpZXMob3B0cy5uYXJnKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICBmbGFncy5uYXJnc1trZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGZsYWdzLmtleXMucHVzaChrZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0cy5jb2VyY2UgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBPYmplY3QuZW50cmllcyhvcHRzLmNvZXJjZSkuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBmbGFncy5jb2VyY2lvbnNba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBmbGFncy5rZXlzLnB1c2goa2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIG9wdHMuY29uZmlnICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob3B0cy5jb25maWcpIHx8IHR5cGVvZiBvcHRzLmNvbmZpZyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgICAgW10uY29uY2F0KG9wdHMuY29uZmlnKS5maWx0ZXIoQm9vbGVhbikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIGZsYWdzLmNvbmZpZ3Nba2V5XSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2Ygb3B0cy5jb25maWcgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmVudHJpZXMob3B0cy5jb25maWcpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicgfHwgdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmbGFncy5jb25maWdzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGNyZWF0ZSBhIGxvb2t1cCB0YWJsZSB0aGF0IHRha2VzIGludG8gYWNjb3VudCBhbGxcbiAgICAgICAgLy8gY29tYmluYXRpb25zIG9mIGFsaWFzZXM6IHtmOiBbJ2ZvbyddLCBmb286IFsnZiddfVxuICAgICAgICBleHRlbmRBbGlhc2VzKG9wdHMua2V5LCBhbGlhc2VzLCBvcHRzLmRlZmF1bHQsIGZsYWdzLmFycmF5cyk7XG4gICAgICAgIC8vIGFwcGx5IGRlZmF1bHQgdmFsdWVzIHRvIGFsbCBhbGlhc2VzLlxuICAgICAgICBPYmplY3Qua2V5cyhkZWZhdWx0cykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAoZmxhZ3MuYWxpYXNlc1trZXldIHx8IFtdKS5mb3JFYWNoKGZ1bmN0aW9uIChhbGlhcykge1xuICAgICAgICAgICAgICAgIGRlZmF1bHRzW2FsaWFzXSA9IGRlZmF1bHRzW2tleV07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGxldCBlcnJvciA9IG51bGw7XG4gICAgICAgIGNoZWNrQ29uZmlndXJhdGlvbigpO1xuICAgICAgICBsZXQgbm90RmxhZ3MgPSBbXTtcbiAgICAgICAgY29uc3QgYXJndiA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShudWxsKSwgeyBfOiBbXSB9KTtcbiAgICAgICAgLy8gVE9ETyhiY29lKTogZm9yIHRoZSBmaXJzdCBwYXNzIGF0IHJlbW92aW5nIG9iamVjdCBwcm90b3R5cGUgIHdlIGRpZG4ndFxuICAgICAgICAvLyByZW1vdmUgYWxsIHByb3RvdHlwZXMgZnJvbSBvYmplY3RzIHJldHVybmVkIGJ5IHRoaXMgQVBJLCB3ZSBtaWdodCB3YW50XG4gICAgICAgIC8vIHRvIGdyYWR1YWxseSBtb3ZlIHRvd2FyZHMgZG9pbmcgc28uXG4gICAgICAgIGNvbnN0IGFyZ3ZSZXR1cm4gPSB7fTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBhcmcgPSBhcmdzW2ldO1xuICAgICAgICAgICAgY29uc3QgdHJ1bmNhdGVkQXJnID0gYXJnLnJlcGxhY2UoL14tezMsfS8sICctLS0nKTtcbiAgICAgICAgICAgIGxldCBicm9rZW47XG4gICAgICAgICAgICBsZXQga2V5O1xuICAgICAgICAgICAgbGV0IGxldHRlcnM7XG4gICAgICAgICAgICBsZXQgbTtcbiAgICAgICAgICAgIGxldCBuZXh0O1xuICAgICAgICAgICAgbGV0IHZhbHVlO1xuICAgICAgICAgICAgLy8gYW55IHVua25vd24gb3B0aW9uIChleGNlcHQgZm9yIGVuZC1vZi1vcHRpb25zLCBcIi0tXCIpXG4gICAgICAgICAgICBpZiAoYXJnICE9PSAnLS0nICYmIC9eLS8udGVzdChhcmcpICYmIGlzVW5rbm93bk9wdGlvbkFzQXJnKGFyZykpIHtcbiAgICAgICAgICAgICAgICBwdXNoUG9zaXRpb25hbChhcmcpO1xuICAgICAgICAgICAgICAgIC8vIC0tLSwgLS0tPSwgLS0tLSwgZXRjLFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHJ1bmNhdGVkQXJnLm1hdGNoKC9eLS0tKyg9fCQpLykpIHtcbiAgICAgICAgICAgICAgICAvLyBvcHRpb25zIHdpdGhvdXQga2V5IG5hbWUgYXJlIGludmFsaWQuXG4gICAgICAgICAgICAgICAgcHVzaFBvc2l0aW9uYWwoYXJnKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAvLyAtLSBzZXBhcmF0ZWQgYnkgPVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYXJnLm1hdGNoKC9eLS0uKz0vKSB8fCAoIWNvbmZpZ3VyYXRpb25bJ3Nob3J0LW9wdGlvbi1ncm91cHMnXSAmJiBhcmcubWF0Y2goL14tLis9LykpKSB7XG4gICAgICAgICAgICAgICAgLy8gVXNpbmcgW1xcc1xcU10gaW5zdGVhZCBvZiAuIGJlY2F1c2UganMgZG9lc24ndCBzdXBwb3J0IHRoZVxuICAgICAgICAgICAgICAgIC8vICdkb3RhbGwnIHJlZ2V4IG1vZGlmaWVyLiBTZWU6XG4gICAgICAgICAgICAgICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTA2ODMwOC8xMzIxNlxuICAgICAgICAgICAgICAgIG0gPSBhcmcubWF0Y2goL14tLT8oW149XSspPShbXFxzXFxTXSopJC8pO1xuICAgICAgICAgICAgICAgIC8vIGFycmF5cyBmb3JtYXQgPSAnLS1mPWEgYiBjJ1xuICAgICAgICAgICAgICAgIGlmIChtICE9PSBudWxsICYmIEFycmF5LmlzQXJyYXkobSkgJiYgbS5sZW5ndGggPj0gMykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2tBbGxBbGlhc2VzKG1bMV0sIGZsYWdzLmFycmF5cykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBlYXRBcnJheShpLCBtWzFdLCBhcmdzLCBtWzJdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChjaGVja0FsbEFsaWFzZXMobVsxXSwgZmxhZ3MubmFyZ3MpICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbmFyZ3MgZm9ybWF0ID0gJy0tZj1tb25rZXkgd2FzaGluZyBjYXQnXG4gICAgICAgICAgICAgICAgICAgICAgICBpID0gZWF0TmFyZ3MoaSwgbVsxXSwgYXJncywgbVsyXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRBcmcobVsxXSwgbVsyXSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChhcmcubWF0Y2gobmVnYXRlZEJvb2xlYW4pICYmIGNvbmZpZ3VyYXRpb25bJ2Jvb2xlYW4tbmVnYXRpb24nXSkge1xuICAgICAgICAgICAgICAgIG0gPSBhcmcubWF0Y2gobmVnYXRlZEJvb2xlYW4pO1xuICAgICAgICAgICAgICAgIGlmIChtICE9PSBudWxsICYmIEFycmF5LmlzQXJyYXkobSkgJiYgbS5sZW5ndGggPj0gMikge1xuICAgICAgICAgICAgICAgICAgICBrZXkgPSBtWzFdO1xuICAgICAgICAgICAgICAgICAgICBzZXRBcmcoa2V5LCBjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5hcnJheXMpID8gW2ZhbHNlXSA6IGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gLS0gc2VwYXJhdGVkIGJ5IHNwYWNlLlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYXJnLm1hdGNoKC9eLS0uKy8pIHx8ICghY29uZmlndXJhdGlvblsnc2hvcnQtb3B0aW9uLWdyb3VwcyddICYmIGFyZy5tYXRjaCgvXi1bXi1dKy8pKSkge1xuICAgICAgICAgICAgICAgIG0gPSBhcmcubWF0Y2goL14tLT8oLispLyk7XG4gICAgICAgICAgICAgICAgaWYgKG0gIT09IG51bGwgJiYgQXJyYXkuaXNBcnJheShtKSAmJiBtLmxlbmd0aCA+PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgIGtleSA9IG1bMV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5hcnJheXMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhcnJheSBmb3JtYXQgPSAnLS1mb28gYSBiIGMnXG4gICAgICAgICAgICAgICAgICAgICAgICBpID0gZWF0QXJyYXkoaSwga2V5LCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5uYXJncykgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBuYXJncyBmb3JtYXQgPSAnLS1mb28gYSBiIGMnXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzaG91bGQgYmUgdHJ1dGh5IGV2ZW4gaWY6IGZsYWdzLm5hcmdzW2tleV0gPT09IDBcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBlYXROYXJncyhpLCBrZXksIGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCA9IGFyZ3NbaSArIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHQgIT09IHVuZGVmaW5lZCAmJiAoIW5leHQubWF0Y2goL14tLykgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0Lm1hdGNoKG5lZ2F0aXZlKSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhY2hlY2tBbGxBbGlhc2VzKGtleSwgZmxhZ3MuYm9vbHMpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIWNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLmNvdW50cykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRBcmcoa2V5LCBuZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICgvXih0cnVlfGZhbHNlKSQvLnRlc3QobmV4dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRBcmcoa2V5LCBuZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRBcmcoa2V5LCBkZWZhdWx0VmFsdWUoa2V5KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZG90LW5vdGF0aW9uIGZsYWcgc2VwYXJhdGVkIGJ5ICc9Jy5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGFyZy5tYXRjaCgvXi0uXFwuLis9LykpIHtcbiAgICAgICAgICAgICAgICBtID0gYXJnLm1hdGNoKC9eLShbXj1dKyk9KFtcXHNcXFNdKikkLyk7XG4gICAgICAgICAgICAgICAgaWYgKG0gIT09IG51bGwgJiYgQXJyYXkuaXNBcnJheShtKSAmJiBtLmxlbmd0aCA+PSAzKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldEFyZyhtWzFdLCBtWzJdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZG90LW5vdGF0aW9uIGZsYWcgc2VwYXJhdGVkIGJ5IHNwYWNlLlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYXJnLm1hdGNoKC9eLS5cXC4uKy8pICYmICFhcmcubWF0Y2gobmVnYXRpdmUpKSB7XG4gICAgICAgICAgICAgICAgbmV4dCA9IGFyZ3NbaSArIDFdO1xuICAgICAgICAgICAgICAgIG0gPSBhcmcubWF0Y2goL14tKC5cXC4uKykvKTtcbiAgICAgICAgICAgICAgICBpZiAobSAhPT0gbnVsbCAmJiBBcnJheS5pc0FycmF5KG0pICYmIG0ubGVuZ3RoID49IDIpIHtcbiAgICAgICAgICAgICAgICAgICAga2V5ID0gbVsxXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHQgIT09IHVuZGVmaW5lZCAmJiAhbmV4dC5tYXRjaCgvXi0vKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgIWNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLmJvb2xzKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgIWNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLmNvdW50cykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEFyZyhrZXksIG5leHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0QXJnKGtleSwgZGVmYXVsdFZhbHVlKGtleSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYXJnLm1hdGNoKC9eLVteLV0rLykgJiYgIWFyZy5tYXRjaChuZWdhdGl2ZSkpIHtcbiAgICAgICAgICAgICAgICBsZXR0ZXJzID0gYXJnLnNsaWNlKDEsIC0xKS5zcGxpdCgnJyk7XG4gICAgICAgICAgICAgICAgYnJva2VuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBsZXR0ZXJzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIG5leHQgPSBhcmcuc2xpY2UoaiArIDIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGV0dGVyc1tqICsgMV0gJiYgbGV0dGVyc1tqICsgMV0gPT09ICc9Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBhcmcuc2xpY2UoaiArIDMpO1xuICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gbGV0dGVyc1tqXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5hcnJheXMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYXJyYXkgZm9ybWF0ID0gJy1mPWEgYiBjJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBlYXRBcnJheShpLCBrZXksIGFyZ3MsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLm5hcmdzKSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBuYXJncyBmb3JtYXQgPSAnLWY9bW9ua2V5IHdhc2hpbmcgY2F0J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBlYXROYXJncyhpLCBrZXksIGFyZ3MsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEFyZyhrZXksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyb2tlbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dCA9PT0gJy0nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRBcmcobGV0dGVyc1tqXSwgbmV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBjdXJyZW50IGxldHRlciBpcyBhbiBhbHBoYWJldGljIGNoYXJhY3RlciBhbmQgbmV4dCB2YWx1ZSBpcyBhIG51bWJlclxuICAgICAgICAgICAgICAgICAgICBpZiAoL1tBLVphLXpdLy50ZXN0KGxldHRlcnNbal0pICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAvXi0/XFxkKyhcXC5cXGQqKT8oZS0/XFxkKyk/JC8udGVzdChuZXh0KSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tBbGxBbGlhc2VzKG5leHQsIGZsYWdzLmJvb2xzKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEFyZyhsZXR0ZXJzW2pdLCBuZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyb2tlbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobGV0dGVyc1tqICsgMV0gJiYgbGV0dGVyc1tqICsgMV0ubWF0Y2goL1xcVy8pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRBcmcobGV0dGVyc1tqXSwgbmV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicm9rZW4gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRBcmcobGV0dGVyc1tqXSwgZGVmYXVsdFZhbHVlKGxldHRlcnNbal0pKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBrZXkgPSBhcmcuc2xpY2UoLTEpWzBdO1xuICAgICAgICAgICAgICAgIGlmICghYnJva2VuICYmIGtleSAhPT0gJy0nKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5hcnJheXMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhcnJheSBmb3JtYXQgPSAnLWYgYSBiIGMnXG4gICAgICAgICAgICAgICAgICAgICAgICBpID0gZWF0QXJyYXkoaSwga2V5LCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5uYXJncykgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBuYXJncyBmb3JtYXQgPSAnLWYgYSBiIGMnXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzaG91bGQgYmUgdHJ1dGh5IGV2ZW4gaWY6IGZsYWdzLm5hcmdzW2tleV0gPT09IDBcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBlYXROYXJncyhpLCBrZXksIGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCA9IGFyZ3NbaSArIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHQgIT09IHVuZGVmaW5lZCAmJiAoIS9eKC18LS0pW14tXS8udGVzdChuZXh0KSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHQubWF0Y2gobmVnYXRpdmUpKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICFjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5ib29scykgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhY2hlY2tBbGxBbGlhc2VzKGtleSwgZmxhZ3MuY291bnRzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEFyZyhrZXksIG5leHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKC9eKHRydWV8ZmFsc2UpJC8udGVzdChuZXh0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEFyZyhrZXksIG5leHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEFyZyhrZXksIGRlZmF1bHRWYWx1ZShrZXkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGFyZy5tYXRjaCgvXi1bMC05XSQvKSAmJlxuICAgICAgICAgICAgICAgIGFyZy5tYXRjaChuZWdhdGl2ZSkgJiZcbiAgICAgICAgICAgICAgICBjaGVja0FsbEFsaWFzZXMoYXJnLnNsaWNlKDEpLCBmbGFncy5ib29scykpIHtcbiAgICAgICAgICAgICAgICAvLyBzaW5nbGUtZGlnaXQgYm9vbGVhbiBhbGlhcywgZS5nOiB4YXJncyAtMFxuICAgICAgICAgICAgICAgIGtleSA9IGFyZy5zbGljZSgxKTtcbiAgICAgICAgICAgICAgICBzZXRBcmcoa2V5LCBkZWZhdWx0VmFsdWUoa2V5KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChhcmcgPT09ICctLScpIHtcbiAgICAgICAgICAgICAgICBub3RGbGFncyA9IGFyZ3Muc2xpY2UoaSArIDEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY29uZmlndXJhdGlvblsnaGFsdC1hdC1ub24tb3B0aW9uJ10pIHtcbiAgICAgICAgICAgICAgICBub3RGbGFncyA9IGFyZ3Muc2xpY2UoaSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwdXNoUG9zaXRpb25hbChhcmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIG9yZGVyIG9mIHByZWNlZGVuY2U6XG4gICAgICAgIC8vIDEuIGNvbW1hbmQgbGluZSBhcmdcbiAgICAgICAgLy8gMi4gdmFsdWUgZnJvbSBlbnYgdmFyXG4gICAgICAgIC8vIDMuIHZhbHVlIGZyb20gY29uZmlnIGZpbGVcbiAgICAgICAgLy8gNC4gdmFsdWUgZnJvbSBjb25maWcgb2JqZWN0c1xuICAgICAgICAvLyA1LiBjb25maWd1cmVkIGRlZmF1bHQgdmFsdWVcbiAgICAgICAgYXBwbHlFbnZWYXJzKGFyZ3YsIHRydWUpOyAvLyBzcGVjaWFsIGNhc2U6IGNoZWNrIGVudiB2YXJzIHRoYXQgcG9pbnQgdG8gY29uZmlnIGZpbGVcbiAgICAgICAgYXBwbHlFbnZWYXJzKGFyZ3YsIGZhbHNlKTtcbiAgICAgICAgc2V0Q29uZmlnKGFyZ3YpO1xuICAgICAgICBzZXRDb25maWdPYmplY3RzKCk7XG4gICAgICAgIGFwcGx5RGVmYXVsdHNBbmRBbGlhc2VzKGFyZ3YsIGZsYWdzLmFsaWFzZXMsIGRlZmF1bHRzLCB0cnVlKTtcbiAgICAgICAgYXBwbHlDb2VyY2lvbnMoYXJndik7XG4gICAgICAgIGlmIChjb25maWd1cmF0aW9uWydzZXQtcGxhY2Vob2xkZXIta2V5J10pXG4gICAgICAgICAgICBzZXRQbGFjZWhvbGRlcktleXMoYXJndik7XG4gICAgICAgIC8vIGZvciBhbnkgY291bnRzIGVpdGhlciBub3QgaW4gYXJncyBvciB3aXRob3V0IGFuIGV4cGxpY2l0IGRlZmF1bHQsIHNldCB0byAwXG4gICAgICAgIE9iamVjdC5rZXlzKGZsYWdzLmNvdW50cykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICBpZiAoIWhhc0tleShhcmd2LCBrZXkuc3BsaXQoJy4nKSkpXG4gICAgICAgICAgICAgICAgc2V0QXJnKGtleSwgMCk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyAnLS0nIGRlZmF1bHRzIHRvIHVuZGVmaW5lZC5cbiAgICAgICAgaWYgKG5vdEZsYWdzT3B0aW9uICYmIG5vdEZsYWdzLmxlbmd0aClcbiAgICAgICAgICAgIGFyZ3Zbbm90RmxhZ3NBcmd2XSA9IFtdO1xuICAgICAgICBub3RGbGFncy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIGFyZ3Zbbm90RmxhZ3NBcmd2XS5wdXNoKGtleSk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoY29uZmlndXJhdGlvblsnY2FtZWwtY2FzZS1leHBhbnNpb24nXSAmJiBjb25maWd1cmF0aW9uWydzdHJpcC1kYXNoZWQnXSkge1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoYXJndikuZmlsdGVyKGtleSA9PiBrZXkgIT09ICctLScgJiYga2V5LmluY2x1ZGVzKCctJykpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICAgICAgICBkZWxldGUgYXJndltrZXldO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb25bJ3N0cmlwLWFsaWFzZWQnXSkge1xuICAgICAgICAgICAgO1xuICAgICAgICAgICAgW10uY29uY2F0KC4uLk9iamVjdC5rZXlzKGFsaWFzZXMpLm1hcChrID0+IGFsaWFzZXNba10pKS5mb3JFYWNoKGFsaWFzID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY29uZmlndXJhdGlvblsnY2FtZWwtY2FzZS1leHBhbnNpb24nXSAmJiBhbGlhcy5pbmNsdWRlcygnLScpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBhcmd2W2FsaWFzLnNwbGl0KCcuJykubWFwKHByb3AgPT4gY2FtZWxDYXNlKHByb3ApKS5qb2luKCcuJyldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWxldGUgYXJndlthbGlhc107XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBQdXNoIGFyZ3VtZW50IGludG8gcG9zaXRpb25hbCBhcnJheSwgYXBwbHlpbmcgbnVtZXJpYyBjb2VyY2lvbjpcbiAgICAgICAgZnVuY3Rpb24gcHVzaFBvc2l0aW9uYWwoYXJnKSB7XG4gICAgICAgICAgICBjb25zdCBtYXliZUNvZXJjZWROdW1iZXIgPSBtYXliZUNvZXJjZU51bWJlcignXycsIGFyZyk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG1heWJlQ29lcmNlZE51bWJlciA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIG1heWJlQ29lcmNlZE51bWJlciA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICBhcmd2Ll8ucHVzaChtYXliZUNvZXJjZWROdW1iZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGhvdyBtYW55IGFyZ3VtZW50cyBzaG91bGQgd2UgY29uc3VtZSwgYmFzZWRcbiAgICAgICAgLy8gb24gdGhlIG5hcmdzIG9wdGlvbj9cbiAgICAgICAgZnVuY3Rpb24gZWF0TmFyZ3MoaSwga2V5LCBhcmdzLCBhcmdBZnRlckVxdWFsU2lnbikge1xuICAgICAgICAgICAgbGV0IGlpO1xuICAgICAgICAgICAgbGV0IHRvRWF0ID0gY2hlY2tBbGxBbGlhc2VzKGtleSwgZmxhZ3MubmFyZ3MpO1xuICAgICAgICAgICAgLy8gTmFOIGhhcyBhIHNwZWNpYWwgbWVhbmluZyBmb3IgdGhlIGFycmF5IHR5cGUsIGluZGljYXRpbmcgdGhhdCBvbmUgb3JcbiAgICAgICAgICAgIC8vIG1vcmUgdmFsdWVzIGFyZSBleHBlY3RlZC5cbiAgICAgICAgICAgIHRvRWF0ID0gdHlwZW9mIHRvRWF0ICE9PSAnbnVtYmVyJyB8fCBpc05hTih0b0VhdCkgPyAxIDogdG9FYXQ7XG4gICAgICAgICAgICBpZiAodG9FYXQgPT09IDApIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKGFyZ0FmdGVyRXF1YWxTaWduKSkge1xuICAgICAgICAgICAgICAgICAgICBlcnJvciA9IEVycm9yKF9fKCdBcmd1bWVudCB1bmV4cGVjdGVkIGZvcjogJXMnLCBrZXkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2V0QXJnKGtleSwgZGVmYXVsdFZhbHVlKGtleSkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGF2YWlsYWJsZSA9IGlzVW5kZWZpbmVkKGFyZ0FmdGVyRXF1YWxTaWduKSA/IDAgOiAxO1xuICAgICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb25bJ25hcmdzLWVhdHMtb3B0aW9ucyddKSB7XG4gICAgICAgICAgICAgICAgLy8gY2xhc3NpYyBiZWhhdmlvciwgeWFyZ3MgZWF0cyBwb3NpdGlvbmFsIGFuZCBkYXNoIGFyZ3VtZW50cy5cbiAgICAgICAgICAgICAgICBpZiAoYXJncy5sZW5ndGggLSAoaSArIDEpICsgYXZhaWxhYmxlIDwgdG9FYXQpIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IgPSBFcnJvcihfXygnTm90IGVub3VnaCBhcmd1bWVudHMgZm9sbG93aW5nOiAlcycsIGtleSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhdmFpbGFibGUgPSB0b0VhdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIG5hcmdzIHdpbGwgbm90IGNvbnN1bWUgZmxhZyBhcmd1bWVudHMsIGUuZy4sIC1hYmMsIC0tZm9vLFxuICAgICAgICAgICAgICAgIC8vIGFuZCB0ZXJtaW5hdGVzIHdoZW4gb25lIGlzIG9ic2VydmVkLlxuICAgICAgICAgICAgICAgIGZvciAoaWkgPSBpICsgMTsgaWkgPCBhcmdzLmxlbmd0aDsgaWkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWFyZ3NbaWldLm1hdGNoKC9eLVteMC05XS8pIHx8IGFyZ3NbaWldLm1hdGNoKG5lZ2F0aXZlKSB8fCBpc1Vua25vd25PcHRpb25Bc0FyZyhhcmdzW2lpXSkpXG4gICAgICAgICAgICAgICAgICAgICAgICBhdmFpbGFibGUrKztcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhdmFpbGFibGUgPCB0b0VhdClcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IgPSBFcnJvcihfXygnTm90IGVub3VnaCBhcmd1bWVudHMgZm9sbG93aW5nOiAlcycsIGtleSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGNvbnN1bWVkID0gTWF0aC5taW4oYXZhaWxhYmxlLCB0b0VhdCk7XG4gICAgICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKGFyZ0FmdGVyRXF1YWxTaWduKSAmJiBjb25zdW1lZCA+IDApIHtcbiAgICAgICAgICAgICAgICBzZXRBcmcoa2V5LCBhcmdBZnRlckVxdWFsU2lnbik7XG4gICAgICAgICAgICAgICAgY29uc3VtZWQtLTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoaWkgPSBpICsgMTsgaWkgPCAoY29uc3VtZWQgKyBpICsgMSk7IGlpKyspIHtcbiAgICAgICAgICAgICAgICBzZXRBcmcoa2V5LCBhcmdzW2lpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gKGkgKyBjb25zdW1lZCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgYW4gb3B0aW9uIGlzIGFuIGFycmF5LCBlYXQgYWxsIG5vbi1oeXBoZW5hdGVkIGFyZ3VtZW50c1xuICAgICAgICAvLyBmb2xsb3dpbmcgaXQuLi4gWVVNIVxuICAgICAgICAvLyBlLmcuLCAtLWZvbyBhcHBsZSBiYW5hbmEgY2F0IGJlY29tZXMgW1wiYXBwbGVcIiwgXCJiYW5hbmFcIiwgXCJjYXRcIl1cbiAgICAgICAgZnVuY3Rpb24gZWF0QXJyYXkoaSwga2V5LCBhcmdzLCBhcmdBZnRlckVxdWFsU2lnbikge1xuICAgICAgICAgICAgbGV0IGFyZ3NUb1NldCA9IFtdO1xuICAgICAgICAgICAgbGV0IG5leHQgPSBhcmdBZnRlckVxdWFsU2lnbiB8fCBhcmdzW2kgKyAxXTtcbiAgICAgICAgICAgIC8vIElmIGJvdGggYXJyYXkgYW5kIG5hcmdzIGFyZSBjb25maWd1cmVkLCBlbmZvcmNlIHRoZSBuYXJncyBjb3VudDpcbiAgICAgICAgICAgIGNvbnN0IG5hcmdzQ291bnQgPSBjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5uYXJncyk7XG4gICAgICAgICAgICBpZiAoY2hlY2tBbGxBbGlhc2VzKGtleSwgZmxhZ3MuYm9vbHMpICYmICEoL14odHJ1ZXxmYWxzZSkkLy50ZXN0KG5leHQpKSkge1xuICAgICAgICAgICAgICAgIGFyZ3NUb1NldC5wdXNoKHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNVbmRlZmluZWQobmV4dCkgfHxcbiAgICAgICAgICAgICAgICAoaXNVbmRlZmluZWQoYXJnQWZ0ZXJFcXVhbFNpZ24pICYmIC9eLS8udGVzdChuZXh0KSAmJiAhbmVnYXRpdmUudGVzdChuZXh0KSAmJiAhaXNVbmtub3duT3B0aW9uQXNBcmcobmV4dCkpKSB7XG4gICAgICAgICAgICAgICAgLy8gZm9yIGtleXMgd2l0aG91dCB2YWx1ZSA9PT4gYXJnc1RvU2V0IHJlbWFpbnMgYW4gZW1wdHkgW11cbiAgICAgICAgICAgICAgICAvLyBzZXQgdXNlciBkZWZhdWx0IHZhbHVlLCBpZiBhdmFpbGFibGVcbiAgICAgICAgICAgICAgICBpZiAoZGVmYXVsdHNba2V5XSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlZlZhbCA9IGRlZmF1bHRzW2tleV07XG4gICAgICAgICAgICAgICAgICAgIGFyZ3NUb1NldCA9IEFycmF5LmlzQXJyYXkoZGVmVmFsKSA/IGRlZlZhbCA6IFtkZWZWYWxdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHZhbHVlIGluIC0tb3B0aW9uPXZhbHVlIGlzIGVhdGVuIGFzIGlzXG4gICAgICAgICAgICAgICAgaWYgKCFpc1VuZGVmaW5lZChhcmdBZnRlckVxdWFsU2lnbikpIHtcbiAgICAgICAgICAgICAgICAgICAgYXJnc1RvU2V0LnB1c2gocHJvY2Vzc1ZhbHVlKGtleSwgYXJnQWZ0ZXJFcXVhbFNpZ24sIHRydWUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaWkgPSBpICsgMTsgaWkgPCBhcmdzLmxlbmd0aDsgaWkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoKCFjb25maWd1cmF0aW9uWydncmVlZHktYXJyYXlzJ10gJiYgYXJnc1RvU2V0Lmxlbmd0aCA+IDApIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAobmFyZ3NDb3VudCAmJiB0eXBlb2YgbmFyZ3NDb3VudCA9PT0gJ251bWJlcicgJiYgYXJnc1RvU2V0Lmxlbmd0aCA+PSBuYXJnc0NvdW50KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBuZXh0ID0gYXJnc1tpaV07XG4gICAgICAgICAgICAgICAgICAgIGlmICgvXi0vLnRlc3QobmV4dCkgJiYgIW5lZ2F0aXZlLnRlc3QobmV4dCkgJiYgIWlzVW5rbm93bk9wdGlvbkFzQXJnKG5leHQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGkgPSBpaTtcbiAgICAgICAgICAgICAgICAgICAgYXJnc1RvU2V0LnB1c2gocHJvY2Vzc1ZhbHVlKGtleSwgbmV4dCwgaW5wdXRJc1N0cmluZykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIGJvdGggYXJyYXkgYW5kIG5hcmdzIGFyZSBjb25maWd1cmVkLCBjcmVhdGUgYW4gZXJyb3IgaWYgbGVzcyB0aGFuXG4gICAgICAgICAgICAvLyBuYXJncyBwb3NpdGlvbmFscyB3ZXJlIGZvdW5kLiBOYU4gaGFzIHNwZWNpYWwgbWVhbmluZywgaW5kaWNhdGluZ1xuICAgICAgICAgICAgLy8gdGhhdCBhdCBsZWFzdCBvbmUgdmFsdWUgaXMgcmVxdWlyZWQgKG1vcmUgYXJlIG9rYXkpLlxuICAgICAgICAgICAgaWYgKHR5cGVvZiBuYXJnc0NvdW50ID09PSAnbnVtYmVyJyAmJiAoKG5hcmdzQ291bnQgJiYgYXJnc1RvU2V0Lmxlbmd0aCA8IG5hcmdzQ291bnQpIHx8XG4gICAgICAgICAgICAgICAgKGlzTmFOKG5hcmdzQ291bnQpICYmIGFyZ3NUb1NldC5sZW5ndGggPT09IDApKSkge1xuICAgICAgICAgICAgICAgIGVycm9yID0gRXJyb3IoX18oJ05vdCBlbm91Z2ggYXJndW1lbnRzIGZvbGxvd2luZzogJXMnLCBrZXkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldEFyZyhrZXksIGFyZ3NUb1NldCk7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBzZXRBcmcoa2V5LCB2YWwsIHNob3VsZFN0cmlwUXVvdGVzID0gaW5wdXRJc1N0cmluZykge1xuICAgICAgICAgICAgaWYgKC8tLy50ZXN0KGtleSkgJiYgY29uZmlndXJhdGlvblsnY2FtZWwtY2FzZS1leHBhbnNpb24nXSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFsaWFzID0ga2V5LnNwbGl0KCcuJykubWFwKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjYW1lbENhc2UocHJvcCk7XG4gICAgICAgICAgICAgICAgfSkuam9pbignLicpO1xuICAgICAgICAgICAgICAgIGFkZE5ld0FsaWFzKGtleSwgYWxpYXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBwcm9jZXNzVmFsdWUoa2V5LCB2YWwsIHNob3VsZFN0cmlwUXVvdGVzKTtcbiAgICAgICAgICAgIGNvbnN0IHNwbGl0S2V5ID0ga2V5LnNwbGl0KCcuJyk7XG4gICAgICAgICAgICBzZXRLZXkoYXJndiwgc3BsaXRLZXksIHZhbHVlKTtcbiAgICAgICAgICAgIC8vIGhhbmRsZSBwb3B1bGF0aW5nIGFsaWFzZXMgb2YgdGhlIGZ1bGwga2V5XG4gICAgICAgICAgICBpZiAoZmxhZ3MuYWxpYXNlc1trZXldKSB7XG4gICAgICAgICAgICAgICAgZmxhZ3MuYWxpYXNlc1trZXldLmZvckVhY2goZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5UHJvcGVydGllcyA9IHguc3BsaXQoJy4nKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0S2V5KGFyZ3YsIGtleVByb3BlcnRpZXMsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGhhbmRsZSBwb3B1bGF0aW5nIGFsaWFzZXMgb2YgdGhlIGZpcnN0IGVsZW1lbnQgb2YgdGhlIGRvdC1ub3RhdGlvbiBrZXlcbiAgICAgICAgICAgIGlmIChzcGxpdEtleS5sZW5ndGggPiAxICYmIGNvbmZpZ3VyYXRpb25bJ2RvdC1ub3RhdGlvbiddKSB7XG4gICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgIChmbGFncy5hbGlhc2VzW3NwbGl0S2V5WzBdXSB8fCBbXSkuZm9yRWFjaChmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQga2V5UHJvcGVydGllcyA9IHguc3BsaXQoJy4nKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXhwYW5kIGFsaWFzIHdpdGggbmVzdGVkIG9iamVjdHMgaW4ga2V5XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGEgPSBbXS5jb25jYXQoc3BsaXRLZXkpO1xuICAgICAgICAgICAgICAgICAgICBhLnNoaWZ0KCk7IC8vIG51a2UgdGhlIG9sZCBrZXkuXG4gICAgICAgICAgICAgICAgICAgIGtleVByb3BlcnRpZXMgPSBrZXlQcm9wZXJ0aWVzLmNvbmNhdChhKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gcG9wdWxhdGUgYWxpYXMgb25seSBpZiBpcyBub3QgYWxyZWFkeSBhbiBhbGlhcyBvZiB0aGUgZnVsbCBrZXlcbiAgICAgICAgICAgICAgICAgICAgLy8gKGFscmVhZHkgcG9wdWxhdGVkIGFib3ZlKVxuICAgICAgICAgICAgICAgICAgICBpZiAoIShmbGFncy5hbGlhc2VzW2tleV0gfHwgW10pLmluY2x1ZGVzKGtleVByb3BlcnRpZXMuam9pbignLicpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0S2V5KGFyZ3YsIGtleVByb3BlcnRpZXMsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2V0IG5vcm1hbGl6ZSBnZXR0ZXIgYW5kIHNldHRlciB3aGVuIGtleSBpcyBpbiAnbm9ybWFsaXplJyBidXQgaXNuJ3QgYW4gYXJyYXlcbiAgICAgICAgICAgIGlmIChjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5ub3JtYWxpemUpICYmICFjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5hcnJheXMpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qga2V5cyA9IFtrZXldLmNvbmNhdChmbGFncy5hbGlhc2VzW2tleV0gfHwgW10pO1xuICAgICAgICAgICAgICAgIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhcmd2UmV0dXJuLCBrZXksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWwgPSB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnID8gbWl4aW4ubm9ybWFsaXplKHZhbHVlKSA6IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBhZGROZXdBbGlhcyhrZXksIGFsaWFzKSB7XG4gICAgICAgICAgICBpZiAoIShmbGFncy5hbGlhc2VzW2tleV0gJiYgZmxhZ3MuYWxpYXNlc1trZXldLmxlbmd0aCkpIHtcbiAgICAgICAgICAgICAgICBmbGFncy5hbGlhc2VzW2tleV0gPSBbYWxpYXNdO1xuICAgICAgICAgICAgICAgIG5ld0FsaWFzZXNbYWxpYXNdID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghKGZsYWdzLmFsaWFzZXNbYWxpYXNdICYmIGZsYWdzLmFsaWFzZXNbYWxpYXNdLmxlbmd0aCkpIHtcbiAgICAgICAgICAgICAgICBhZGROZXdBbGlhcyhhbGlhcywga2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBwcm9jZXNzVmFsdWUoa2V5LCB2YWwsIHNob3VsZFN0cmlwUXVvdGVzKSB7XG4gICAgICAgICAgICAvLyBzdHJpbmdzIG1heSBiZSBxdW90ZWQsIGNsZWFuIHRoaXMgdXAgYXMgd2UgYXNzaWduIHZhbHVlcy5cbiAgICAgICAgICAgIGlmIChzaG91bGRTdHJpcFF1b3Rlcykge1xuICAgICAgICAgICAgICAgIHZhbCA9IHN0cmlwUXVvdGVzKHZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBoYW5kbGUgcGFyc2luZyBib29sZWFuIGFyZ3VtZW50cyAtLWZvbz10cnVlIC0tYmFyIGZhbHNlLlxuICAgICAgICAgICAgaWYgKGNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLmJvb2xzKSB8fCBjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5jb3VudHMpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKVxuICAgICAgICAgICAgICAgICAgICB2YWwgPSB2YWwgPT09ICd0cnVlJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IEFycmF5LmlzQXJyYXkodmFsKVxuICAgICAgICAgICAgICAgID8gdmFsLm1hcChmdW5jdGlvbiAodikgeyByZXR1cm4gbWF5YmVDb2VyY2VOdW1iZXIoa2V5LCB2KTsgfSlcbiAgICAgICAgICAgICAgICA6IG1heWJlQ29lcmNlTnVtYmVyKGtleSwgdmFsKTtcbiAgICAgICAgICAgIC8vIGluY3JlbWVudCBhIGNvdW50IGdpdmVuIGFzIGFyZyAoZWl0aGVyIG5vIHZhbHVlIG9yIHZhbHVlIHBhcnNlZCBhcyBib29sZWFuKVxuICAgICAgICAgICAgaWYgKGNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLmNvdW50cykgJiYgKGlzVW5kZWZpbmVkKHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJykpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IGluY3JlbWVudCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2V0IG5vcm1hbGl6ZWQgdmFsdWUgd2hlbiBrZXkgaXMgaW4gJ25vcm1hbGl6ZScgYW5kIGluICdhcnJheXMnXG4gICAgICAgICAgICBpZiAoY2hlY2tBbGxBbGlhc2VzKGtleSwgZmxhZ3Mubm9ybWFsaXplKSAmJiBjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5hcnJheXMpKSB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsKSlcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWwubWFwKCh2YWwpID0+IHsgcmV0dXJuIG1peGluLm5vcm1hbGl6ZSh2YWwpOyB9KTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbWl4aW4ubm9ybWFsaXplKHZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gbWF5YmVDb2VyY2VOdW1iZXIoa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKCFjb25maWd1cmF0aW9uWydwYXJzZS1wb3NpdGlvbmFsLW51bWJlcnMnXSAmJiBrZXkgPT09ICdfJylcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICBpZiAoIWNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLnN0cmluZ3MpICYmICFjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5ib29scykgJiYgIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2hvdWxkQ29lcmNlTnVtYmVyID0gbG9va3NMaWtlTnVtYmVyKHZhbHVlKSAmJiBjb25maWd1cmF0aW9uWydwYXJzZS1udW1iZXJzJ10gJiYgKE51bWJlci5pc1NhZmVJbnRlZ2VyKE1hdGguZmxvb3IocGFyc2VGbG9hdChgJHt2YWx1ZX1gKSkpKTtcbiAgICAgICAgICAgICAgICBpZiAoc2hvdWxkQ29lcmNlTnVtYmVyIHx8ICghaXNVbmRlZmluZWQodmFsdWUpICYmIGNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLm51bWJlcnMpKSkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IE51bWJlcih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNldCBhcmdzIGZyb20gY29uZmlnLmpzb24gZmlsZSwgdGhpcyBzaG91bGQgYmVcbiAgICAgICAgLy8gYXBwbGllZCBsYXN0IHNvIHRoYXQgZGVmYXVsdHMgY2FuIGJlIGFwcGxpZWQuXG4gICAgICAgIGZ1bmN0aW9uIHNldENvbmZpZyhhcmd2KSB7XG4gICAgICAgICAgICBjb25zdCBjb25maWdMb29rdXAgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAgICAgLy8gZXhwYW5kIGRlZmF1bHRzL2FsaWFzZXMsIGluLWNhc2UgYW55IGhhcHBlbiB0byByZWZlcmVuY2VcbiAgICAgICAgICAgIC8vIHRoZSBjb25maWcuanNvbiBmaWxlLlxuICAgICAgICAgICAgYXBwbHlEZWZhdWx0c0FuZEFsaWFzZXMoY29uZmlnTG9va3VwLCBmbGFncy5hbGlhc2VzLCBkZWZhdWx0cyk7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhmbGFncy5jb25maWdzKS5mb3JFYWNoKGZ1bmN0aW9uIChjb25maWdLZXkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb25maWdQYXRoID0gYXJndltjb25maWdLZXldIHx8IGNvbmZpZ0xvb2t1cFtjb25maWdLZXldO1xuICAgICAgICAgICAgICAgIGlmIChjb25maWdQYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29uZmlnID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc29sdmVkQ29uZmlnUGF0aCA9IG1peGluLnJlc29sdmUobWl4aW4uY3dkKCksIGNvbmZpZ1BhdGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzb2x2ZUNvbmZpZyA9IGZsYWdzLmNvbmZpZ3NbY29uZmlnS2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcmVzb2x2ZUNvbmZpZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZyA9IHJlc29sdmVDb25maWcocmVzb2x2ZWRDb25maWdQYXRoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnID0gZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpZyBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yID0gY29uZmlnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnID0gbWl4aW4ucmVxdWlyZShyZXNvbHZlZENvbmZpZ1BhdGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q29uZmlnT2JqZWN0KGNvbmZpZyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEZW5vIHdpbGwgcmVjZWl2ZSBhIFBlcm1pc3Npb25EZW5pZWQgZXJyb3IgaWYgYW4gYXR0ZW1wdCBpc1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWFkZSB0byBsb2FkIGNvbmZpZyB3aXRob3V0IHRoZSAtLWFsbG93LXJlYWQgZmxhZzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChleC5uYW1lID09PSAnUGVybWlzc2lvbkRlbmllZCcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IgPSBleDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFyZ3ZbY29uZmlnS2V5XSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvciA9IEVycm9yKF9fKCdJbnZhbGlkIEpTT04gY29uZmlnIGZpbGU6ICVzJywgY29uZmlnUGF0aCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2V0IGFyZ3MgZnJvbSBjb25maWcgb2JqZWN0LlxuICAgICAgICAvLyBpdCByZWN1cnNpdmVseSBjaGVja3MgbmVzdGVkIG9iamVjdHMuXG4gICAgICAgIGZ1bmN0aW9uIHNldENvbmZpZ09iamVjdChjb25maWcsIHByZXYpIHtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKGNvbmZpZykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBjb25maWdba2V5XTtcbiAgICAgICAgICAgICAgICBjb25zdCBmdWxsS2V5ID0gcHJldiA/IHByZXYgKyAnLicgKyBrZXkgOiBrZXk7XG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlIHZhbHVlIGlzIGFuIGlubmVyIG9iamVjdCBhbmQgd2UgaGF2ZSBkb3Qtbm90YXRpb25cbiAgICAgICAgICAgICAgICAvLyBlbmFibGVkLCB0cmVhdCBpbm5lciBvYmplY3RzIGluIGNvbmZpZyB0aGUgc2FtZSBhc1xuICAgICAgICAgICAgICAgIC8vIGhlYXZpbHkgbmVzdGVkIGRvdCBub3RhdGlvbnMgKGZvby5iYXIuYXBwbGUpLlxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICE9PSBudWxsICYmICFBcnJheS5pc0FycmF5KHZhbHVlKSAmJiBjb25maWd1cmF0aW9uWydkb3Qtbm90YXRpb24nXSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGUgdmFsdWUgaXMgYW4gb2JqZWN0IGJ1dCBub3QgYW4gYXJyYXksIGNoZWNrIG5lc3RlZCBvYmplY3RcbiAgICAgICAgICAgICAgICAgICAgc2V0Q29uZmlnT2JqZWN0KHZhbHVlLCBmdWxsS2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHNldHRpbmcgYXJndW1lbnRzIHZpYSBDTEkgdGFrZXMgcHJlY2VkZW5jZSBvdmVyXG4gICAgICAgICAgICAgICAgICAgIC8vIHZhbHVlcyB3aXRoaW4gdGhlIGNvbmZpZyBmaWxlLlxuICAgICAgICAgICAgICAgICAgICBpZiAoIWhhc0tleShhcmd2LCBmdWxsS2V5LnNwbGl0KCcuJykpIHx8IChjaGVja0FsbEFsaWFzZXMoZnVsbEtleSwgZmxhZ3MuYXJyYXlzKSAmJiBjb25maWd1cmF0aW9uWydjb21iaW5lLWFycmF5cyddKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0QXJnKGZ1bGxLZXksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNldCBhbGwgY29uZmlnIG9iamVjdHMgcGFzc2VkIGluIG9wdHNcbiAgICAgICAgZnVuY3Rpb24gc2V0Q29uZmlnT2JqZWN0cygpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29uZmlnT2JqZWN0cyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBjb25maWdPYmplY3RzLmZvckVhY2goZnVuY3Rpb24gKGNvbmZpZ09iamVjdCkge1xuICAgICAgICAgICAgICAgICAgICBzZXRDb25maWdPYmplY3QoY29uZmlnT2JqZWN0KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBhcHBseUVudlZhcnMoYXJndiwgY29uZmlnT25seSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBlbnZQcmVmaXggPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IHByZWZpeCA9IHR5cGVvZiBlbnZQcmVmaXggPT09ICdzdHJpbmcnID8gZW52UHJlZml4IDogJyc7XG4gICAgICAgICAgICBjb25zdCBlbnYgPSBtaXhpbi5lbnYoKTtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKGVudikuZm9yRWFjaChmdW5jdGlvbiAoZW52VmFyKSB7XG4gICAgICAgICAgICAgICAgaWYgKHByZWZpeCA9PT0gJycgfHwgZW52VmFyLmxhc3RJbmRleE9mKHByZWZpeCwgMCkgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZ2V0IGFycmF5IG9mIG5lc3RlZCBrZXlzIGFuZCBjb252ZXJ0IHRoZW0gdG8gY2FtZWwgY2FzZVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXlzID0gZW52VmFyLnNwbGl0KCdfXycpLm1hcChmdW5jdGlvbiAoa2V5LCBpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGtleS5zdWJzdHJpbmcocHJlZml4Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FtZWxDYXNlKGtleSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoKChjb25maWdPbmx5ICYmIGZsYWdzLmNvbmZpZ3Nba2V5cy5qb2luKCcuJyldKSB8fCAhY29uZmlnT25seSkgJiYgIWhhc0tleShhcmd2LCBrZXlzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0QXJnKGtleXMuam9pbignLicpLCBlbnZbZW52VmFyXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBhcHBseUNvZXJjaW9ucyhhcmd2KSB7XG4gICAgICAgICAgICBsZXQgY29lcmNlO1xuICAgICAgICAgICAgY29uc3QgYXBwbGllZCA9IG5ldyBTZXQoKTtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKGFyZ3YpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgIGlmICghYXBwbGllZC5oYXMoa2V5KSkgeyAvLyBJZiB3ZSBoYXZlbid0IGFscmVhZHkgY29lcmNlZCB0aGlzIG9wdGlvbiB2aWEgb25lIG9mIGl0cyBhbGlhc2VzXG4gICAgICAgICAgICAgICAgICAgIGNvZXJjZSA9IGNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLmNvZXJjaW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29lcmNlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gbWF5YmVDb2VyY2VOdW1iZXIoa2V5LCBjb2VyY2UoYXJndltrZXldKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKFtdLmNvbmNhdChmbGFncy5hbGlhc2VzW2tleV0gfHwgW10sIGtleSkpLmZvckVhY2goYWxpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbGllZC5hZGQoYWxpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJndlthbGldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBzZXRQbGFjZWhvbGRlcktleXMoYXJndikge1xuICAgICAgICAgICAgZmxhZ3Mua2V5cy5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBkb24ndCBzZXQgcGxhY2Vob2xkZXIga2V5cyBmb3IgZG90IG5vdGF0aW9uIG9wdGlvbnMgJ2Zvby5iYXInLlxuICAgICAgICAgICAgICAgIGlmICh+a2V5LmluZGV4T2YoJy4nKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJndltrZXldID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICAgICAgYXJndltrZXldID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gYXJndjtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBhcHBseURlZmF1bHRzQW5kQWxpYXNlcyhvYmosIGFsaWFzZXMsIGRlZmF1bHRzLCBjYW5Mb2cgPSBmYWxzZSkge1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoZGVmYXVsdHMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgIGlmICghaGFzS2V5KG9iaiwga2V5LnNwbGl0KCcuJykpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldEtleShvYmosIGtleS5zcGxpdCgnLicpLCBkZWZhdWx0c1trZXldKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhbkxvZylcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRlZFtrZXldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgKGFsaWFzZXNba2V5XSB8fCBbXSkuZm9yRWFjaChmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhhc0tleShvYmosIHguc3BsaXQoJy4nKSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0S2V5KG9iaiwgeC5zcGxpdCgnLicpLCBkZWZhdWx0c1trZXldKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gaGFzS2V5KG9iaiwga2V5cykge1xuICAgICAgICAgICAgbGV0IG8gPSBvYmo7XG4gICAgICAgICAgICBpZiAoIWNvbmZpZ3VyYXRpb25bJ2RvdC1ub3RhdGlvbiddKVxuICAgICAgICAgICAgICAgIGtleXMgPSBba2V5cy5qb2luKCcuJyldO1xuICAgICAgICAgICAga2V5cy5zbGljZSgwLCAtMSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgbyA9IChvW2tleV0gfHwge30pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBrZXlzW2tleXMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBpZiAodHlwZW9mIG8gIT09ICdvYmplY3QnKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICByZXR1cm4ga2V5IGluIG87XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gc2V0S2V5KG9iaiwga2V5cywgdmFsdWUpIHtcbiAgICAgICAgICAgIGxldCBvID0gb2JqO1xuICAgICAgICAgICAgaWYgKCFjb25maWd1cmF0aW9uWydkb3Qtbm90YXRpb24nXSlcbiAgICAgICAgICAgICAgICBrZXlzID0gW2tleXMuam9pbignLicpXTtcbiAgICAgICAgICAgIGtleXMuc2xpY2UoMCwgLTEpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgIC8vIFRPRE8oYmNvZSk6IGluIHRoZSBuZXh0IG1ham9yIHZlcnNpb24gb2YgeWFyZ3MsIHN3aXRjaCB0b1xuICAgICAgICAgICAgICAgIC8vIE9iamVjdC5jcmVhdGUobnVsbCkgZm9yIGRvdCBub3RhdGlvbjpcbiAgICAgICAgICAgICAgICBrZXkgPSBzYW5pdGl6ZUtleShrZXkpO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbyA9PT0gJ29iamVjdCcgJiYgb1trZXldID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgb1trZXldID0ge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb1trZXldICE9PSAnb2JqZWN0JyB8fCBBcnJheS5pc0FycmF5KG9ba2V5XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZW5zdXJlIHRoYXQgb1trZXldIGlzIGFuIGFycmF5LCBhbmQgdGhhdCB0aGUgbGFzdCBpdGVtIGlzIGFuIGVtcHR5IG9iamVjdC5cbiAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob1trZXldKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb1trZXldLnB1c2goe30pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgb1trZXldID0gW29ba2V5XSwge31dO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIHdhbnQgdG8gdXBkYXRlIHRoZSBlbXB0eSBvYmplY3QgYXQgdGhlIGVuZCBvZiB0aGUgb1trZXldIGFycmF5LCBzbyBzZXQgbyB0byB0aGF0IG9iamVjdFxuICAgICAgICAgICAgICAgICAgICBvID0gb1trZXldW29ba2V5XS5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG8gPSBvW2tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBUT0RPKGJjb2UpOiBpbiB0aGUgbmV4dCBtYWpvciB2ZXJzaW9uIG9mIHlhcmdzLCBzd2l0Y2ggdG9cbiAgICAgICAgICAgIC8vIE9iamVjdC5jcmVhdGUobnVsbCkgZm9yIGRvdCBub3RhdGlvbjpcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IHNhbml0aXplS2V5KGtleXNba2V5cy5sZW5ndGggLSAxXSk7XG4gICAgICAgICAgICBjb25zdCBpc1R5cGVBcnJheSA9IGNoZWNrQWxsQWxpYXNlcyhrZXlzLmpvaW4oJy4nKSwgZmxhZ3MuYXJyYXlzKTtcbiAgICAgICAgICAgIGNvbnN0IGlzVmFsdWVBcnJheSA9IEFycmF5LmlzQXJyYXkodmFsdWUpO1xuICAgICAgICAgICAgbGV0IGR1cGxpY2F0ZSA9IGNvbmZpZ3VyYXRpb25bJ2R1cGxpY2F0ZS1hcmd1bWVudHMtYXJyYXknXTtcbiAgICAgICAgICAgIC8vIG5hcmdzIGhhcyBoaWdoZXIgcHJpb3JpdHkgdGhhbiBkdXBsaWNhdGVcbiAgICAgICAgICAgIGlmICghZHVwbGljYXRlICYmIGNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLm5hcmdzKSkge1xuICAgICAgICAgICAgICAgIGR1cGxpY2F0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKCghaXNVbmRlZmluZWQob1trZXldKSAmJiBmbGFncy5uYXJnc1trZXldID09PSAxKSB8fCAoQXJyYXkuaXNBcnJheShvW2tleV0pICYmIG9ba2V5XS5sZW5ndGggPT09IGZsYWdzLm5hcmdzW2tleV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIG9ba2V5XSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IGluY3JlbWVudCgpKSB7XG4gICAgICAgICAgICAgICAgb1trZXldID0gaW5jcmVtZW50KG9ba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KG9ba2V5XSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoZHVwbGljYXRlICYmIGlzVHlwZUFycmF5ICYmIGlzVmFsdWVBcnJheSkge1xuICAgICAgICAgICAgICAgICAgICBvW2tleV0gPSBjb25maWd1cmF0aW9uWydmbGF0dGVuLWR1cGxpY2F0ZS1hcnJheXMnXSA/IG9ba2V5XS5jb25jYXQodmFsdWUpIDogKEFycmF5LmlzQXJyYXkob1trZXldWzBdKSA/IG9ba2V5XSA6IFtvW2tleV1dKS5jb25jYXQoW3ZhbHVlXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFkdXBsaWNhdGUgJiYgQm9vbGVhbihpc1R5cGVBcnJheSkgPT09IEJvb2xlYW4oaXNWYWx1ZUFycmF5KSkge1xuICAgICAgICAgICAgICAgICAgICBvW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG9ba2V5XSA9IG9ba2V5XS5jb25jYXQoW3ZhbHVlXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAob1trZXldID09PSB1bmRlZmluZWQgJiYgaXNUeXBlQXJyYXkpIHtcbiAgICAgICAgICAgICAgICBvW2tleV0gPSBpc1ZhbHVlQXJyYXkgPyB2YWx1ZSA6IFt2YWx1ZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChkdXBsaWNhdGUgJiYgIShvW2tleV0gPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgICAgIGNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLmNvdW50cykgfHxcbiAgICAgICAgICAgICAgICBjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5ib29scykpKSB7XG4gICAgICAgICAgICAgICAgb1trZXldID0gW29ba2V5XSwgdmFsdWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgb1trZXldID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gZXh0ZW5kIHRoZSBhbGlhc2VzIGxpc3Qgd2l0aCBpbmZlcnJlZCBhbGlhc2VzLlxuICAgICAgICBmdW5jdGlvbiBleHRlbmRBbGlhc2VzKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIGFyZ3MuZm9yRWFjaChmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXMob2JqIHx8IHt9KS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gc2hvcnQtY2lyY3VpdCBpZiB3ZSd2ZSBhbHJlYWR5IGFkZGVkIGEga2V5XG4gICAgICAgICAgICAgICAgICAgIC8vIHRvIHRoZSBhbGlhc2VzIGFycmF5LCBmb3IgZXhhbXBsZSBpdCBtaWdodFxuICAgICAgICAgICAgICAgICAgICAvLyBleGlzdCBpbiBib3RoICdvcHRzLmRlZmF1bHQnIGFuZCAnb3B0cy5rZXknLlxuICAgICAgICAgICAgICAgICAgICBpZiAoZmxhZ3MuYWxpYXNlc1trZXldKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICBmbGFncy5hbGlhc2VzW2tleV0gPSBbXS5jb25jYXQoYWxpYXNlc1trZXldIHx8IFtdKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gRm9yIFwiLS1vcHRpb24tbmFtZVwiLCBhbHNvIHNldCBhcmd2Lm9wdGlvbk5hbWVcbiAgICAgICAgICAgICAgICAgICAgZmxhZ3MuYWxpYXNlc1trZXldLmNvbmNhdChrZXkpLmZvckVhY2goZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgvLS8udGVzdCh4KSAmJiBjb25maWd1cmF0aW9uWydjYW1lbC1jYXNlLWV4cGFuc2lvbiddKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYyA9IGNhbWVsQ2FzZSh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYyAhPT0ga2V5ICYmIGZsYWdzLmFsaWFzZXNba2V5XS5pbmRleE9mKGMpID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGFncy5hbGlhc2VzW2tleV0ucHVzaChjKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3QWxpYXNlc1tjXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gRm9yIFwiLS1vcHRpb25OYW1lXCIsIGFsc28gc2V0IGFyZ3ZbJ29wdGlvbi1uYW1lJ11cbiAgICAgICAgICAgICAgICAgICAgZmxhZ3MuYWxpYXNlc1trZXldLmNvbmNhdChrZXkpLmZvckVhY2goZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh4Lmxlbmd0aCA+IDEgJiYgL1tBLVpdLy50ZXN0KHgpICYmIGNvbmZpZ3VyYXRpb25bJ2NhbWVsLWNhc2UtZXhwYW5zaW9uJ10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjID0gZGVjYW1lbGl6ZSh4LCAnLScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjICE9PSBrZXkgJiYgZmxhZ3MuYWxpYXNlc1trZXldLmluZGV4T2YoYykgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsYWdzLmFsaWFzZXNba2V5XS5wdXNoKGMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdBbGlhc2VzW2NdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBmbGFncy5hbGlhc2VzW2tleV0uZm9yRWFjaChmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmxhZ3MuYWxpYXNlc1t4XSA9IFtrZXldLmNvbmNhdChmbGFncy5hbGlhc2VzW2tleV0uZmlsdGVyKGZ1bmN0aW9uICh5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHggIT09IHk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gY2hlY2tBbGxBbGlhc2VzKGtleSwgZmxhZykge1xuICAgICAgICAgICAgY29uc3QgdG9DaGVjayA9IFtdLmNvbmNhdChmbGFncy5hbGlhc2VzW2tleV0gfHwgW10sIGtleSk7XG4gICAgICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoZmxhZyk7XG4gICAgICAgICAgICBjb25zdCBzZXRBbGlhcyA9IHRvQ2hlY2suZmluZChrZXkgPT4ga2V5cy5pbmNsdWRlcyhrZXkpKTtcbiAgICAgICAgICAgIHJldHVybiBzZXRBbGlhcyA/IGZsYWdbc2V0QWxpYXNdIDogZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gaGFzQW55RmxhZyhrZXkpIHtcbiAgICAgICAgICAgIGNvbnN0IGZsYWdzS2V5cyA9IE9iamVjdC5rZXlzKGZsYWdzKTtcbiAgICAgICAgICAgIGNvbnN0IHRvQ2hlY2sgPSBbXS5jb25jYXQoZmxhZ3NLZXlzLm1hcChrID0+IGZsYWdzW2tdKSk7XG4gICAgICAgICAgICByZXR1cm4gdG9DaGVjay5zb21lKGZ1bmN0aW9uIChmbGFnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoZmxhZykgPyBmbGFnLmluY2x1ZGVzKGtleSkgOiBmbGFnW2tleV07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBoYXNGbGFnc01hdGNoaW5nKGFyZywgLi4ucGF0dGVybnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHRvQ2hlY2sgPSBbXS5jb25jYXQoLi4ucGF0dGVybnMpO1xuICAgICAgICAgICAgcmV0dXJuIHRvQ2hlY2suc29tZShmdW5jdGlvbiAocGF0dGVybikge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gYXJnLm1hdGNoKHBhdHRlcm4pO1xuICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaCAmJiBoYXNBbnlGbGFnKG1hdGNoWzFdKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIGJhc2VkIG9uIGEgc2ltcGxpZmllZCB2ZXJzaW9uIG9mIHRoZSBzaG9ydCBmbGFnIGdyb3VwIHBhcnNpbmcgbG9naWNcbiAgICAgICAgZnVuY3Rpb24gaGFzQWxsU2hvcnRGbGFncyhhcmcpIHtcbiAgICAgICAgICAgIC8vIGlmIHRoaXMgaXMgYSBuZWdhdGl2ZSBudW1iZXIsIG9yIGRvZXNuJ3Qgc3RhcnQgd2l0aCBhIHNpbmdsZSBoeXBoZW4sIGl0J3Mgbm90IGEgc2hvcnQgZmxhZyBncm91cFxuICAgICAgICAgICAgaWYgKGFyZy5tYXRjaChuZWdhdGl2ZSkgfHwgIWFyZy5tYXRjaCgvXi1bXi1dKy8pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGhhc0FsbEZsYWdzID0gdHJ1ZTtcbiAgICAgICAgICAgIGxldCBuZXh0O1xuICAgICAgICAgICAgY29uc3QgbGV0dGVycyA9IGFyZy5zbGljZSgxKS5zcGxpdCgnJyk7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGxldHRlcnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBuZXh0ID0gYXJnLnNsaWNlKGogKyAyKTtcbiAgICAgICAgICAgICAgICBpZiAoIWhhc0FueUZsYWcobGV0dGVyc1tqXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaGFzQWxsRmxhZ3MgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgobGV0dGVyc1tqICsgMV0gJiYgbGV0dGVyc1tqICsgMV0gPT09ICc9JykgfHxcbiAgICAgICAgICAgICAgICAgICAgbmV4dCA9PT0gJy0nIHx8XG4gICAgICAgICAgICAgICAgICAgICgvW0EtWmEtel0vLnRlc3QobGV0dGVyc1tqXSkgJiYgL14tP1xcZCsoXFwuXFxkKik/KGUtP1xcZCspPyQvLnRlc3QobmV4dCkpIHx8XG4gICAgICAgICAgICAgICAgICAgIChsZXR0ZXJzW2ogKyAxXSAmJiBsZXR0ZXJzW2ogKyAxXS5tYXRjaCgvXFxXLykpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBoYXNBbGxGbGFncztcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBpc1Vua25vd25PcHRpb25Bc0FyZyhhcmcpIHtcbiAgICAgICAgICAgIHJldHVybiBjb25maWd1cmF0aW9uWyd1bmtub3duLW9wdGlvbnMtYXMtYXJncyddICYmIGlzVW5rbm93bk9wdGlvbihhcmcpO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGlzVW5rbm93bk9wdGlvbihhcmcpIHtcbiAgICAgICAgICAgIGFyZyA9IGFyZy5yZXBsYWNlKC9eLXszLH0vLCAnLS0nKTtcbiAgICAgICAgICAgIC8vIGlnbm9yZSBuZWdhdGl2ZSBudW1iZXJzXG4gICAgICAgICAgICBpZiAoYXJnLm1hdGNoKG5lZ2F0aXZlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIHRoaXMgaXMgYSBzaG9ydCBvcHRpb24gZ3JvdXAgYW5kIGFsbCBvZiB0aGVtIGFyZSBjb25maWd1cmVkLCBpdCBpc24ndCB1bmtub3duXG4gICAgICAgICAgICBpZiAoaGFzQWxsU2hvcnRGbGFncyhhcmcpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZS5nLiAnLS1jb3VudD0yJ1xuICAgICAgICAgICAgY29uc3QgZmxhZ1dpdGhFcXVhbHMgPSAvXi0rKFtePV0rPyk9W1xcc1xcU10qJC87XG4gICAgICAgICAgICAvLyBlLmcuICctYScgb3IgJy0tYXJnJ1xuICAgICAgICAgICAgY29uc3Qgbm9ybWFsRmxhZyA9IC9eLSsoW149XSs/KSQvO1xuICAgICAgICAgICAgLy8gZS5nLiAnLWEtJ1xuICAgICAgICAgICAgY29uc3QgZmxhZ0VuZGluZ0luSHlwaGVuID0gL14tKyhbXj1dKz8pLSQvO1xuICAgICAgICAgICAgLy8gZS5nLiAnLWFiYzEyMydcbiAgICAgICAgICAgIGNvbnN0IGZsYWdFbmRpbmdJbkRpZ2l0cyA9IC9eLSsoW149XSs/XFxkKykkLztcbiAgICAgICAgICAgIC8vIGUuZy4gJy1hL3Vzci9sb2NhbCdcbiAgICAgICAgICAgIGNvbnN0IGZsYWdFbmRpbmdJbk5vbldvcmRDaGFyYWN0ZXJzID0gL14tKyhbXj1dKz8pXFxXKy4qJC87XG4gICAgICAgICAgICAvLyBjaGVjayB0aGUgZGlmZmVyZW50IHR5cGVzIG9mIGZsYWcgc3R5bGVzLCBpbmNsdWRpbmcgbmVnYXRlZEJvb2xlYW4sIGEgcGF0dGVybiBkZWZpbmVkIG5lYXIgdGhlIHN0YXJ0IG9mIHRoZSBwYXJzZSBtZXRob2RcbiAgICAgICAgICAgIHJldHVybiAhaGFzRmxhZ3NNYXRjaGluZyhhcmcsIGZsYWdXaXRoRXF1YWxzLCBuZWdhdGVkQm9vbGVhbiwgbm9ybWFsRmxhZywgZmxhZ0VuZGluZ0luSHlwaGVuLCBmbGFnRW5kaW5nSW5EaWdpdHMsIGZsYWdFbmRpbmdJbk5vbldvcmRDaGFyYWN0ZXJzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBtYWtlIGEgYmVzdCBlZmZvcnQgdG8gcGljayBhIGRlZmF1bHQgdmFsdWVcbiAgICAgICAgLy8gZm9yIGFuIG9wdGlvbiBiYXNlZCBvbiBuYW1lIGFuZCB0eXBlLlxuICAgICAgICBmdW5jdGlvbiBkZWZhdWx0VmFsdWUoa2V5KSB7XG4gICAgICAgICAgICBpZiAoIWNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLmJvb2xzKSAmJlxuICAgICAgICAgICAgICAgICFjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5jb3VudHMpICYmXG4gICAgICAgICAgICAgICAgYCR7a2V5fWAgaW4gZGVmYXVsdHMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVmYXVsdHNba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBkZWZhdWx0Rm9yVHlwZShndWVzc1R5cGUoa2V5KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmV0dXJuIGEgZGVmYXVsdCB2YWx1ZSwgZ2l2ZW4gdGhlIHR5cGUgb2YgYSBmbGFnLixcbiAgICAgICAgZnVuY3Rpb24gZGVmYXVsdEZvclR5cGUodHlwZSkge1xuICAgICAgICAgICAgY29uc3QgZGVmID0ge1xuICAgICAgICAgICAgICAgIFtEZWZhdWx0VmFsdWVzRm9yVHlwZUtleS5CT09MRUFOXTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBbRGVmYXVsdFZhbHVlc0ZvclR5cGVLZXkuU1RSSU5HXTogJycsXG4gICAgICAgICAgICAgICAgW0RlZmF1bHRWYWx1ZXNGb3JUeXBlS2V5Lk5VTUJFUl06IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBbRGVmYXVsdFZhbHVlc0ZvclR5cGVLZXkuQVJSQVldOiBbXVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBkZWZbdHlwZV07XG4gICAgICAgIH1cbiAgICAgICAgLy8gZ2l2ZW4gYSBmbGFnLCBlbmZvcmNlIGEgZGVmYXVsdCB0eXBlLlxuICAgICAgICBmdW5jdGlvbiBndWVzc1R5cGUoa2V5KSB7XG4gICAgICAgICAgICBsZXQgdHlwZSA9IERlZmF1bHRWYWx1ZXNGb3JUeXBlS2V5LkJPT0xFQU47XG4gICAgICAgICAgICBpZiAoY2hlY2tBbGxBbGlhc2VzKGtleSwgZmxhZ3Muc3RyaW5ncykpXG4gICAgICAgICAgICAgICAgdHlwZSA9IERlZmF1bHRWYWx1ZXNGb3JUeXBlS2V5LlNUUklORztcbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLm51bWJlcnMpKVxuICAgICAgICAgICAgICAgIHR5cGUgPSBEZWZhdWx0VmFsdWVzRm9yVHlwZUtleS5OVU1CRVI7XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5ib29scykpXG4gICAgICAgICAgICAgICAgdHlwZSA9IERlZmF1bHRWYWx1ZXNGb3JUeXBlS2V5LkJPT0xFQU47XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5hcnJheXMpKVxuICAgICAgICAgICAgICAgIHR5cGUgPSBEZWZhdWx0VmFsdWVzRm9yVHlwZUtleS5BUlJBWTtcbiAgICAgICAgICAgIHJldHVybiB0eXBlO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGlzVW5kZWZpbmVkKG51bSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bSA9PT0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNoZWNrIHVzZXIgY29uZmlndXJhdGlvbiBzZXR0aW5ncyBmb3IgaW5jb25zaXN0ZW5jaWVzXG4gICAgICAgIGZ1bmN0aW9uIGNoZWNrQ29uZmlndXJhdGlvbigpIHtcbiAgICAgICAgICAgIC8vIGNvdW50IGtleXMgc2hvdWxkIG5vdCBiZSBzZXQgYXMgYXJyYXkvbmFyZ1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoZmxhZ3MuY291bnRzKS5maW5kKGtleSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLmFycmF5cykpIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IgPSBFcnJvcihfXygnSW52YWxpZCBjb25maWd1cmF0aW9uOiAlcywgb3B0cy5jb3VudCBleGNsdWRlcyBvcHRzLmFycmF5LicsIGtleSkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2tBbGxBbGlhc2VzKGtleSwgZmxhZ3MubmFyZ3MpKSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yID0gRXJyb3IoX18oJ0ludmFsaWQgY29uZmlndXJhdGlvbjogJXMsIG9wdHMuY291bnQgZXhjbHVkZXMgb3B0cy5uYXJnLicsIGtleSkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFsaWFzZXM6IE9iamVjdC5hc3NpZ24oe30sIGZsYWdzLmFsaWFzZXMpLFxuICAgICAgICAgICAgYXJndjogT2JqZWN0LmFzc2lnbihhcmd2UmV0dXJuLCBhcmd2KSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYXRpb246IGNvbmZpZ3VyYXRpb24sXG4gICAgICAgICAgICBkZWZhdWx0ZWQ6IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRlZCksXG4gICAgICAgICAgICBlcnJvcjogZXJyb3IsXG4gICAgICAgICAgICBuZXdBbGlhc2VzOiBPYmplY3QuYXNzaWduKHt9LCBuZXdBbGlhc2VzKVxuICAgICAgICB9O1xuICAgIH1cbn1cbi8vIGlmIGFueSBhbGlhc2VzIHJlZmVyZW5jZSBlYWNoIG90aGVyLCB3ZSBzaG91bGRcbi8vIG1lcmdlIHRoZW0gdG9nZXRoZXIuXG5mdW5jdGlvbiBjb21iaW5lQWxpYXNlcyhhbGlhc2VzKSB7XG4gICAgY29uc3QgYWxpYXNBcnJheXMgPSBbXTtcbiAgICBjb25zdCBjb21iaW5lZCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgbGV0IGNoYW5nZSA9IHRydWU7XG4gICAgLy8gdHVybiBhbGlhcyBsb29rdXAgaGFzaCB7a2V5OiBbJ2FsaWFzMScsICdhbGlhczInXX0gaW50b1xuICAgIC8vIGEgc2ltcGxlIGFycmF5IFsna2V5JywgJ2FsaWFzMScsICdhbGlhczInXVxuICAgIE9iamVjdC5rZXlzKGFsaWFzZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBhbGlhc0FycmF5cy5wdXNoKFtdLmNvbmNhdChhbGlhc2VzW2tleV0sIGtleSkpO1xuICAgIH0pO1xuICAgIC8vIGNvbWJpbmUgYXJyYXlzIHVudGlsIHplcm8gY2hhbmdlcyBhcmVcbiAgICAvLyBtYWRlIGluIGFuIGl0ZXJhdGlvbi5cbiAgICB3aGlsZSAoY2hhbmdlKSB7XG4gICAgICAgIGNoYW5nZSA9IGZhbHNlO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFsaWFzQXJyYXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpaSA9IGkgKyAxOyBpaSA8IGFsaWFzQXJyYXlzLmxlbmd0aDsgaWkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGludGVyc2VjdCA9IGFsaWFzQXJyYXlzW2ldLmZpbHRlcihmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWxpYXNBcnJheXNbaWldLmluZGV4T2YodikgIT09IC0xO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChpbnRlcnNlY3QubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGFsaWFzQXJyYXlzW2ldID0gYWxpYXNBcnJheXNbaV0uY29uY2F0KGFsaWFzQXJyYXlzW2lpXSk7XG4gICAgICAgICAgICAgICAgICAgIGFsaWFzQXJyYXlzLnNwbGljZShpaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBtYXAgYXJyYXlzIGJhY2sgdG8gdGhlIGhhc2gtbG9va3VwIChkZS1kdXBlIHdoaWxlXG4gICAgLy8gd2UncmUgYXQgaXQpLlxuICAgIGFsaWFzQXJyYXlzLmZvckVhY2goZnVuY3Rpb24gKGFsaWFzQXJyYXkpIHtcbiAgICAgICAgYWxpYXNBcnJheSA9IGFsaWFzQXJyYXkuZmlsdGVyKGZ1bmN0aW9uICh2LCBpLCBzZWxmKSB7XG4gICAgICAgICAgICByZXR1cm4gc2VsZi5pbmRleE9mKHYpID09PSBpO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgbGFzdEFsaWFzID0gYWxpYXNBcnJheS5wb3AoKTtcbiAgICAgICAgaWYgKGxhc3RBbGlhcyAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBsYXN0QWxpYXMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBjb21iaW5lZFtsYXN0QWxpYXNdID0gYWxpYXNBcnJheTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBjb21iaW5lZDtcbn1cbi8vIHRoaXMgZnVuY3Rpb24gc2hvdWxkIG9ubHkgYmUgY2FsbGVkIHdoZW4gYSBjb3VudCBpcyBnaXZlbiBhcyBhbiBhcmdcbi8vIGl0IGlzIE5PVCBjYWxsZWQgdG8gc2V0IGEgZGVmYXVsdCB2YWx1ZVxuLy8gdGh1cyB3ZSBjYW4gc3RhcnQgdGhlIGNvdW50IGF0IDEgaW5zdGVhZCBvZiAwXG5mdW5jdGlvbiBpbmNyZW1lbnQob3JpZykge1xuICAgIHJldHVybiBvcmlnICE9PSB1bmRlZmluZWQgPyBvcmlnICsgMSA6IDE7XG59XG4vLyBUT0RPKGJjb2UpOiBpbiB0aGUgbmV4dCBtYWpvciB2ZXJzaW9uIG9mIHlhcmdzLCBzd2l0Y2ggdG9cbi8vIE9iamVjdC5jcmVhdGUobnVsbCkgZm9yIGRvdCBub3RhdGlvbjpcbmZ1bmN0aW9uIHNhbml0aXplS2V5KGtleSkge1xuICAgIGlmIChrZXkgPT09ICdfX3Byb3RvX18nKVxuICAgICAgICByZXR1cm4gJ19fX3Byb3RvX19fJztcbiAgICByZXR1cm4ga2V5O1xufVxuZnVuY3Rpb24gc3RyaXBRdW90ZXModmFsKSB7XG4gICAgcmV0dXJuICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJyAmJlxuICAgICAgICAodmFsWzBdID09PSBcIidcIiB8fCB2YWxbMF0gPT09ICdcIicpICYmXG4gICAgICAgIHZhbFt2YWwubGVuZ3RoIC0gMV0gPT09IHZhbFswXSlcbiAgICAgICAgPyB2YWwuc3Vic3RyaW5nKDEsIHZhbC5sZW5ndGggLSAxKVxuICAgICAgICA6IHZhbDtcbn1cbiIsICJmdW5jdGlvbiBnZXRQcm9jZXNzQXJndkJpbkluZGV4KCkge1xuICAgIGlmIChpc0J1bmRsZWRFbGVjdHJvbkFwcCgpKVxuICAgICAgICByZXR1cm4gMDtcbiAgICByZXR1cm4gMTtcbn1cbmZ1bmN0aW9uIGlzQnVuZGxlZEVsZWN0cm9uQXBwKCkge1xuICAgIHJldHVybiBpc0VsZWN0cm9uQXBwKCkgJiYgIXByb2Nlc3MuZGVmYXVsdEFwcDtcbn1cbmZ1bmN0aW9uIGlzRWxlY3Ryb25BcHAoKSB7XG4gICAgcmV0dXJuICEhcHJvY2Vzcy52ZXJzaW9ucy5lbGVjdHJvbjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBoaWRlQmluKGFyZ3YpIHtcbiAgICByZXR1cm4gYXJndi5zbGljZShnZXRQcm9jZXNzQXJndkJpbkluZGV4KCkgKyAxKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRQcm9jZXNzQXJndkJpbigpIHtcbiAgICByZXR1cm4gcHJvY2Vzcy5hcmd2W2dldFByb2Nlc3NBcmd2QmluSW5kZXgoKV07XG59XG4iLCAiZXhwb3J0IGNsYXNzIFlFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3Rvcihtc2cpIHtcbiAgICAgICAgc3VwZXIobXNnIHx8ICd5YXJncyBlcnJvcicpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnWUVycm9yJztcbiAgICAgICAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSB7XG4gICAgICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBZRXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwgImltcG9ydCB7IHJlYWRGaWxlU3luYywgc3RhdFN5bmMsIHdyaXRlRmlsZSB9IGZyb20gJ2ZzJztcbmltcG9ydCB7IGZvcm1hdCB9IGZyb20gJ3V0aWwnO1xuaW1wb3J0IHsgcmVzb2x2ZSB9IGZyb20gJ3BhdGgnO1xuZXhwb3J0IGRlZmF1bHQge1xuICAgIGZzOiB7XG4gICAgICAgIHJlYWRGaWxlU3luYyxcbiAgICAgICAgd3JpdGVGaWxlXG4gICAgfSxcbiAgICBmb3JtYXQsXG4gICAgcmVzb2x2ZSxcbiAgICBleGlzdHM6IChmaWxlKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhdFN5bmMoZmlsZSkuaXNGaWxlKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxufTtcbiIsICJsZXQgc2hpbTtcbmNsYXNzIFkxOE4ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgLy8gY29uZmlndXJhYmxlIG9wdGlvbnMuXG4gICAgICAgIG9wdHMgPSBvcHRzIHx8IHt9O1xuICAgICAgICB0aGlzLmRpcmVjdG9yeSA9IG9wdHMuZGlyZWN0b3J5IHx8ICcuL2xvY2FsZXMnO1xuICAgICAgICB0aGlzLnVwZGF0ZUZpbGVzID0gdHlwZW9mIG9wdHMudXBkYXRlRmlsZXMgPT09ICdib29sZWFuJyA/IG9wdHMudXBkYXRlRmlsZXMgOiB0cnVlO1xuICAgICAgICB0aGlzLmxvY2FsZSA9IG9wdHMubG9jYWxlIHx8ICdlbic7XG4gICAgICAgIHRoaXMuZmFsbGJhY2tUb0xhbmd1YWdlID0gdHlwZW9mIG9wdHMuZmFsbGJhY2tUb0xhbmd1YWdlID09PSAnYm9vbGVhbicgPyBvcHRzLmZhbGxiYWNrVG9MYW5ndWFnZSA6IHRydWU7XG4gICAgICAgIC8vIGludGVybmFsIHN0dWZmLlxuICAgICAgICB0aGlzLmNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgdGhpcy53cml0ZVF1ZXVlID0gW107XG4gICAgfVxuICAgIF9fKC4uLmFyZ3MpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBhcmd1bWVudHNbMF0gIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGFnZ2VkTGl0ZXJhbChhcmd1bWVudHNbMF0sIC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RyID0gYXJncy5zaGlmdCgpO1xuICAgICAgICBsZXQgY2IgPSBmdW5jdGlvbiAoKSB7IH07IC8vIHN0YXJ0IHdpdGggbm9vcC5cbiAgICAgICAgaWYgKHR5cGVvZiBhcmdzW2FyZ3MubGVuZ3RoIC0gMV0gPT09ICdmdW5jdGlvbicpXG4gICAgICAgICAgICBjYiA9IGFyZ3MucG9wKCk7XG4gICAgICAgIGNiID0gY2IgfHwgZnVuY3Rpb24gKCkgeyB9OyAvLyBub29wLlxuICAgICAgICBpZiAoIXRoaXMuY2FjaGVbdGhpcy5sb2NhbGVdKVxuICAgICAgICAgICAgdGhpcy5fcmVhZExvY2FsZUZpbGUoKTtcbiAgICAgICAgLy8gd2UndmUgb2JzZXJ2ZWQgYSBuZXcgc3RyaW5nLCB1cGRhdGUgdGhlIGxhbmd1YWdlIGZpbGUuXG4gICAgICAgIGlmICghdGhpcy5jYWNoZVt0aGlzLmxvY2FsZV1bc3RyXSAmJiB0aGlzLnVwZGF0ZUZpbGVzKSB7XG4gICAgICAgICAgICB0aGlzLmNhY2hlW3RoaXMubG9jYWxlXVtzdHJdID0gc3RyO1xuICAgICAgICAgICAgLy8gaW5jbHVkZSB0aGUgY3VycmVudCBkaXJlY3RvcnkgYW5kIGxvY2FsZSxcbiAgICAgICAgICAgIC8vIHNpbmNlIHRoZXNlIHZhbHVlcyBjb3VsZCBjaGFuZ2UgYmVmb3JlIHRoZVxuICAgICAgICAgICAgLy8gd3JpdGUgaXMgcGVyZm9ybWVkLlxuICAgICAgICAgICAgdGhpcy5fZW5xdWV1ZVdyaXRlKHtcbiAgICAgICAgICAgICAgICBkaXJlY3Rvcnk6IHRoaXMuZGlyZWN0b3J5LFxuICAgICAgICAgICAgICAgIGxvY2FsZTogdGhpcy5sb2NhbGUsXG4gICAgICAgICAgICAgICAgY2JcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY2IoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2hpbS5mb3JtYXQuYXBwbHkoc2hpbS5mb3JtYXQsIFt0aGlzLmNhY2hlW3RoaXMubG9jYWxlXVtzdHJdIHx8IHN0cl0uY29uY2F0KGFyZ3MpKTtcbiAgICB9XG4gICAgX19uKCkge1xuICAgICAgICBjb25zdCBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgICAgICAgY29uc3Qgc2luZ3VsYXIgPSBhcmdzLnNoaWZ0KCk7XG4gICAgICAgIGNvbnN0IHBsdXJhbCA9IGFyZ3Muc2hpZnQoKTtcbiAgICAgICAgY29uc3QgcXVhbnRpdHkgPSBhcmdzLnNoaWZ0KCk7XG4gICAgICAgIGxldCBjYiA9IGZ1bmN0aW9uICgpIHsgfTsgLy8gc3RhcnQgd2l0aCBub29wLlxuICAgICAgICBpZiAodHlwZW9mIGFyZ3NbYXJncy5sZW5ndGggLSAxXSA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICAgIGNiID0gYXJncy5wb3AoKTtcbiAgICAgICAgaWYgKCF0aGlzLmNhY2hlW3RoaXMubG9jYWxlXSlcbiAgICAgICAgICAgIHRoaXMuX3JlYWRMb2NhbGVGaWxlKCk7XG4gICAgICAgIGxldCBzdHIgPSBxdWFudGl0eSA9PT0gMSA/IHNpbmd1bGFyIDogcGx1cmFsO1xuICAgICAgICBpZiAodGhpcy5jYWNoZVt0aGlzLmxvY2FsZV1bc2luZ3VsYXJdKSB7XG4gICAgICAgICAgICBjb25zdCBlbnRyeSA9IHRoaXMuY2FjaGVbdGhpcy5sb2NhbGVdW3Npbmd1bGFyXTtcbiAgICAgICAgICAgIHN0ciA9IGVudHJ5W3F1YW50aXR5ID09PSAxID8gJ29uZScgOiAnb3RoZXInXTtcbiAgICAgICAgfVxuICAgICAgICAvLyB3ZSd2ZSBvYnNlcnZlZCBhIG5ldyBzdHJpbmcsIHVwZGF0ZSB0aGUgbGFuZ3VhZ2UgZmlsZS5cbiAgICAgICAgaWYgKCF0aGlzLmNhY2hlW3RoaXMubG9jYWxlXVtzaW5ndWxhcl0gJiYgdGhpcy51cGRhdGVGaWxlcykge1xuICAgICAgICAgICAgdGhpcy5jYWNoZVt0aGlzLmxvY2FsZV1bc2luZ3VsYXJdID0ge1xuICAgICAgICAgICAgICAgIG9uZTogc2luZ3VsYXIsXG4gICAgICAgICAgICAgICAgb3RoZXI6IHBsdXJhbFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIGluY2x1ZGUgdGhlIGN1cnJlbnQgZGlyZWN0b3J5IGFuZCBsb2NhbGUsXG4gICAgICAgICAgICAvLyBzaW5jZSB0aGVzZSB2YWx1ZXMgY291bGQgY2hhbmdlIGJlZm9yZSB0aGVcbiAgICAgICAgICAgIC8vIHdyaXRlIGlzIHBlcmZvcm1lZC5cbiAgICAgICAgICAgIHRoaXMuX2VucXVldWVXcml0ZSh7XG4gICAgICAgICAgICAgICAgZGlyZWN0b3J5OiB0aGlzLmRpcmVjdG9yeSxcbiAgICAgICAgICAgICAgICBsb2NhbGU6IHRoaXMubG9jYWxlLFxuICAgICAgICAgICAgICAgIGNiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNiKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgYSAlZCBwbGFjZWhvbGRlciBpcyBwcm92aWRlZCwgYWRkIHF1YW50aXR5XG4gICAgICAgIC8vIHRvIHRoZSBhcmd1bWVudHMgZXhwYW5kZWQgYnkgdXRpbC5mb3JtYXQuXG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IFtzdHJdO1xuICAgICAgICBpZiAofnN0ci5pbmRleE9mKCclZCcpKVxuICAgICAgICAgICAgdmFsdWVzLnB1c2gocXVhbnRpdHkpO1xuICAgICAgICByZXR1cm4gc2hpbS5mb3JtYXQuYXBwbHkoc2hpbS5mb3JtYXQsIHZhbHVlcy5jb25jYXQoYXJncykpO1xuICAgIH1cbiAgICBzZXRMb2NhbGUobG9jYWxlKSB7XG4gICAgICAgIHRoaXMubG9jYWxlID0gbG9jYWxlO1xuICAgIH1cbiAgICBnZXRMb2NhbGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2FsZTtcbiAgICB9XG4gICAgdXBkYXRlTG9jYWxlKG9iaikge1xuICAgICAgICBpZiAoIXRoaXMuY2FjaGVbdGhpcy5sb2NhbGVdKVxuICAgICAgICAgICAgdGhpcy5fcmVhZExvY2FsZUZpbGUoKTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gb2JqKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FjaGVbdGhpcy5sb2NhbGVdW2tleV0gPSBvYmpba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBfdGFnZ2VkTGl0ZXJhbChwYXJ0cywgLi4uYXJncykge1xuICAgICAgICBsZXQgc3RyID0gJyc7XG4gICAgICAgIHBhcnRzLmZvckVhY2goZnVuY3Rpb24gKHBhcnQsIGkpIHtcbiAgICAgICAgICAgIGNvbnN0IGFyZyA9IGFyZ3NbaSArIDFdO1xuICAgICAgICAgICAgc3RyICs9IHBhcnQ7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGFyZyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBzdHIgKz0gJyVzJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9fLmFwcGx5KHRoaXMsIFtzdHJdLmNvbmNhdChbXS5zbGljZS5jYWxsKGFyZ3MsIDEpKSk7XG4gICAgfVxuICAgIF9lbnF1ZXVlV3JpdGUod29yaykge1xuICAgICAgICB0aGlzLndyaXRlUXVldWUucHVzaCh3b3JrKTtcbiAgICAgICAgaWYgKHRoaXMud3JpdGVRdWV1ZS5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICB0aGlzLl9wcm9jZXNzV3JpdGVRdWV1ZSgpO1xuICAgIH1cbiAgICBfcHJvY2Vzc1dyaXRlUXVldWUoKSB7XG4gICAgICAgIGNvbnN0IF90aGlzID0gdGhpcztcbiAgICAgICAgY29uc3Qgd29yayA9IHRoaXMud3JpdGVRdWV1ZVswXTtcbiAgICAgICAgLy8gZGVzdHJ1Y3R1cmUgdGhlIGVucXVldWVkIHdvcmsuXG4gICAgICAgIGNvbnN0IGRpcmVjdG9yeSA9IHdvcmsuZGlyZWN0b3J5O1xuICAgICAgICBjb25zdCBsb2NhbGUgPSB3b3JrLmxvY2FsZTtcbiAgICAgICAgY29uc3QgY2IgPSB3b3JrLmNiO1xuICAgICAgICBjb25zdCBsYW5ndWFnZUZpbGUgPSB0aGlzLl9yZXNvbHZlTG9jYWxlRmlsZShkaXJlY3RvcnksIGxvY2FsZSk7XG4gICAgICAgIGNvbnN0IHNlcmlhbGl6ZWRMb2NhbGUgPSBKU09OLnN0cmluZ2lmeSh0aGlzLmNhY2hlW2xvY2FsZV0sIG51bGwsIDIpO1xuICAgICAgICBzaGltLmZzLndyaXRlRmlsZShsYW5ndWFnZUZpbGUsIHNlcmlhbGl6ZWRMb2NhbGUsICd1dGYtOCcsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIF90aGlzLndyaXRlUXVldWUuc2hpZnQoKTtcbiAgICAgICAgICAgIGlmIChfdGhpcy53cml0ZVF1ZXVlLmxlbmd0aCA+IDApXG4gICAgICAgICAgICAgICAgX3RoaXMuX3Byb2Nlc3NXcml0ZVF1ZXVlKCk7XG4gICAgICAgICAgICBjYihlcnIpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgX3JlYWRMb2NhbGVGaWxlKCkge1xuICAgICAgICBsZXQgbG9jYWxlTG9va3VwID0ge307XG4gICAgICAgIGNvbnN0IGxhbmd1YWdlRmlsZSA9IHRoaXMuX3Jlc29sdmVMb2NhbGVGaWxlKHRoaXMuZGlyZWN0b3J5LCB0aGlzLmxvY2FsZSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHVzaW5nIGEgYnVuZGxlciBzdWNoIGFzIHdlYnBhY2ssIHJlYWRGaWxlU3luYyBtYXkgbm90IGJlIGRlZmluZWQ6XG4gICAgICAgICAgICBpZiAoc2hpbS5mcy5yZWFkRmlsZVN5bmMpIHtcbiAgICAgICAgICAgICAgICBsb2NhbGVMb29rdXAgPSBKU09OLnBhcnNlKHNoaW0uZnMucmVhZEZpbGVTeW5jKGxhbmd1YWdlRmlsZSwgJ3V0Zi04JykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBTeW50YXhFcnJvcikge1xuICAgICAgICAgICAgICAgIGVyci5tZXNzYWdlID0gJ3N5bnRheCBlcnJvciBpbiAnICsgbGFuZ3VhZ2VGaWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVyci5jb2RlID09PSAnRU5PRU5UJylcbiAgICAgICAgICAgICAgICBsb2NhbGVMb29rdXAgPSB7fTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jYWNoZVt0aGlzLmxvY2FsZV0gPSBsb2NhbGVMb29rdXA7XG4gICAgfVxuICAgIF9yZXNvbHZlTG9jYWxlRmlsZShkaXJlY3RvcnksIGxvY2FsZSkge1xuICAgICAgICBsZXQgZmlsZSA9IHNoaW0ucmVzb2x2ZShkaXJlY3RvcnksICcuLycsIGxvY2FsZSArICcuanNvbicpO1xuICAgICAgICBpZiAodGhpcy5mYWxsYmFja1RvTGFuZ3VhZ2UgJiYgIXRoaXMuX2ZpbGVFeGlzdHNTeW5jKGZpbGUpICYmIH5sb2NhbGUubGFzdEluZGV4T2YoJ18nKSkge1xuICAgICAgICAgICAgLy8gYXR0ZW1wdCBmYWxsYmFjayB0byBsYW5ndWFnZSBvbmx5XG4gICAgICAgICAgICBjb25zdCBsYW5ndWFnZUZpbGUgPSBzaGltLnJlc29sdmUoZGlyZWN0b3J5LCAnLi8nLCBsb2NhbGUuc3BsaXQoJ18nKVswXSArICcuanNvbicpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2ZpbGVFeGlzdHNTeW5jKGxhbmd1YWdlRmlsZSkpXG4gICAgICAgICAgICAgICAgZmlsZSA9IGxhbmd1YWdlRmlsZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmlsZTtcbiAgICB9XG4gICAgX2ZpbGVFeGlzdHNTeW5jKGZpbGUpIHtcbiAgICAgICAgcmV0dXJuIHNoaW0uZXhpc3RzKGZpbGUpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiB5MThuKG9wdHMsIF9zaGltKSB7XG4gICAgc2hpbSA9IF9zaGltO1xuICAgIGNvbnN0IHkxOG4gPSBuZXcgWTE4TihvcHRzKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBfXzogeTE4bi5fXy5iaW5kKHkxOG4pLFxuICAgICAgICBfX246IHkxOG4uX19uLmJpbmQoeTE4biksXG4gICAgICAgIHNldExvY2FsZTogeTE4bi5zZXRMb2NhbGUuYmluZCh5MThuKSxcbiAgICAgICAgZ2V0TG9jYWxlOiB5MThuLmdldExvY2FsZS5iaW5kKHkxOG4pLFxuICAgICAgICB1cGRhdGVMb2NhbGU6IHkxOG4udXBkYXRlTG9jYWxlLmJpbmQoeTE4biksXG4gICAgICAgIGxvY2FsZTogeTE4bi5sb2NhbGVcbiAgICB9O1xufVxuIiwgImltcG9ydCBzaGltIGZyb20gJy4vYnVpbGQvbGliL3BsYXRmb3JtLXNoaW1zL25vZGUuanMnXG5pbXBvcnQgeyB5MThuIGFzIF95MThuIH0gZnJvbSAnLi9idWlsZC9saWIvaW5kZXguanMnXG5cbmNvbnN0IHkxOG4gPSAob3B0cykgPT4ge1xuICByZXR1cm4gX3kxOG4ob3B0cywgc2hpbSlcbn1cblxuZXhwb3J0IGRlZmF1bHQgeTE4blxuIiwgImV4cG9ydCBmdW5jdGlvbiBhc3NlcnROb3RTdHJpY3RFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBzaGltLCBtZXNzYWdlKSB7XG4gICAgc2hpbS5hc3NlcnQubm90U3RyaWN0RXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSk7XG59XG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0U2luZ2xlS2V5KGFjdHVhbCwgc2hpbSkge1xuICAgIHNoaW0uYXNzZXJ0LnN0cmljdEVxdWFsKHR5cGVvZiBhY3R1YWwsICdzdHJpbmcnKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBvYmplY3RLZXlzKG9iamVjdCkge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmplY3QpO1xufVxuIiwgImV4cG9ydCBmdW5jdGlvbiBpc1Byb21pc2UobWF5YmVQcm9taXNlKSB7XG4gICAgcmV0dXJuICghIW1heWJlUHJvbWlzZSAmJlxuICAgICAgICAhIW1heWJlUHJvbWlzZS50aGVuICYmXG4gICAgICAgIHR5cGVvZiBtYXliZVByb21pc2UudGhlbiA9PT0gJ2Z1bmN0aW9uJyk7XG59XG4iLCAiZXhwb3J0IGZ1bmN0aW9uIHBhcnNlQ29tbWFuZChjbWQpIHtcbiAgICBjb25zdCBleHRyYVNwYWNlc1N0cmlwcGVkQ29tbWFuZCA9IGNtZC5yZXBsYWNlKC9cXHN7Mix9L2csICcgJyk7XG4gICAgY29uc3Qgc3BsaXRDb21tYW5kID0gZXh0cmFTcGFjZXNTdHJpcHBlZENvbW1hbmQuc3BsaXQoL1xccysoPyFbXltdKl18W148XSo+KS8pO1xuICAgIGNvbnN0IGJyZWdleCA9IC9cXC4qW1xcXVs8Pl0vZztcbiAgICBjb25zdCBmaXJzdENvbW1hbmQgPSBzcGxpdENvbW1hbmQuc2hpZnQoKTtcbiAgICBpZiAoIWZpcnN0Q29tbWFuZClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBjb21tYW5kIGZvdW5kIGluOiAke2NtZH1gKTtcbiAgICBjb25zdCBwYXJzZWRDb21tYW5kID0ge1xuICAgICAgICBjbWQ6IGZpcnN0Q29tbWFuZC5yZXBsYWNlKGJyZWdleCwgJycpLFxuICAgICAgICBkZW1hbmRlZDogW10sXG4gICAgICAgIG9wdGlvbmFsOiBbXSxcbiAgICB9O1xuICAgIHNwbGl0Q29tbWFuZC5mb3JFYWNoKChjbWQsIGkpID0+IHtcbiAgICAgICAgbGV0IHZhcmlhZGljID0gZmFsc2U7XG4gICAgICAgIGNtZCA9IGNtZC5yZXBsYWNlKC9cXHMvZywgJycpO1xuICAgICAgICBpZiAoL1xcLitbXFxdPl0vLnRlc3QoY21kKSAmJiBpID09PSBzcGxpdENvbW1hbmQubGVuZ3RoIC0gMSlcbiAgICAgICAgICAgIHZhcmlhZGljID0gdHJ1ZTtcbiAgICAgICAgaWYgKC9eXFxbLy50ZXN0KGNtZCkpIHtcbiAgICAgICAgICAgIHBhcnNlZENvbW1hbmQub3B0aW9uYWwucHVzaCh7XG4gICAgICAgICAgICAgICAgY21kOiBjbWQucmVwbGFjZShicmVnZXgsICcnKS5zcGxpdCgnfCcpLFxuICAgICAgICAgICAgICAgIHZhcmlhZGljLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYXJzZWRDb21tYW5kLmRlbWFuZGVkLnB1c2goe1xuICAgICAgICAgICAgICAgIGNtZDogY21kLnJlcGxhY2UoYnJlZ2V4LCAnJykuc3BsaXQoJ3wnKSxcbiAgICAgICAgICAgICAgICB2YXJpYWRpYyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHBhcnNlZENvbW1hbmQ7XG59XG4iLCAiaW1wb3J0IHsgWUVycm9yIH0gZnJvbSAnLi95ZXJyb3IuanMnO1xuaW1wb3J0IHsgcGFyc2VDb21tYW5kIH0gZnJvbSAnLi9wYXJzZS1jb21tYW5kLmpzJztcbmNvbnN0IHBvc2l0aW9uTmFtZSA9IFsnZmlyc3QnLCAnc2Vjb25kJywgJ3RoaXJkJywgJ2ZvdXJ0aCcsICdmaWZ0aCcsICdzaXh0aCddO1xuZXhwb3J0IGZ1bmN0aW9uIGFyZ3NlcnQoYXJnMSwgYXJnMiwgYXJnMykge1xuICAgIGZ1bmN0aW9uIHBhcnNlQXJncygpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBhcmcxID09PSAnb2JqZWN0J1xuICAgICAgICAgICAgPyBbeyBkZW1hbmRlZDogW10sIG9wdGlvbmFsOiBbXSB9LCBhcmcxLCBhcmcyXVxuICAgICAgICAgICAgOiBbXG4gICAgICAgICAgICAgICAgcGFyc2VDb21tYW5kKGBjbWQgJHthcmcxfWApLFxuICAgICAgICAgICAgICAgIGFyZzIsXG4gICAgICAgICAgICAgICAgYXJnMyxcbiAgICAgICAgICAgIF07XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGxldCBwb3NpdGlvbiA9IDA7XG4gICAgICAgIGNvbnN0IFtwYXJzZWQsIGNhbGxlckFyZ3VtZW50cywgX2xlbmd0aF0gPSBwYXJzZUFyZ3MoKTtcbiAgICAgICAgY29uc3QgYXJncyA9IFtdLnNsaWNlLmNhbGwoY2FsbGVyQXJndW1lbnRzKTtcbiAgICAgICAgd2hpbGUgKGFyZ3MubGVuZ3RoICYmIGFyZ3NbYXJncy5sZW5ndGggLSAxXSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgYXJncy5wb3AoKTtcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gX2xlbmd0aCB8fCBhcmdzLmxlbmd0aDtcbiAgICAgICAgaWYgKGxlbmd0aCA8IHBhcnNlZC5kZW1hbmRlZC5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBZRXJyb3IoYE5vdCBlbm91Z2ggYXJndW1lbnRzIHByb3ZpZGVkLiBFeHBlY3RlZCAke3BhcnNlZC5kZW1hbmRlZC5sZW5ndGh9IGJ1dCByZWNlaXZlZCAke2FyZ3MubGVuZ3RofS5gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0b3RhbENvbW1hbmRzID0gcGFyc2VkLmRlbWFuZGVkLmxlbmd0aCArIHBhcnNlZC5vcHRpb25hbC5sZW5ndGg7XG4gICAgICAgIGlmIChsZW5ndGggPiB0b3RhbENvbW1hbmRzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgWUVycm9yKGBUb28gbWFueSBhcmd1bWVudHMgcHJvdmlkZWQuIEV4cGVjdGVkIG1heCAke3RvdGFsQ29tbWFuZHN9IGJ1dCByZWNlaXZlZCAke2xlbmd0aH0uYCk7XG4gICAgICAgIH1cbiAgICAgICAgcGFyc2VkLmRlbWFuZGVkLmZvckVhY2goZGVtYW5kZWQgPT4ge1xuICAgICAgICAgICAgY29uc3QgYXJnID0gYXJncy5zaGlmdCgpO1xuICAgICAgICAgICAgY29uc3Qgb2JzZXJ2ZWRUeXBlID0gZ3Vlc3NUeXBlKGFyZyk7XG4gICAgICAgICAgICBjb25zdCBtYXRjaGluZ1R5cGVzID0gZGVtYW5kZWQuY21kLmZpbHRlcih0eXBlID0+IHR5cGUgPT09IG9ic2VydmVkVHlwZSB8fCB0eXBlID09PSAnKicpO1xuICAgICAgICAgICAgaWYgKG1hdGNoaW5nVHlwZXMubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgICAgIGFyZ3VtZW50VHlwZUVycm9yKG9ic2VydmVkVHlwZSwgZGVtYW5kZWQuY21kLCBwb3NpdGlvbik7XG4gICAgICAgICAgICBwb3NpdGlvbiArPSAxO1xuICAgICAgICB9KTtcbiAgICAgICAgcGFyc2VkLm9wdGlvbmFsLmZvckVhY2gob3B0aW9uYWwgPT4ge1xuICAgICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IGFyZyA9IGFyZ3Muc2hpZnQoKTtcbiAgICAgICAgICAgIGNvbnN0IG9ic2VydmVkVHlwZSA9IGd1ZXNzVHlwZShhcmcpO1xuICAgICAgICAgICAgY29uc3QgbWF0Y2hpbmdUeXBlcyA9IG9wdGlvbmFsLmNtZC5maWx0ZXIodHlwZSA9PiB0eXBlID09PSBvYnNlcnZlZFR5cGUgfHwgdHlwZSA9PT0gJyonKTtcbiAgICAgICAgICAgIGlmIChtYXRjaGluZ1R5cGVzLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICBhcmd1bWVudFR5cGVFcnJvcihvYnNlcnZlZFR5cGUsIG9wdGlvbmFsLmNtZCwgcG9zaXRpb24pO1xuICAgICAgICAgICAgcG9zaXRpb24gKz0gMTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS53YXJuKGVyci5zdGFjayk7XG4gICAgfVxufVxuZnVuY3Rpb24gZ3Vlc3NUeXBlKGFyZykge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGFyZykpIHtcbiAgICAgICAgcmV0dXJuICdhcnJheSc7XG4gICAgfVxuICAgIGVsc2UgaWYgKGFyZyA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gJ251bGwnO1xuICAgIH1cbiAgICByZXR1cm4gdHlwZW9mIGFyZztcbn1cbmZ1bmN0aW9uIGFyZ3VtZW50VHlwZUVycm9yKG9ic2VydmVkVHlwZSwgYWxsb3dlZFR5cGVzLCBwb3NpdGlvbikge1xuICAgIHRocm93IG5ldyBZRXJyb3IoYEludmFsaWQgJHtwb3NpdGlvbk5hbWVbcG9zaXRpb25dIHx8ICdtYW55aXRoJ30gYXJndW1lbnQuIEV4cGVjdGVkICR7YWxsb3dlZFR5cGVzLmpvaW4oJyBvciAnKX0gYnV0IHJlY2VpdmVkICR7b2JzZXJ2ZWRUeXBlfS5gKTtcbn1cbiIsICJpbXBvcnQgeyBhcmdzZXJ0IH0gZnJvbSAnLi9hcmdzZXJ0LmpzJztcbmltcG9ydCB7IGlzUHJvbWlzZSB9IGZyb20gJy4vdXRpbHMvaXMtcHJvbWlzZS5qcyc7XG5leHBvcnQgY2xhc3MgR2xvYmFsTWlkZGxld2FyZSB7XG4gICAgY29uc3RydWN0b3IoeWFyZ3MpIHtcbiAgICAgICAgdGhpcy5nbG9iYWxNaWRkbGV3YXJlID0gW107XG4gICAgICAgIHRoaXMuZnJvemVucyA9IFtdO1xuICAgICAgICB0aGlzLnlhcmdzID0geWFyZ3M7XG4gICAgfVxuICAgIGFkZE1pZGRsZXdhcmUoY2FsbGJhY2ssIGFwcGx5QmVmb3JlVmFsaWRhdGlvbiwgZ2xvYmFsID0gdHJ1ZSwgbXV0YXRlcyA9IGZhbHNlKSB7XG4gICAgICAgIGFyZ3NlcnQoJzxhcnJheXxmdW5jdGlvbj4gW2Jvb2xlYW5dIFtib29sZWFuXSBbYm9vbGVhbl0nLCBbY2FsbGJhY2ssIGFwcGx5QmVmb3JlVmFsaWRhdGlvbiwgZ2xvYmFsXSwgYXJndW1lbnRzLmxlbmd0aCk7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGNhbGxiYWNrKSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjYWxsYmFjay5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2tbaV0gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ21pZGRsZXdhcmUgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IG0gPSBjYWxsYmFja1tpXTtcbiAgICAgICAgICAgICAgICBtLmFwcGx5QmVmb3JlVmFsaWRhdGlvbiA9IGFwcGx5QmVmb3JlVmFsaWRhdGlvbjtcbiAgICAgICAgICAgICAgICBtLmdsb2JhbCA9IGdsb2JhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KHRoaXMuZ2xvYmFsTWlkZGxld2FyZSwgY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY29uc3QgbSA9IGNhbGxiYWNrO1xuICAgICAgICAgICAgbS5hcHBseUJlZm9yZVZhbGlkYXRpb24gPSBhcHBseUJlZm9yZVZhbGlkYXRpb247XG4gICAgICAgICAgICBtLmdsb2JhbCA9IGdsb2JhbDtcbiAgICAgICAgICAgIG0ubXV0YXRlcyA9IG11dGF0ZXM7XG4gICAgICAgICAgICB0aGlzLmdsb2JhbE1pZGRsZXdhcmUucHVzaChjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMueWFyZ3M7XG4gICAgfVxuICAgIGFkZENvZXJjZU1pZGRsZXdhcmUoY2FsbGJhY2ssIG9wdGlvbikge1xuICAgICAgICBjb25zdCBhbGlhc2VzID0gdGhpcy55YXJncy5nZXRBbGlhc2VzKCk7XG4gICAgICAgIHRoaXMuZ2xvYmFsTWlkZGxld2FyZSA9IHRoaXMuZ2xvYmFsTWlkZGxld2FyZS5maWx0ZXIobSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0b0NoZWNrID0gWy4uLihhbGlhc2VzW29wdGlvbl0gfHwgW10pLCBvcHRpb25dO1xuICAgICAgICAgICAgaWYgKCFtLm9wdGlvbilcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICByZXR1cm4gIXRvQ2hlY2suaW5jbHVkZXMobS5vcHRpb24pO1xuICAgICAgICB9KTtcbiAgICAgICAgY2FsbGJhY2sub3B0aW9uID0gb3B0aW9uO1xuICAgICAgICByZXR1cm4gdGhpcy5hZGRNaWRkbGV3YXJlKGNhbGxiYWNrLCB0cnVlLCB0cnVlLCB0cnVlKTtcbiAgICB9XG4gICAgZ2V0TWlkZGxld2FyZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2xvYmFsTWlkZGxld2FyZTtcbiAgICB9XG4gICAgZnJlZXplKCkge1xuICAgICAgICB0aGlzLmZyb3plbnMucHVzaChbLi4udGhpcy5nbG9iYWxNaWRkbGV3YXJlXSk7XG4gICAgfVxuICAgIHVuZnJlZXplKCkge1xuICAgICAgICBjb25zdCBmcm96ZW4gPSB0aGlzLmZyb3plbnMucG9wKCk7XG4gICAgICAgIGlmIChmcm96ZW4gIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHRoaXMuZ2xvYmFsTWlkZGxld2FyZSA9IGZyb3plbjtcbiAgICB9XG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMuZ2xvYmFsTWlkZGxld2FyZSA9IHRoaXMuZ2xvYmFsTWlkZGxld2FyZS5maWx0ZXIobSA9PiBtLmdsb2JhbCk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGNvbW1hbmRNaWRkbGV3YXJlRmFjdG9yeShjb21tYW5kTWlkZGxld2FyZSkge1xuICAgIGlmICghY29tbWFuZE1pZGRsZXdhcmUpXG4gICAgICAgIHJldHVybiBbXTtcbiAgICByZXR1cm4gY29tbWFuZE1pZGRsZXdhcmUubWFwKG1pZGRsZXdhcmUgPT4ge1xuICAgICAgICBtaWRkbGV3YXJlLmFwcGx5QmVmb3JlVmFsaWRhdGlvbiA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gbWlkZGxld2FyZTtcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhcHBseU1pZGRsZXdhcmUoYXJndiwgeWFyZ3MsIG1pZGRsZXdhcmVzLCBiZWZvcmVWYWxpZGF0aW9uKSB7XG4gICAgcmV0dXJuIG1pZGRsZXdhcmVzLnJlZHVjZSgoYWNjLCBtaWRkbGV3YXJlKSA9PiB7XG4gICAgICAgIGlmIChtaWRkbGV3YXJlLmFwcGx5QmVmb3JlVmFsaWRhdGlvbiAhPT0gYmVmb3JlVmFsaWRhdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfVxuICAgICAgICBpZiAobWlkZGxld2FyZS5tdXRhdGVzKSB7XG4gICAgICAgICAgICBpZiAobWlkZGxld2FyZS5hcHBsaWVkKVxuICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICBtaWRkbGV3YXJlLmFwcGxpZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1Byb21pc2UoYWNjKSkge1xuICAgICAgICAgICAgcmV0dXJuIGFjY1xuICAgICAgICAgICAgICAgIC50aGVuKGluaXRpYWxPYmogPT4gUHJvbWlzZS5hbGwoW2luaXRpYWxPYmosIG1pZGRsZXdhcmUoaW5pdGlhbE9iaiwgeWFyZ3MpXSkpXG4gICAgICAgICAgICAgICAgLnRoZW4oKFtpbml0aWFsT2JqLCBtaWRkbGV3YXJlT2JqXSkgPT4gT2JqZWN0LmFzc2lnbihpbml0aWFsT2JqLCBtaWRkbGV3YXJlT2JqKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBtaWRkbGV3YXJlKGFjYywgeWFyZ3MpO1xuICAgICAgICAgICAgcmV0dXJuIGlzUHJvbWlzZShyZXN1bHQpXG4gICAgICAgICAgICAgICAgPyByZXN1bHQudGhlbihtaWRkbGV3YXJlT2JqID0+IE9iamVjdC5hc3NpZ24oYWNjLCBtaWRkbGV3YXJlT2JqKSlcbiAgICAgICAgICAgICAgICA6IE9iamVjdC5hc3NpZ24oYWNjLCByZXN1bHQpO1xuICAgICAgICB9XG4gICAgfSwgYXJndik7XG59XG4iLCAiaW1wb3J0IHsgaXNQcm9taXNlIH0gZnJvbSAnLi9pcy1wcm9taXNlLmpzJztcbmV4cG9ydCBmdW5jdGlvbiBtYXliZUFzeW5jUmVzdWx0KGdldFJlc3VsdCwgcmVzdWx0SGFuZGxlciwgZXJyb3JIYW5kbGVyID0gKGVycikgPT4ge1xuICAgIHRocm93IGVycjtcbn0pIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBpc0Z1bmN0aW9uKGdldFJlc3VsdCkgPyBnZXRSZXN1bHQoKSA6IGdldFJlc3VsdDtcbiAgICAgICAgcmV0dXJuIGlzUHJvbWlzZShyZXN1bHQpXG4gICAgICAgICAgICA/IHJlc3VsdC50aGVuKChyZXN1bHQpID0+IHJlc3VsdEhhbmRsZXIocmVzdWx0KSlcbiAgICAgICAgICAgIDogcmVzdWx0SGFuZGxlcihyZXN1bHQpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJldHVybiBlcnJvckhhbmRsZXIoZXJyKTtcbiAgICB9XG59XG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB0eXBlb2YgYXJnID09PSAnZnVuY3Rpb24nO1xufVxuIiwgImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHdoaWNoTW9kdWxlKGV4cG9ydGVkKSB7XG4gICAgaWYgKHR5cGVvZiByZXF1aXJlID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgZm9yIChsZXQgaSA9IDAsIGZpbGVzID0gT2JqZWN0LmtleXMocmVxdWlyZS5jYWNoZSksIG1vZDsgaSA8IGZpbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG1vZCA9IHJlcXVpcmUuY2FjaGVbZmlsZXNbaV1dO1xuICAgICAgICBpZiAobW9kLmV4cG9ydHMgPT09IGV4cG9ydGVkKVxuICAgICAgICAgICAgcmV0dXJuIG1vZDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG4iLCAiaW1wb3J0IHsgYXNzZXJ0Tm90U3RyaWN0RXF1YWwsIH0gZnJvbSAnLi90eXBpbmdzL2NvbW1vbi10eXBlcy5qcyc7XG5pbXBvcnQgeyBpc1Byb21pc2UgfSBmcm9tICcuL3V0aWxzL2lzLXByb21pc2UuanMnO1xuaW1wb3J0IHsgYXBwbHlNaWRkbGV3YXJlLCBjb21tYW5kTWlkZGxld2FyZUZhY3RvcnksIH0gZnJvbSAnLi9taWRkbGV3YXJlLmpzJztcbmltcG9ydCB7IHBhcnNlQ29tbWFuZCB9IGZyb20gJy4vcGFyc2UtY29tbWFuZC5qcyc7XG5pbXBvcnQgeyBpc1lhcmdzSW5zdGFuY2UsIH0gZnJvbSAnLi95YXJncy1mYWN0b3J5LmpzJztcbmltcG9ydCB7IG1heWJlQXN5bmNSZXN1bHQgfSBmcm9tICcuL3V0aWxzL21heWJlLWFzeW5jLXJlc3VsdC5qcyc7XG5pbXBvcnQgd2hpY2hNb2R1bGUgZnJvbSAnLi91dGlscy93aGljaC1tb2R1bGUuanMnO1xuY29uc3QgREVGQVVMVF9NQVJLRVIgPSAvKF5cXCopfCheXFwkMCkvO1xuZXhwb3J0IGNsYXNzIENvbW1hbmRJbnN0YW5jZSB7XG4gICAgY29uc3RydWN0b3IodXNhZ2UsIHZhbGlkYXRpb24sIGdsb2JhbE1pZGRsZXdhcmUsIHNoaW0pIHtcbiAgICAgICAgdGhpcy5yZXF1aXJlQ2FjaGUgPSBuZXcgU2V0KCk7XG4gICAgICAgIHRoaXMuaGFuZGxlcnMgPSB7fTtcbiAgICAgICAgdGhpcy5hbGlhc01hcCA9IHt9O1xuICAgICAgICB0aGlzLmZyb3plbnMgPSBbXTtcbiAgICAgICAgdGhpcy5zaGltID0gc2hpbTtcbiAgICAgICAgdGhpcy51c2FnZSA9IHVzYWdlO1xuICAgICAgICB0aGlzLmdsb2JhbE1pZGRsZXdhcmUgPSBnbG9iYWxNaWRkbGV3YXJlO1xuICAgICAgICB0aGlzLnZhbGlkYXRpb24gPSB2YWxpZGF0aW9uO1xuICAgIH1cbiAgICBhZGREaXJlY3RvcnkoZGlyLCByZXEsIGNhbGxlckZpbGUsIG9wdHMpIHtcbiAgICAgICAgb3B0cyA9IG9wdHMgfHwge307XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0cy5yZWN1cnNlICE9PSAnYm9vbGVhbicpXG4gICAgICAgICAgICBvcHRzLnJlY3Vyc2UgPSBmYWxzZTtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KG9wdHMuZXh0ZW5zaW9ucykpXG4gICAgICAgICAgICBvcHRzLmV4dGVuc2lvbnMgPSBbJ2pzJ107XG4gICAgICAgIGNvbnN0IHBhcmVudFZpc2l0ID0gdHlwZW9mIG9wdHMudmlzaXQgPT09ICdmdW5jdGlvbicgPyBvcHRzLnZpc2l0IDogKG8pID0+IG87XG4gICAgICAgIG9wdHMudmlzaXQgPSAob2JqLCBqb2luZWQsIGZpbGVuYW1lKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB2aXNpdGVkID0gcGFyZW50VmlzaXQob2JqLCBqb2luZWQsIGZpbGVuYW1lKTtcbiAgICAgICAgICAgIGlmICh2aXNpdGVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmVxdWlyZUNhY2hlLmhhcyhqb2luZWQpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmlzaXRlZDtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVxdWlyZUNhY2hlLmFkZChqb2luZWQpO1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkSGFuZGxlcih2aXNpdGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2aXNpdGVkO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNoaW0ucmVxdWlyZURpcmVjdG9yeSh7IHJlcXVpcmU6IHJlcSwgZmlsZW5hbWU6IGNhbGxlckZpbGUgfSwgZGlyLCBvcHRzKTtcbiAgICB9XG4gICAgYWRkSGFuZGxlcihjbWQsIGRlc2NyaXB0aW9uLCBidWlsZGVyLCBoYW5kbGVyLCBjb21tYW5kTWlkZGxld2FyZSwgZGVwcmVjYXRlZCkge1xuICAgICAgICBsZXQgYWxpYXNlcyA9IFtdO1xuICAgICAgICBjb25zdCBtaWRkbGV3YXJlcyA9IGNvbW1hbmRNaWRkbGV3YXJlRmFjdG9yeShjb21tYW5kTWlkZGxld2FyZSk7XG4gICAgICAgIGhhbmRsZXIgPSBoYW5kbGVyIHx8ICgoKSA9PiB7IH0pO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjbWQpKSB7XG4gICAgICAgICAgICBpZiAoaXNDb21tYW5kQW5kQWxpYXNlcyhjbWQpKSB7XG4gICAgICAgICAgICAgICAgW2NtZCwgLi4uYWxpYXNlc10gPSBjbWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGNvbW1hbmQgb2YgY21kKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkSGFuZGxlcihjb21tYW5kKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNDb21tYW5kSGFuZGxlckRlZmluaXRpb24oY21kKSkge1xuICAgICAgICAgICAgbGV0IGNvbW1hbmQgPSBBcnJheS5pc0FycmF5KGNtZC5jb21tYW5kKSB8fCB0eXBlb2YgY21kLmNvbW1hbmQgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgPyBjbWQuY29tbWFuZFxuICAgICAgICAgICAgICAgIDogdGhpcy5tb2R1bGVOYW1lKGNtZCk7XG4gICAgICAgICAgICBpZiAoY21kLmFsaWFzZXMpXG4gICAgICAgICAgICAgICAgY29tbWFuZCA9IFtdLmNvbmNhdChjb21tYW5kKS5jb25jYXQoY21kLmFsaWFzZXMpO1xuICAgICAgICAgICAgdGhpcy5hZGRIYW5kbGVyKGNvbW1hbmQsIHRoaXMuZXh0cmFjdERlc2MoY21kKSwgY21kLmJ1aWxkZXIsIGNtZC5oYW5kbGVyLCBjbWQubWlkZGxld2FyZXMsIGNtZC5kZXByZWNhdGVkKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0NvbW1hbmRCdWlsZGVyRGVmaW5pdGlvbihidWlsZGVyKSkge1xuICAgICAgICAgICAgdGhpcy5hZGRIYW5kbGVyKFtjbWRdLmNvbmNhdChhbGlhc2VzKSwgZGVzY3JpcHRpb24sIGJ1aWxkZXIuYnVpbGRlciwgYnVpbGRlci5oYW5kbGVyLCBidWlsZGVyLm1pZGRsZXdhcmVzLCBidWlsZGVyLmRlcHJlY2F0ZWQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgY21kID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkQ29tbWFuZCA9IHBhcnNlQ29tbWFuZChjbWQpO1xuICAgICAgICAgICAgYWxpYXNlcyA9IGFsaWFzZXMubWFwKGFsaWFzID0+IHBhcnNlQ29tbWFuZChhbGlhcykuY21kKTtcbiAgICAgICAgICAgIGxldCBpc0RlZmF1bHQgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEFsaWFzZXMgPSBbcGFyc2VkQ29tbWFuZC5jbWRdLmNvbmNhdChhbGlhc2VzKS5maWx0ZXIoYyA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKERFRkFVTFRfTUFSS0VSLnRlc3QoYykpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNEZWZhdWx0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHBhcnNlZEFsaWFzZXMubGVuZ3RoID09PSAwICYmIGlzRGVmYXVsdClcbiAgICAgICAgICAgICAgICBwYXJzZWRBbGlhc2VzLnB1c2goJyQwJyk7XG4gICAgICAgICAgICBpZiAoaXNEZWZhdWx0KSB7XG4gICAgICAgICAgICAgICAgcGFyc2VkQ29tbWFuZC5jbWQgPSBwYXJzZWRBbGlhc2VzWzBdO1xuICAgICAgICAgICAgICAgIGFsaWFzZXMgPSBwYXJzZWRBbGlhc2VzLnNsaWNlKDEpO1xuICAgICAgICAgICAgICAgIGNtZCA9IGNtZC5yZXBsYWNlKERFRkFVTFRfTUFSS0VSLCBwYXJzZWRDb21tYW5kLmNtZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhbGlhc2VzLmZvckVhY2goYWxpYXMgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYWxpYXNNYXBbYWxpYXNdID0gcGFyc2VkQ29tbWFuZC5jbWQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChkZXNjcmlwdGlvbiAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVzYWdlLmNvbW1hbmQoY21kLCBkZXNjcmlwdGlvbiwgaXNEZWZhdWx0LCBhbGlhc2VzLCBkZXByZWNhdGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuaGFuZGxlcnNbcGFyc2VkQ29tbWFuZC5jbWRdID0ge1xuICAgICAgICAgICAgICAgIG9yaWdpbmFsOiBjbWQsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgaGFuZGxlcixcbiAgICAgICAgICAgICAgICBidWlsZGVyOiBidWlsZGVyIHx8IHt9LFxuICAgICAgICAgICAgICAgIG1pZGRsZXdhcmVzLFxuICAgICAgICAgICAgICAgIGRlcHJlY2F0ZWQsXG4gICAgICAgICAgICAgICAgZGVtYW5kZWQ6IHBhcnNlZENvbW1hbmQuZGVtYW5kZWQsXG4gICAgICAgICAgICAgICAgb3B0aW9uYWw6IHBhcnNlZENvbW1hbmQub3B0aW9uYWwsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGlzRGVmYXVsdClcbiAgICAgICAgICAgICAgICB0aGlzLmRlZmF1bHRDb21tYW5kID0gdGhpcy5oYW5kbGVyc1twYXJzZWRDb21tYW5kLmNtZF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0Q29tbWFuZEhhbmRsZXJzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVycztcbiAgICB9XG4gICAgZ2V0Q29tbWFuZHMoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLmhhbmRsZXJzKS5jb25jYXQoT2JqZWN0LmtleXModGhpcy5hbGlhc01hcCkpO1xuICAgIH1cbiAgICBoYXNEZWZhdWx0Q29tbWFuZCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5kZWZhdWx0Q29tbWFuZDtcbiAgICB9XG4gICAgcnVuQ29tbWFuZChjb21tYW5kLCB5YXJncywgcGFyc2VkLCBjb21tYW5kSW5kZXgsIGhlbHBPbmx5LCBoZWxwT3JWZXJzaW9uU2V0KSB7XG4gICAgICAgIGNvbnN0IGNvbW1hbmRIYW5kbGVyID0gdGhpcy5oYW5kbGVyc1tjb21tYW5kXSB8fFxuICAgICAgICAgICAgdGhpcy5oYW5kbGVyc1t0aGlzLmFsaWFzTWFwW2NvbW1hbmRdXSB8fFxuICAgICAgICAgICAgdGhpcy5kZWZhdWx0Q29tbWFuZDtcbiAgICAgICAgY29uc3QgY3VycmVudENvbnRleHQgPSB5YXJncy5nZXRJbnRlcm5hbE1ldGhvZHMoKS5nZXRDb250ZXh0KCk7XG4gICAgICAgIGNvbnN0IHBhcmVudENvbW1hbmRzID0gY3VycmVudENvbnRleHQuY29tbWFuZHMuc2xpY2UoKTtcbiAgICAgICAgY29uc3QgaXNEZWZhdWx0Q29tbWFuZCA9ICFjb21tYW5kO1xuICAgICAgICBpZiAoY29tbWFuZCkge1xuICAgICAgICAgICAgY3VycmVudENvbnRleHQuY29tbWFuZHMucHVzaChjb21tYW5kKTtcbiAgICAgICAgICAgIGN1cnJlbnRDb250ZXh0LmZ1bGxDb21tYW5kcy5wdXNoKGNvbW1hbmRIYW5kbGVyLm9yaWdpbmFsKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBidWlsZGVyUmVzdWx0ID0gdGhpcy5hcHBseUJ1aWxkZXJVcGRhdGVVc2FnZUFuZFBhcnNlKGlzRGVmYXVsdENvbW1hbmQsIGNvbW1hbmRIYW5kbGVyLCB5YXJncywgcGFyc2VkLmFsaWFzZXMsIHBhcmVudENvbW1hbmRzLCBjb21tYW5kSW5kZXgsIGhlbHBPbmx5LCBoZWxwT3JWZXJzaW9uU2V0KTtcbiAgICAgICAgcmV0dXJuIGlzUHJvbWlzZShidWlsZGVyUmVzdWx0KVxuICAgICAgICAgICAgPyBidWlsZGVyUmVzdWx0LnRoZW4ocmVzdWx0ID0+IHRoaXMuYXBwbHlNaWRkbGV3YXJlQW5kR2V0UmVzdWx0KGlzRGVmYXVsdENvbW1hbmQsIGNvbW1hbmRIYW5kbGVyLCByZXN1bHQuaW5uZXJBcmd2LCBjdXJyZW50Q29udGV4dCwgaGVscE9ubHksIHJlc3VsdC5hbGlhc2VzLCB5YXJncykpXG4gICAgICAgICAgICA6IHRoaXMuYXBwbHlNaWRkbGV3YXJlQW5kR2V0UmVzdWx0KGlzRGVmYXVsdENvbW1hbmQsIGNvbW1hbmRIYW5kbGVyLCBidWlsZGVyUmVzdWx0LmlubmVyQXJndiwgY3VycmVudENvbnRleHQsIGhlbHBPbmx5LCBidWlsZGVyUmVzdWx0LmFsaWFzZXMsIHlhcmdzKTtcbiAgICB9XG4gICAgYXBwbHlCdWlsZGVyVXBkYXRlVXNhZ2VBbmRQYXJzZShpc0RlZmF1bHRDb21tYW5kLCBjb21tYW5kSGFuZGxlciwgeWFyZ3MsIGFsaWFzZXMsIHBhcmVudENvbW1hbmRzLCBjb21tYW5kSW5kZXgsIGhlbHBPbmx5LCBoZWxwT3JWZXJzaW9uU2V0KSB7XG4gICAgICAgIGNvbnN0IGJ1aWxkZXIgPSBjb21tYW5kSGFuZGxlci5idWlsZGVyO1xuICAgICAgICBsZXQgaW5uZXJZYXJncyA9IHlhcmdzO1xuICAgICAgICBpZiAoaXNDb21tYW5kQnVpbGRlckNhbGxiYWNrKGJ1aWxkZXIpKSB7XG4gICAgICAgICAgICB5YXJncy5nZXRJbnRlcm5hbE1ldGhvZHMoKS5nZXRVc2FnZUluc3RhbmNlKCkuZnJlZXplKCk7XG4gICAgICAgICAgICBjb25zdCBidWlsZGVyT3V0cHV0ID0gYnVpbGRlcih5YXJncy5nZXRJbnRlcm5hbE1ldGhvZHMoKS5yZXNldChhbGlhc2VzKSwgaGVscE9yVmVyc2lvblNldCk7XG4gICAgICAgICAgICBpZiAoaXNQcm9taXNlKGJ1aWxkZXJPdXRwdXQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJ1aWxkZXJPdXRwdXQudGhlbihvdXRwdXQgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpbm5lcllhcmdzID0gaXNZYXJnc0luc3RhbmNlKG91dHB1dCkgPyBvdXRwdXQgOiB5YXJncztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VBbmRVcGRhdGVVc2FnZShpc0RlZmF1bHRDb21tYW5kLCBjb21tYW5kSGFuZGxlciwgaW5uZXJZYXJncywgcGFyZW50Q29tbWFuZHMsIGNvbW1hbmRJbmRleCwgaGVscE9ubHkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzQ29tbWFuZEJ1aWxkZXJPcHRpb25EZWZpbml0aW9ucyhidWlsZGVyKSkge1xuICAgICAgICAgICAgeWFyZ3MuZ2V0SW50ZXJuYWxNZXRob2RzKCkuZ2V0VXNhZ2VJbnN0YW5jZSgpLmZyZWV6ZSgpO1xuICAgICAgICAgICAgaW5uZXJZYXJncyA9IHlhcmdzLmdldEludGVybmFsTWV0aG9kcygpLnJlc2V0KGFsaWFzZXMpO1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoY29tbWFuZEhhbmRsZXIuYnVpbGRlcikuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgICAgIGlubmVyWWFyZ3Mub3B0aW9uKGtleSwgYnVpbGRlcltrZXldKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnBhcnNlQW5kVXBkYXRlVXNhZ2UoaXNEZWZhdWx0Q29tbWFuZCwgY29tbWFuZEhhbmRsZXIsIGlubmVyWWFyZ3MsIHBhcmVudENvbW1hbmRzLCBjb21tYW5kSW5kZXgsIGhlbHBPbmx5KTtcbiAgICB9XG4gICAgcGFyc2VBbmRVcGRhdGVVc2FnZShpc0RlZmF1bHRDb21tYW5kLCBjb21tYW5kSGFuZGxlciwgaW5uZXJZYXJncywgcGFyZW50Q29tbWFuZHMsIGNvbW1hbmRJbmRleCwgaGVscE9ubHkpIHtcbiAgICAgICAgaWYgKGlzRGVmYXVsdENvbW1hbmQpXG4gICAgICAgICAgICBpbm5lcllhcmdzLmdldEludGVybmFsTWV0aG9kcygpLmdldFVzYWdlSW5zdGFuY2UoKS51bmZyZWV6ZSh0cnVlKTtcbiAgICAgICAgaWYgKHRoaXMuc2hvdWxkVXBkYXRlVXNhZ2UoaW5uZXJZYXJncykpIHtcbiAgICAgICAgICAgIGlubmVyWWFyZ3NcbiAgICAgICAgICAgICAgICAuZ2V0SW50ZXJuYWxNZXRob2RzKClcbiAgICAgICAgICAgICAgICAuZ2V0VXNhZ2VJbnN0YW5jZSgpXG4gICAgICAgICAgICAgICAgLnVzYWdlKHRoaXMudXNhZ2VGcm9tUGFyZW50Q29tbWFuZHNDb21tYW5kSGFuZGxlcihwYXJlbnRDb21tYW5kcywgY29tbWFuZEhhbmRsZXIpLCBjb21tYW5kSGFuZGxlci5kZXNjcmlwdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW5uZXJBcmd2ID0gaW5uZXJZYXJnc1xuICAgICAgICAgICAgLmdldEludGVybmFsTWV0aG9kcygpXG4gICAgICAgICAgICAucnVuWWFyZ3NQYXJzZXJBbmRFeGVjdXRlQ29tbWFuZHMobnVsbCwgdW5kZWZpbmVkLCB0cnVlLCBjb21tYW5kSW5kZXgsIGhlbHBPbmx5KTtcbiAgICAgICAgcmV0dXJuIGlzUHJvbWlzZShpbm5lckFyZ3YpXG4gICAgICAgICAgICA/IGlubmVyQXJndi50aGVuKGFyZ3YgPT4gKHtcbiAgICAgICAgICAgICAgICBhbGlhc2VzOiBpbm5lcllhcmdzLnBhcnNlZC5hbGlhc2VzLFxuICAgICAgICAgICAgICAgIGlubmVyQXJndjogYXJndixcbiAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgYWxpYXNlczogaW5uZXJZYXJncy5wYXJzZWQuYWxpYXNlcyxcbiAgICAgICAgICAgICAgICBpbm5lckFyZ3Y6IGlubmVyQXJndixcbiAgICAgICAgICAgIH07XG4gICAgfVxuICAgIHNob3VsZFVwZGF0ZVVzYWdlKHlhcmdzKSB7XG4gICAgICAgIHJldHVybiAoIXlhcmdzLmdldEludGVybmFsTWV0aG9kcygpLmdldFVzYWdlSW5zdGFuY2UoKS5nZXRVc2FnZURpc2FibGVkKCkgJiZcbiAgICAgICAgICAgIHlhcmdzLmdldEludGVybmFsTWV0aG9kcygpLmdldFVzYWdlSW5zdGFuY2UoKS5nZXRVc2FnZSgpLmxlbmd0aCA9PT0gMCk7XG4gICAgfVxuICAgIHVzYWdlRnJvbVBhcmVudENvbW1hbmRzQ29tbWFuZEhhbmRsZXIocGFyZW50Q29tbWFuZHMsIGNvbW1hbmRIYW5kbGVyKSB7XG4gICAgICAgIGNvbnN0IGMgPSBERUZBVUxUX01BUktFUi50ZXN0KGNvbW1hbmRIYW5kbGVyLm9yaWdpbmFsKVxuICAgICAgICAgICAgPyBjb21tYW5kSGFuZGxlci5vcmlnaW5hbC5yZXBsYWNlKERFRkFVTFRfTUFSS0VSLCAnJykudHJpbSgpXG4gICAgICAgICAgICA6IGNvbW1hbmRIYW5kbGVyLm9yaWdpbmFsO1xuICAgICAgICBjb25zdCBwYyA9IHBhcmVudENvbW1hbmRzLmZpbHRlcihjID0+IHtcbiAgICAgICAgICAgIHJldHVybiAhREVGQVVMVF9NQVJLRVIudGVzdChjKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHBjLnB1c2goYyk7XG4gICAgICAgIHJldHVybiBgJDAgJHtwYy5qb2luKCcgJyl9YDtcbiAgICB9XG4gICAgaGFuZGxlVmFsaWRhdGlvbkFuZEdldFJlc3VsdChpc0RlZmF1bHRDb21tYW5kLCBjb21tYW5kSGFuZGxlciwgaW5uZXJBcmd2LCBjdXJyZW50Q29udGV4dCwgYWxpYXNlcywgeWFyZ3MsIG1pZGRsZXdhcmVzLCBwb3NpdGlvbmFsTWFwKSB7XG4gICAgICAgIGlmICgheWFyZ3MuZ2V0SW50ZXJuYWxNZXRob2RzKCkuZ2V0SGFzT3V0cHV0KCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbGlkYXRpb24gPSB5YXJnc1xuICAgICAgICAgICAgICAgIC5nZXRJbnRlcm5hbE1ldGhvZHMoKVxuICAgICAgICAgICAgICAgIC5ydW5WYWxpZGF0aW9uKGFsaWFzZXMsIHBvc2l0aW9uYWxNYXAsIHlhcmdzLnBhcnNlZC5lcnJvciwgaXNEZWZhdWx0Q29tbWFuZCk7XG4gICAgICAgICAgICBpbm5lckFyZ3YgPSBtYXliZUFzeW5jUmVzdWx0KGlubmVyQXJndiwgcmVzdWx0ID0+IHtcbiAgICAgICAgICAgICAgICB2YWxpZGF0aW9uKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb21tYW5kSGFuZGxlci5oYW5kbGVyICYmICF5YXJncy5nZXRJbnRlcm5hbE1ldGhvZHMoKS5nZXRIYXNPdXRwdXQoKSkge1xuICAgICAgICAgICAgeWFyZ3MuZ2V0SW50ZXJuYWxNZXRob2RzKCkuc2V0SGFzT3V0cHV0KCk7XG4gICAgICAgICAgICBjb25zdCBwb3B1bGF0ZURvdWJsZURhc2ggPSAhIXlhcmdzLmdldE9wdGlvbnMoKS5jb25maWd1cmF0aW9uWydwb3B1bGF0ZS0tJ107XG4gICAgICAgICAgICB5YXJnc1xuICAgICAgICAgICAgICAgIC5nZXRJbnRlcm5hbE1ldGhvZHMoKVxuICAgICAgICAgICAgICAgIC5wb3N0UHJvY2Vzcyhpbm5lckFyZ3YsIHBvcHVsYXRlRG91YmxlRGFzaCwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgICAgIGlubmVyQXJndiA9IGFwcGx5TWlkZGxld2FyZShpbm5lckFyZ3YsIHlhcmdzLCBtaWRkbGV3YXJlcywgZmFsc2UpO1xuICAgICAgICAgICAgaW5uZXJBcmd2ID0gbWF5YmVBc3luY1Jlc3VsdChpbm5lckFyZ3YsIHJlc3VsdCA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaGFuZGxlclJlc3VsdCA9IGNvbW1hbmRIYW5kbGVyLmhhbmRsZXIocmVzdWx0KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXNQcm9taXNlKGhhbmRsZXJSZXN1bHQpXG4gICAgICAgICAgICAgICAgICAgID8gaGFuZGxlclJlc3VsdC50aGVuKCgpID0+IHJlc3VsdClcbiAgICAgICAgICAgICAgICAgICAgOiByZXN1bHQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghaXNEZWZhdWx0Q29tbWFuZCkge1xuICAgICAgICAgICAgICAgIHlhcmdzLmdldEludGVybmFsTWV0aG9kcygpLmdldFVzYWdlSW5zdGFuY2UoKS5jYWNoZUhlbHBNZXNzYWdlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNQcm9taXNlKGlubmVyQXJndikgJiZcbiAgICAgICAgICAgICAgICAheWFyZ3MuZ2V0SW50ZXJuYWxNZXRob2RzKCkuaGFzUGFyc2VDYWxsYmFjaygpKSB7XG4gICAgICAgICAgICAgICAgaW5uZXJBcmd2LmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHlhcmdzLmdldEludGVybmFsTWV0aG9kcygpLmdldFVzYWdlSW5zdGFuY2UoKS5mYWlsKG51bGwsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoX2Vycikge1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0RlZmF1bHRDb21tYW5kKSB7XG4gICAgICAgICAgICBjdXJyZW50Q29udGV4dC5jb21tYW5kcy5wb3AoKTtcbiAgICAgICAgICAgIGN1cnJlbnRDb250ZXh0LmZ1bGxDb21tYW5kcy5wb3AoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5uZXJBcmd2O1xuICAgIH1cbiAgICBhcHBseU1pZGRsZXdhcmVBbmRHZXRSZXN1bHQoaXNEZWZhdWx0Q29tbWFuZCwgY29tbWFuZEhhbmRsZXIsIGlubmVyQXJndiwgY3VycmVudENvbnRleHQsIGhlbHBPbmx5LCBhbGlhc2VzLCB5YXJncykge1xuICAgICAgICBsZXQgcG9zaXRpb25hbE1hcCA9IHt9O1xuICAgICAgICBpZiAoaGVscE9ubHkpXG4gICAgICAgICAgICByZXR1cm4gaW5uZXJBcmd2O1xuICAgICAgICBpZiAoIXlhcmdzLmdldEludGVybmFsTWV0aG9kcygpLmdldEhhc091dHB1dCgpKSB7XG4gICAgICAgICAgICBwb3NpdGlvbmFsTWFwID0gdGhpcy5wb3B1bGF0ZVBvc2l0aW9uYWxzKGNvbW1hbmRIYW5kbGVyLCBpbm5lckFyZ3YsIGN1cnJlbnRDb250ZXh0LCB5YXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWlkZGxld2FyZXMgPSB0aGlzLmdsb2JhbE1pZGRsZXdhcmVcbiAgICAgICAgICAgIC5nZXRNaWRkbGV3YXJlKClcbiAgICAgICAgICAgIC5zbGljZSgwKVxuICAgICAgICAgICAgLmNvbmNhdChjb21tYW5kSGFuZGxlci5taWRkbGV3YXJlcyk7XG4gICAgICAgIGNvbnN0IG1heWJlUHJvbWlzZUFyZ3YgPSBhcHBseU1pZGRsZXdhcmUoaW5uZXJBcmd2LCB5YXJncywgbWlkZGxld2FyZXMsIHRydWUpO1xuICAgICAgICByZXR1cm4gaXNQcm9taXNlKG1heWJlUHJvbWlzZUFyZ3YpXG4gICAgICAgICAgICA/IG1heWJlUHJvbWlzZUFyZ3YudGhlbihyZXNvbHZlZElubmVyQXJndiA9PiB0aGlzLmhhbmRsZVZhbGlkYXRpb25BbmRHZXRSZXN1bHQoaXNEZWZhdWx0Q29tbWFuZCwgY29tbWFuZEhhbmRsZXIsIHJlc29sdmVkSW5uZXJBcmd2LCBjdXJyZW50Q29udGV4dCwgYWxpYXNlcywgeWFyZ3MsIG1pZGRsZXdhcmVzLCBwb3NpdGlvbmFsTWFwKSlcbiAgICAgICAgICAgIDogdGhpcy5oYW5kbGVWYWxpZGF0aW9uQW5kR2V0UmVzdWx0KGlzRGVmYXVsdENvbW1hbmQsIGNvbW1hbmRIYW5kbGVyLCBtYXliZVByb21pc2VBcmd2LCBjdXJyZW50Q29udGV4dCwgYWxpYXNlcywgeWFyZ3MsIG1pZGRsZXdhcmVzLCBwb3NpdGlvbmFsTWFwKTtcbiAgICB9XG4gICAgcG9wdWxhdGVQb3NpdGlvbmFscyhjb21tYW5kSGFuZGxlciwgYXJndiwgY29udGV4dCwgeWFyZ3MpIHtcbiAgICAgICAgYXJndi5fID0gYXJndi5fLnNsaWNlKGNvbnRleHQuY29tbWFuZHMubGVuZ3RoKTtcbiAgICAgICAgY29uc3QgZGVtYW5kZWQgPSBjb21tYW5kSGFuZGxlci5kZW1hbmRlZC5zbGljZSgwKTtcbiAgICAgICAgY29uc3Qgb3B0aW9uYWwgPSBjb21tYW5kSGFuZGxlci5vcHRpb25hbC5zbGljZSgwKTtcbiAgICAgICAgY29uc3QgcG9zaXRpb25hbE1hcCA9IHt9O1xuICAgICAgICB0aGlzLnZhbGlkYXRpb24ucG9zaXRpb25hbENvdW50KGRlbWFuZGVkLmxlbmd0aCwgYXJndi5fLmxlbmd0aCk7XG4gICAgICAgIHdoaWxlIChkZW1hbmRlZC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlbWFuZCA9IGRlbWFuZGVkLnNoaWZ0KCk7XG4gICAgICAgICAgICB0aGlzLnBvcHVsYXRlUG9zaXRpb25hbChkZW1hbmQsIGFyZ3YsIHBvc2l0aW9uYWxNYXApO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChvcHRpb25hbC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IG1heWJlID0gb3B0aW9uYWwuc2hpZnQoKTtcbiAgICAgICAgICAgIHRoaXMucG9wdWxhdGVQb3NpdGlvbmFsKG1heWJlLCBhcmd2LCBwb3NpdGlvbmFsTWFwKTtcbiAgICAgICAgfVxuICAgICAgICBhcmd2Ll8gPSBjb250ZXh0LmNvbW1hbmRzLmNvbmNhdChhcmd2Ll8ubWFwKGEgPT4gJycgKyBhKSk7XG4gICAgICAgIHRoaXMucG9zdFByb2Nlc3NQb3NpdGlvbmFscyhhcmd2LCBwb3NpdGlvbmFsTWFwLCB0aGlzLmNtZFRvUGFyc2VPcHRpb25zKGNvbW1hbmRIYW5kbGVyLm9yaWdpbmFsKSwgeWFyZ3MpO1xuICAgICAgICByZXR1cm4gcG9zaXRpb25hbE1hcDtcbiAgICB9XG4gICAgcG9wdWxhdGVQb3NpdGlvbmFsKHBvc2l0aW9uYWwsIGFyZ3YsIHBvc2l0aW9uYWxNYXApIHtcbiAgICAgICAgY29uc3QgY21kID0gcG9zaXRpb25hbC5jbWRbMF07XG4gICAgICAgIGlmIChwb3NpdGlvbmFsLnZhcmlhZGljKSB7XG4gICAgICAgICAgICBwb3NpdGlvbmFsTWFwW2NtZF0gPSBhcmd2Ll8uc3BsaWNlKDApLm1hcChTdHJpbmcpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGFyZ3YuXy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgcG9zaXRpb25hbE1hcFtjbWRdID0gW1N0cmluZyhhcmd2Ll8uc2hpZnQoKSldO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNtZFRvUGFyc2VPcHRpb25zKGNtZFN0cmluZykge1xuICAgICAgICBjb25zdCBwYXJzZU9wdGlvbnMgPSB7XG4gICAgICAgICAgICBhcnJheTogW10sXG4gICAgICAgICAgICBkZWZhdWx0OiB7fSxcbiAgICAgICAgICAgIGFsaWFzOiB7fSxcbiAgICAgICAgICAgIGRlbWFuZDoge30sXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHBhcnNlZCA9IHBhcnNlQ29tbWFuZChjbWRTdHJpbmcpO1xuICAgICAgICBwYXJzZWQuZGVtYW5kZWQuZm9yRWFjaChkID0+IHtcbiAgICAgICAgICAgIGNvbnN0IFtjbWQsIC4uLmFsaWFzZXNdID0gZC5jbWQ7XG4gICAgICAgICAgICBpZiAoZC52YXJpYWRpYykge1xuICAgICAgICAgICAgICAgIHBhcnNlT3B0aW9ucy5hcnJheS5wdXNoKGNtZCk7XG4gICAgICAgICAgICAgICAgcGFyc2VPcHRpb25zLmRlZmF1bHRbY21kXSA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyc2VPcHRpb25zLmFsaWFzW2NtZF0gPSBhbGlhc2VzO1xuICAgICAgICAgICAgcGFyc2VPcHRpb25zLmRlbWFuZFtjbWRdID0gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHBhcnNlZC5vcHRpb25hbC5mb3JFYWNoKG8gPT4ge1xuICAgICAgICAgICAgY29uc3QgW2NtZCwgLi4uYWxpYXNlc10gPSBvLmNtZDtcbiAgICAgICAgICAgIGlmIChvLnZhcmlhZGljKSB7XG4gICAgICAgICAgICAgICAgcGFyc2VPcHRpb25zLmFycmF5LnB1c2goY21kKTtcbiAgICAgICAgICAgICAgICBwYXJzZU9wdGlvbnMuZGVmYXVsdFtjbWRdID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJzZU9wdGlvbnMuYWxpYXNbY21kXSA9IGFsaWFzZXM7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcGFyc2VPcHRpb25zO1xuICAgIH1cbiAgICBwb3N0UHJvY2Vzc1Bvc2l0aW9uYWxzKGFyZ3YsIHBvc2l0aW9uYWxNYXAsIHBhcnNlT3B0aW9ucywgeWFyZ3MpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIHlhcmdzLmdldE9wdGlvbnMoKSk7XG4gICAgICAgIG9wdGlvbnMuZGVmYXVsdCA9IE9iamVjdC5hc3NpZ24ocGFyc2VPcHRpb25zLmRlZmF1bHQsIG9wdGlvbnMuZGVmYXVsdCk7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHBhcnNlT3B0aW9ucy5hbGlhcykpIHtcbiAgICAgICAgICAgIG9wdGlvbnMuYWxpYXNba2V5XSA9IChvcHRpb25zLmFsaWFzW2tleV0gfHwgW10pLmNvbmNhdChwYXJzZU9wdGlvbnMuYWxpYXNba2V5XSk7XG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9ucy5hcnJheSA9IG9wdGlvbnMuYXJyYXkuY29uY2F0KHBhcnNlT3B0aW9ucy5hcnJheSk7XG4gICAgICAgIG9wdGlvbnMuY29uZmlnID0ge307XG4gICAgICAgIGNvbnN0IHVucGFyc2VkID0gW107XG4gICAgICAgIE9iamVjdC5rZXlzKHBvc2l0aW9uYWxNYXApLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICAgIHBvc2l0aW9uYWxNYXBba2V5XS5tYXAodmFsdWUgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmNvbmZpZ3VyYXRpb25bJ3Vua25vd24tb3B0aW9ucy1hcy1hcmdzJ10pXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMua2V5W2tleV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHVucGFyc2VkLnB1c2goYC0tJHtrZXl9YCk7XG4gICAgICAgICAgICAgICAgdW5wYXJzZWQucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghdW5wYXJzZWQubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb25maWcgPSBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zLmNvbmZpZ3VyYXRpb24sIHtcbiAgICAgICAgICAgICdwb3B1bGF0ZS0tJzogZmFsc2UsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBwYXJzZWQgPSB0aGlzLnNoaW0uUGFyc2VyLmRldGFpbGVkKHVucGFyc2VkLCBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zLCB7XG4gICAgICAgICAgICBjb25maWd1cmF0aW9uOiBjb25maWcsXG4gICAgICAgIH0pKTtcbiAgICAgICAgaWYgKHBhcnNlZC5lcnJvcikge1xuICAgICAgICAgICAgeWFyZ3NcbiAgICAgICAgICAgICAgICAuZ2V0SW50ZXJuYWxNZXRob2RzKClcbiAgICAgICAgICAgICAgICAuZ2V0VXNhZ2VJbnN0YW5jZSgpXG4gICAgICAgICAgICAgICAgLmZhaWwocGFyc2VkLmVycm9yLm1lc3NhZ2UsIHBhcnNlZC5lcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBwb3NpdGlvbmFsS2V5cyA9IE9iamVjdC5rZXlzKHBvc2l0aW9uYWxNYXApO1xuICAgICAgICAgICAgT2JqZWN0LmtleXMocG9zaXRpb25hbE1hcCkuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uYWxLZXlzLnB1c2goLi4ucGFyc2VkLmFsaWFzZXNba2V5XSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHBhcnNlZC5hcmd2KS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uYWxLZXlzLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwb3NpdGlvbmFsTWFwW2tleV0pXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbmFsTWFwW2tleV0gPSBwYXJzZWQuYXJndltrZXldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNJbkNvbmZpZ3MoeWFyZ3MsIGtleSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICF0aGlzLmlzRGVmYXVsdGVkKHlhcmdzLCBrZXkpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYXJndiwga2V5KSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcnNlZC5hcmd2LCBrZXkpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAoQXJyYXkuaXNBcnJheShhcmd2W2tleV0pIHx8IEFycmF5LmlzQXJyYXkocGFyc2VkLmFyZ3Zba2V5XSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmd2W2tleV0gPSBbXS5jb25jYXQoYXJndltrZXldLCBwYXJzZWQuYXJndltrZXldKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3Zba2V5XSA9IHBhcnNlZC5hcmd2W2tleV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpc0RlZmF1bHRlZCh5YXJncywga2V5KSB7XG4gICAgICAgIGNvbnN0IHsgZGVmYXVsdDogZGVmYXVsdHMgfSA9IHlhcmdzLmdldE9wdGlvbnMoKTtcbiAgICAgICAgcmV0dXJuIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZGVmYXVsdHMsIGtleSkgfHxcbiAgICAgICAgICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkZWZhdWx0cywgdGhpcy5zaGltLlBhcnNlci5jYW1lbENhc2Uoa2V5KSkpO1xuICAgIH1cbiAgICBpc0luQ29uZmlncyh5YXJncywga2V5KSB7XG4gICAgICAgIGNvbnN0IHsgY29uZmlnT2JqZWN0cyB9ID0geWFyZ3MuZ2V0T3B0aW9ucygpO1xuICAgICAgICByZXR1cm4gKGNvbmZpZ09iamVjdHMuc29tZShjID0+IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChjLCBrZXkpKSB8fFxuICAgICAgICAgICAgY29uZmlnT2JqZWN0cy5zb21lKGMgPT4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGMsIHRoaXMuc2hpbS5QYXJzZXIuY2FtZWxDYXNlKGtleSkpKSk7XG4gICAgfVxuICAgIHJ1bkRlZmF1bHRCdWlsZGVyT24oeWFyZ3MpIHtcbiAgICAgICAgaWYgKCF0aGlzLmRlZmF1bHRDb21tYW5kKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAodGhpcy5zaG91bGRVcGRhdGVVc2FnZSh5YXJncykpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbW1hbmRTdHJpbmcgPSBERUZBVUxUX01BUktFUi50ZXN0KHRoaXMuZGVmYXVsdENvbW1hbmQub3JpZ2luYWwpXG4gICAgICAgICAgICAgICAgPyB0aGlzLmRlZmF1bHRDb21tYW5kLm9yaWdpbmFsXG4gICAgICAgICAgICAgICAgOiB0aGlzLmRlZmF1bHRDb21tYW5kLm9yaWdpbmFsLnJlcGxhY2UoL15bXltcXF08Pl0qLywgJyQwICcpO1xuICAgICAgICAgICAgeWFyZ3NcbiAgICAgICAgICAgICAgICAuZ2V0SW50ZXJuYWxNZXRob2RzKClcbiAgICAgICAgICAgICAgICAuZ2V0VXNhZ2VJbnN0YW5jZSgpXG4gICAgICAgICAgICAgICAgLnVzYWdlKGNvbW1hbmRTdHJpbmcsIHRoaXMuZGVmYXVsdENvbW1hbmQuZGVzY3JpcHRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJ1aWxkZXIgPSB0aGlzLmRlZmF1bHRDb21tYW5kLmJ1aWxkZXI7XG4gICAgICAgIGlmIChpc0NvbW1hbmRCdWlsZGVyQ2FsbGJhY2soYnVpbGRlcikpIHtcbiAgICAgICAgICAgIHJldHVybiBidWlsZGVyKHlhcmdzLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghaXNDb21tYW5kQnVpbGRlckRlZmluaXRpb24oYnVpbGRlcikpIHtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKGJ1aWxkZXIpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICAgICAgICB5YXJncy5vcHRpb24oa2V5LCBidWlsZGVyW2tleV0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgbW9kdWxlTmFtZShvYmopIHtcbiAgICAgICAgY29uc3QgbW9kID0gd2hpY2hNb2R1bGUob2JqKTtcbiAgICAgICAgaWYgKCFtb2QpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIGNvbW1hbmQgbmFtZSBnaXZlbiBmb3IgbW9kdWxlOiAke3RoaXMuc2hpbS5pbnNwZWN0KG9iail9YCk7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbW1hbmRGcm9tRmlsZW5hbWUobW9kLmZpbGVuYW1lKTtcbiAgICB9XG4gICAgY29tbWFuZEZyb21GaWxlbmFtZShmaWxlbmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zaGltLnBhdGguYmFzZW5hbWUoZmlsZW5hbWUsIHRoaXMuc2hpbS5wYXRoLmV4dG5hbWUoZmlsZW5hbWUpKTtcbiAgICB9XG4gICAgZXh0cmFjdERlc2MoeyBkZXNjcmliZSwgZGVzY3JpcHRpb24sIGRlc2MgfSkge1xuICAgICAgICBmb3IgKGNvbnN0IHRlc3Qgb2YgW2Rlc2NyaWJlLCBkZXNjcmlwdGlvbiwgZGVzY10pIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGVzdCA9PT0gJ3N0cmluZycgfHwgdGVzdCA9PT0gZmFsc2UpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRlc3Q7XG4gICAgICAgICAgICBhc3NlcnROb3RTdHJpY3RFcXVhbCh0ZXN0LCB0cnVlLCB0aGlzLnNoaW0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZnJlZXplKCkge1xuICAgICAgICB0aGlzLmZyb3plbnMucHVzaCh7XG4gICAgICAgICAgICBoYW5kbGVyczogdGhpcy5oYW5kbGVycyxcbiAgICAgICAgICAgIGFsaWFzTWFwOiB0aGlzLmFsaWFzTWFwLFxuICAgICAgICAgICAgZGVmYXVsdENvbW1hbmQ6IHRoaXMuZGVmYXVsdENvbW1hbmQsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB1bmZyZWV6ZSgpIHtcbiAgICAgICAgY29uc3QgZnJvemVuID0gdGhpcy5mcm96ZW5zLnBvcCgpO1xuICAgICAgICBhc3NlcnROb3RTdHJpY3RFcXVhbChmcm96ZW4sIHVuZGVmaW5lZCwgdGhpcy5zaGltKTtcbiAgICAgICAgKHtcbiAgICAgICAgICAgIGhhbmRsZXJzOiB0aGlzLmhhbmRsZXJzLFxuICAgICAgICAgICAgYWxpYXNNYXA6IHRoaXMuYWxpYXNNYXAsXG4gICAgICAgICAgICBkZWZhdWx0Q29tbWFuZDogdGhpcy5kZWZhdWx0Q29tbWFuZCxcbiAgICAgICAgfSA9IGZyb3plbik7XG4gICAgfVxuICAgIHJlc2V0KCkge1xuICAgICAgICB0aGlzLmhhbmRsZXJzID0ge307XG4gICAgICAgIHRoaXMuYWxpYXNNYXAgPSB7fTtcbiAgICAgICAgdGhpcy5kZWZhdWx0Q29tbWFuZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5yZXF1aXJlQ2FjaGUgPSBuZXcgU2V0KCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBjb21tYW5kKHVzYWdlLCB2YWxpZGF0aW9uLCBnbG9iYWxNaWRkbGV3YXJlLCBzaGltKSB7XG4gICAgcmV0dXJuIG5ldyBDb21tYW5kSW5zdGFuY2UodXNhZ2UsIHZhbGlkYXRpb24sIGdsb2JhbE1pZGRsZXdhcmUsIHNoaW0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQ29tbWFuZEJ1aWxkZXJEZWZpbml0aW9uKGJ1aWxkZXIpIHtcbiAgICByZXR1cm4gKHR5cGVvZiBidWlsZGVyID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAhIWJ1aWxkZXIuYnVpbGRlciAmJlxuICAgICAgICB0eXBlb2YgYnVpbGRlci5oYW5kbGVyID09PSAnZnVuY3Rpb24nKTtcbn1cbmZ1bmN0aW9uIGlzQ29tbWFuZEFuZEFsaWFzZXMoY21kKSB7XG4gICAgcmV0dXJuIGNtZC5ldmVyeShjID0+IHR5cGVvZiBjID09PSAnc3RyaW5nJyk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNDb21tYW5kQnVpbGRlckNhbGxiYWNrKGJ1aWxkZXIpIHtcbiAgICByZXR1cm4gdHlwZW9mIGJ1aWxkZXIgPT09ICdmdW5jdGlvbic7XG59XG5mdW5jdGlvbiBpc0NvbW1hbmRCdWlsZGVyT3B0aW9uRGVmaW5pdGlvbnMoYnVpbGRlcikge1xuICAgIHJldHVybiB0eXBlb2YgYnVpbGRlciA9PT0gJ29iamVjdCc7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNDb21tYW5kSGFuZGxlckRlZmluaXRpb24oY21kKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBjbWQgPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KGNtZCk7XG59XG4iLCAiaW1wb3J0IHsgb2JqZWN0S2V5cyB9IGZyb20gJy4uL3R5cGluZ3MvY29tbW9uLXR5cGVzLmpzJztcbmV4cG9ydCBmdW5jdGlvbiBvYmpGaWx0ZXIob3JpZ2luYWwgPSB7fSwgZmlsdGVyID0gKCkgPT4gdHJ1ZSkge1xuICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgIG9iamVjdEtleXMob3JpZ2luYWwpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgaWYgKGZpbHRlcihrZXksIG9yaWdpbmFsW2tleV0pKSB7XG4gICAgICAgICAgICBvYmpba2V5XSA9IG9yaWdpbmFsW2tleV07XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gb2JqO1xufVxuIiwgImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNldEJsb2NraW5nKGJsb2NraW5nKSB7XG4gICAgaWYgKHR5cGVvZiBwcm9jZXNzID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgcmV0dXJuO1xuICAgIFtwcm9jZXNzLnN0ZG91dCwgcHJvY2Vzcy5zdGRlcnJdLmZvckVhY2goX3N0cmVhbSA9PiB7XG4gICAgICAgIGNvbnN0IHN0cmVhbSA9IF9zdHJlYW07XG4gICAgICAgIGlmIChzdHJlYW0uX2hhbmRsZSAmJlxuICAgICAgICAgICAgc3RyZWFtLmlzVFRZICYmXG4gICAgICAgICAgICB0eXBlb2Ygc3RyZWFtLl9oYW5kbGUuc2V0QmxvY2tpbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHN0cmVhbS5faGFuZGxlLnNldEJsb2NraW5nKGJsb2NraW5nKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuIiwgImltcG9ydCB7IG9iakZpbHRlciB9IGZyb20gJy4vdXRpbHMvb2JqLWZpbHRlci5qcyc7XG5pbXBvcnQgeyBZRXJyb3IgfSBmcm9tICcuL3llcnJvci5qcyc7XG5pbXBvcnQgc2V0QmxvY2tpbmcgZnJvbSAnLi91dGlscy9zZXQtYmxvY2tpbmcuanMnO1xuZnVuY3Rpb24gaXNCb29sZWFuKGZhaWwpIHtcbiAgICByZXR1cm4gdHlwZW9mIGZhaWwgPT09ICdib29sZWFuJztcbn1cbmV4cG9ydCBmdW5jdGlvbiB1c2FnZSh5YXJncywgc2hpbSkge1xuICAgIGNvbnN0IF9fID0gc2hpbS55MThuLl9fO1xuICAgIGNvbnN0IHNlbGYgPSB7fTtcbiAgICBjb25zdCBmYWlscyA9IFtdO1xuICAgIHNlbGYuZmFpbEZuID0gZnVuY3Rpb24gZmFpbEZuKGYpIHtcbiAgICAgICAgZmFpbHMucHVzaChmKTtcbiAgICB9O1xuICAgIGxldCBmYWlsTWVzc2FnZSA9IG51bGw7XG4gICAgbGV0IGdsb2JhbEZhaWxNZXNzYWdlID0gbnVsbDtcbiAgICBsZXQgc2hvd0hlbHBPbkZhaWwgPSB0cnVlO1xuICAgIHNlbGYuc2hvd0hlbHBPbkZhaWwgPSBmdW5jdGlvbiBzaG93SGVscE9uRmFpbEZuKGFyZzEgPSB0cnVlLCBhcmcyKSB7XG4gICAgICAgIGNvbnN0IFtlbmFibGVkLCBtZXNzYWdlXSA9IHR5cGVvZiBhcmcxID09PSAnc3RyaW5nJyA/IFt0cnVlLCBhcmcxXSA6IFthcmcxLCBhcmcyXTtcbiAgICAgICAgaWYgKHlhcmdzLmdldEludGVybmFsTWV0aG9kcygpLmlzR2xvYmFsQ29udGV4dCgpKSB7XG4gICAgICAgICAgICBnbG9iYWxGYWlsTWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICAgIH1cbiAgICAgICAgZmFpbE1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgICAgICBzaG93SGVscE9uRmFpbCA9IGVuYWJsZWQ7XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgIH07XG4gICAgbGV0IGZhaWx1cmVPdXRwdXQgPSBmYWxzZTtcbiAgICBzZWxmLmZhaWwgPSBmdW5jdGlvbiBmYWlsKG1zZywgZXJyKSB7XG4gICAgICAgIGNvbnN0IGxvZ2dlciA9IHlhcmdzLmdldEludGVybmFsTWV0aG9kcygpLmdldExvZ2dlckluc3RhbmNlKCk7XG4gICAgICAgIGlmIChmYWlscy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBmYWlscy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZhaWwgPSBmYWlsc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoaXNCb29sZWFuKGZhaWwpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnIpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG1zZylcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKG1zZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmYWlsKG1zZywgZXJyLCBzZWxmKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoeWFyZ3MuZ2V0RXhpdFByb2Nlc3MoKSlcbiAgICAgICAgICAgICAgICBzZXRCbG9ja2luZyh0cnVlKTtcbiAgICAgICAgICAgIGlmICghZmFpbHVyZU91dHB1dCkge1xuICAgICAgICAgICAgICAgIGZhaWx1cmVPdXRwdXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChzaG93SGVscE9uRmFpbCkge1xuICAgICAgICAgICAgICAgICAgICB5YXJncy5zaG93SGVscCgnZXJyb3InKTtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmVycm9yKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChtc2cgfHwgZXJyKVxuICAgICAgICAgICAgICAgICAgICBsb2dnZXIuZXJyb3IobXNnIHx8IGVycik7XG4gICAgICAgICAgICAgICAgY29uc3QgZ2xvYmFsT3JDb21tYW5kRmFpbE1lc3NhZ2UgPSBmYWlsTWVzc2FnZSB8fCBnbG9iYWxGYWlsTWVzc2FnZTtcbiAgICAgICAgICAgICAgICBpZiAoZ2xvYmFsT3JDb21tYW5kRmFpbE1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1zZyB8fCBlcnIpXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXIuZXJyb3IoJycpO1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXIuZXJyb3IoZ2xvYmFsT3JDb21tYW5kRmFpbE1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVyciA9IGVyciB8fCBuZXcgWUVycm9yKG1zZyk7XG4gICAgICAgICAgICBpZiAoeWFyZ3MuZ2V0RXhpdFByb2Nlc3MoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB5YXJncy5leGl0KDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoeWFyZ3MuZ2V0SW50ZXJuYWxNZXRob2RzKCkuaGFzUGFyc2VDYWxsYmFjaygpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHlhcmdzLmV4aXQoMSwgZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgbGV0IHVzYWdlcyA9IFtdO1xuICAgIGxldCB1c2FnZURpc2FibGVkID0gZmFsc2U7XG4gICAgc2VsZi51c2FnZSA9IChtc2csIGRlc2NyaXB0aW9uKSA9PiB7XG4gICAgICAgIGlmIChtc2cgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHVzYWdlRGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgdXNhZ2VzID0gW107XG4gICAgICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgICAgfVxuICAgICAgICB1c2FnZURpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIHVzYWdlcy5wdXNoKFttc2csIGRlc2NyaXB0aW9uIHx8ICcnXSk7XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgIH07XG4gICAgc2VsZi5nZXRVc2FnZSA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIHVzYWdlcztcbiAgICB9O1xuICAgIHNlbGYuZ2V0VXNhZ2VEaXNhYmxlZCA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIHVzYWdlRGlzYWJsZWQ7XG4gICAgfTtcbiAgICBzZWxmLmdldFBvc2l0aW9uYWxHcm91cE5hbWUgPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiBfXygnUG9zaXRpb25hbHM6Jyk7XG4gICAgfTtcbiAgICBsZXQgZXhhbXBsZXMgPSBbXTtcbiAgICBzZWxmLmV4YW1wbGUgPSAoY21kLCBkZXNjcmlwdGlvbikgPT4ge1xuICAgICAgICBleGFtcGxlcy5wdXNoKFtjbWQsIGRlc2NyaXB0aW9uIHx8ICcnXSk7XG4gICAgfTtcbiAgICBsZXQgY29tbWFuZHMgPSBbXTtcbiAgICBzZWxmLmNvbW1hbmQgPSBmdW5jdGlvbiBjb21tYW5kKGNtZCwgZGVzY3JpcHRpb24sIGlzRGVmYXVsdCwgYWxpYXNlcywgZGVwcmVjYXRlZCA9IGZhbHNlKSB7XG4gICAgICAgIGlmIChpc0RlZmF1bHQpIHtcbiAgICAgICAgICAgIGNvbW1hbmRzID0gY29tbWFuZHMubWFwKGNtZEFycmF5ID0+IHtcbiAgICAgICAgICAgICAgICBjbWRBcnJheVsyXSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJldHVybiBjbWRBcnJheTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbW1hbmRzLnB1c2goW2NtZCwgZGVzY3JpcHRpb24gfHwgJycsIGlzRGVmYXVsdCwgYWxpYXNlcywgZGVwcmVjYXRlZF0pO1xuICAgIH07XG4gICAgc2VsZi5nZXRDb21tYW5kcyA9ICgpID0+IGNvbW1hbmRzO1xuICAgIGxldCBkZXNjcmlwdGlvbnMgPSB7fTtcbiAgICBzZWxmLmRlc2NyaWJlID0gZnVuY3Rpb24gZGVzY3JpYmUoa2V5T3JLZXlzLCBkZXNjKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGtleU9yS2V5cykpIHtcbiAgICAgICAgICAgIGtleU9yS2V5cy5mb3JFYWNoKGsgPT4ge1xuICAgICAgICAgICAgICAgIHNlbGYuZGVzY3JpYmUoaywgZGVzYyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2Yga2V5T3JLZXlzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoa2V5T3JLZXlzKS5mb3JFYWNoKGsgPT4ge1xuICAgICAgICAgICAgICAgIHNlbGYuZGVzY3JpYmUoaywga2V5T3JLZXlzW2tdKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZGVzY3JpcHRpb25zW2tleU9yS2V5c10gPSBkZXNjO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBzZWxmLmdldERlc2NyaXB0aW9ucyA9ICgpID0+IGRlc2NyaXB0aW9ucztcbiAgICBsZXQgZXBpbG9ncyA9IFtdO1xuICAgIHNlbGYuZXBpbG9nID0gbXNnID0+IHtcbiAgICAgICAgZXBpbG9ncy5wdXNoKG1zZyk7XG4gICAgfTtcbiAgICBsZXQgd3JhcFNldCA9IGZhbHNlO1xuICAgIGxldCB3cmFwO1xuICAgIHNlbGYud3JhcCA9IGNvbHMgPT4ge1xuICAgICAgICB3cmFwU2V0ID0gdHJ1ZTtcbiAgICAgICAgd3JhcCA9IGNvbHM7XG4gICAgfTtcbiAgICBzZWxmLmdldFdyYXAgPSAoKSA9PiB7XG4gICAgICAgIGlmIChzaGltLmdldEVudignWUFSR1NfRElTQUJMRV9XUkFQJykpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICghd3JhcFNldCkge1xuICAgICAgICAgICAgd3JhcCA9IHdpbmRvd1dpZHRoKCk7XG4gICAgICAgICAgICB3cmFwU2V0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JhcDtcbiAgICB9O1xuICAgIGNvbnN0IGRlZmVyWTE4bkxvb2t1cFByZWZpeCA9ICdfX3lhcmdzU3RyaW5nX186JztcbiAgICBzZWxmLmRlZmVyWTE4bkxvb2t1cCA9IHN0ciA9PiBkZWZlclkxOG5Mb29rdXBQcmVmaXggKyBzdHI7XG4gICAgc2VsZi5oZWxwID0gZnVuY3Rpb24gaGVscCgpIHtcbiAgICAgICAgaWYgKGNhY2hlZEhlbHBNZXNzYWdlKVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZEhlbHBNZXNzYWdlO1xuICAgICAgICBub3JtYWxpemVBbGlhc2VzKCk7XG4gICAgICAgIGNvbnN0IGJhc2UkMCA9IHlhcmdzLmN1c3RvbVNjcmlwdE5hbWVcbiAgICAgICAgICAgID8geWFyZ3MuJDBcbiAgICAgICAgICAgIDogc2hpbS5wYXRoLmJhc2VuYW1lKHlhcmdzLiQwKTtcbiAgICAgICAgY29uc3QgZGVtYW5kZWRPcHRpb25zID0geWFyZ3MuZ2V0RGVtYW5kZWRPcHRpb25zKCk7XG4gICAgICAgIGNvbnN0IGRlbWFuZGVkQ29tbWFuZHMgPSB5YXJncy5nZXREZW1hbmRlZENvbW1hbmRzKCk7XG4gICAgICAgIGNvbnN0IGRlcHJlY2F0ZWRPcHRpb25zID0geWFyZ3MuZ2V0RGVwcmVjYXRlZE9wdGlvbnMoKTtcbiAgICAgICAgY29uc3QgZ3JvdXBzID0geWFyZ3MuZ2V0R3JvdXBzKCk7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB5YXJncy5nZXRPcHRpb25zKCk7XG4gICAgICAgIGxldCBrZXlzID0gW107XG4gICAgICAgIGtleXMgPSBrZXlzLmNvbmNhdChPYmplY3Qua2V5cyhkZXNjcmlwdGlvbnMpKTtcbiAgICAgICAga2V5cyA9IGtleXMuY29uY2F0KE9iamVjdC5rZXlzKGRlbWFuZGVkT3B0aW9ucykpO1xuICAgICAgICBrZXlzID0ga2V5cy5jb25jYXQoT2JqZWN0LmtleXMoZGVtYW5kZWRDb21tYW5kcykpO1xuICAgICAgICBrZXlzID0ga2V5cy5jb25jYXQoT2JqZWN0LmtleXMob3B0aW9ucy5kZWZhdWx0KSk7XG4gICAgICAgIGtleXMgPSBrZXlzLmZpbHRlcihmaWx0ZXJIaWRkZW5PcHRpb25zKTtcbiAgICAgICAga2V5cyA9IE9iamVjdC5rZXlzKGtleXMucmVkdWNlKChhY2MsIGtleSkgPT4ge1xuICAgICAgICAgICAgaWYgKGtleSAhPT0gJ18nKVxuICAgICAgICAgICAgICAgIGFjY1trZXldID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH0sIHt9KSk7XG4gICAgICAgIGNvbnN0IHRoZVdyYXAgPSBzZWxmLmdldFdyYXAoKTtcbiAgICAgICAgY29uc3QgdWkgPSBzaGltLmNsaXVpKHtcbiAgICAgICAgICAgIHdpZHRoOiB0aGVXcmFwLFxuICAgICAgICAgICAgd3JhcDogISF0aGVXcmFwLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCF1c2FnZURpc2FibGVkKSB7XG4gICAgICAgICAgICBpZiAodXNhZ2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHVzYWdlcy5mb3JFYWNoKHVzYWdlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdWkuZGl2KHsgdGV4dDogYCR7dXNhZ2VbMF0ucmVwbGFjZSgvXFwkMC9nLCBiYXNlJDApfWAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh1c2FnZVsxXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdWkuZGl2KHsgdGV4dDogYCR7dXNhZ2VbMV19YCwgcGFkZGluZzogWzEsIDAsIDAsIDBdIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdWkuZGl2KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjb21tYW5kcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBsZXQgdSA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKGRlbWFuZGVkQ29tbWFuZHMuXykge1xuICAgICAgICAgICAgICAgICAgICB1ID0gYCR7YmFzZSQwfSA8JHtfXygnY29tbWFuZCcpfT5cXG5gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdSA9IGAke2Jhc2UkMH0gWyR7X18oJ2NvbW1hbmQnKX1dXFxuYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdWkuZGl2KGAke3V9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbW1hbmRzLmxlbmd0aCA+IDEgfHwgKGNvbW1hbmRzLmxlbmd0aCA9PT0gMSAmJiAhY29tbWFuZHNbMF1bMl0pKSB7XG4gICAgICAgICAgICB1aS5kaXYoX18oJ0NvbW1hbmRzOicpKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSB5YXJncy5nZXRJbnRlcm5hbE1ldGhvZHMoKS5nZXRDb250ZXh0KCk7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnRDb21tYW5kcyA9IGNvbnRleHQuY29tbWFuZHMubGVuZ3RoXG4gICAgICAgICAgICAgICAgPyBgJHtjb250ZXh0LmNvbW1hbmRzLmpvaW4oJyAnKX0gYFxuICAgICAgICAgICAgICAgIDogJyc7XG4gICAgICAgICAgICBpZiAoeWFyZ3MuZ2V0SW50ZXJuYWxNZXRob2RzKCkuZ2V0UGFyc2VyQ29uZmlndXJhdGlvbigpWydzb3J0LWNvbW1hbmRzJ10gPT09XG4gICAgICAgICAgICAgICAgdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGNvbW1hbmRzID0gY29tbWFuZHMuc29ydCgoYSwgYikgPT4gYVswXS5sb2NhbGVDb21wYXJlKGJbMF0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHByZWZpeCA9IGJhc2UkMCA/IGAke2Jhc2UkMH0gYCA6ICcnO1xuICAgICAgICAgICAgY29tbWFuZHMuZm9yRWFjaChjb21tYW5kID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb21tYW5kU3RyaW5nID0gYCR7cHJlZml4fSR7cGFyZW50Q29tbWFuZHN9JHtjb21tYW5kWzBdLnJlcGxhY2UoL15cXCQwID8vLCAnJyl9YDtcbiAgICAgICAgICAgICAgICB1aS5zcGFuKHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogY29tbWFuZFN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogWzAsIDIsIDAsIDJdLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogbWF4V2lkdGgoY29tbWFuZHMsIHRoZVdyYXAsIGAke2Jhc2UkMH0ke3BhcmVudENvbW1hbmRzfWApICsgNCxcbiAgICAgICAgICAgICAgICB9LCB7IHRleHQ6IGNvbW1hbmRbMV0gfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgaGludHMgPSBbXTtcbiAgICAgICAgICAgICAgICBpZiAoY29tbWFuZFsyXSlcbiAgICAgICAgICAgICAgICAgICAgaGludHMucHVzaChgWyR7X18oJ2RlZmF1bHQnKX1dYCk7XG4gICAgICAgICAgICAgICAgaWYgKGNvbW1hbmRbM10gJiYgY29tbWFuZFszXS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgaGludHMucHVzaChgWyR7X18oJ2FsaWFzZXM6Jyl9ICR7Y29tbWFuZFszXS5qb2luKCcsICcpfV1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNvbW1hbmRbNF0pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb21tYW5kWzRdID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGludHMucHVzaChgWyR7X18oJ2RlcHJlY2F0ZWQ6ICVzJywgY29tbWFuZFs0XSl9XWApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGludHMucHVzaChgWyR7X18oJ2RlcHJlY2F0ZWQnKX1dYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGhpbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB1aS5kaXYoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogaGludHMuam9pbignICcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogWzAsIDAsIDAsIDJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ246ICdyaWdodCcsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdWkuZGl2KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB1aS5kaXYoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhbGlhc0tleXMgPSAoT2JqZWN0LmtleXMob3B0aW9ucy5hbGlhcykgfHwgW10pLmNvbmNhdChPYmplY3Qua2V5cyh5YXJncy5wYXJzZWQubmV3QWxpYXNlcykgfHwgW10pO1xuICAgICAgICBrZXlzID0ga2V5cy5maWx0ZXIoa2V5ID0+ICF5YXJncy5wYXJzZWQubmV3QWxpYXNlc1trZXldICYmXG4gICAgICAgICAgICBhbGlhc0tleXMuZXZlcnkoYWxpYXMgPT4gKG9wdGlvbnMuYWxpYXNbYWxpYXNdIHx8IFtdKS5pbmRleE9mKGtleSkgPT09IC0xKSk7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRHcm91cCA9IF9fKCdPcHRpb25zOicpO1xuICAgICAgICBpZiAoIWdyb3Vwc1tkZWZhdWx0R3JvdXBdKVxuICAgICAgICAgICAgZ3JvdXBzW2RlZmF1bHRHcm91cF0gPSBbXTtcbiAgICAgICAgYWRkVW5ncm91cGVkS2V5cyhrZXlzLCBvcHRpb25zLmFsaWFzLCBncm91cHMsIGRlZmF1bHRHcm91cCk7XG4gICAgICAgIGNvbnN0IGlzTG9uZ1N3aXRjaCA9IChzdykgPT4gL14tLS8udGVzdChnZXRUZXh0KHN3KSk7XG4gICAgICAgIGNvbnN0IGRpc3BsYXllZEdyb3VwcyA9IE9iamVjdC5rZXlzKGdyb3VwcylcbiAgICAgICAgICAgIC5maWx0ZXIoZ3JvdXBOYW1lID0+IGdyb3Vwc1tncm91cE5hbWVdLmxlbmd0aCA+IDApXG4gICAgICAgICAgICAubWFwKGdyb3VwTmFtZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemVkS2V5cyA9IGdyb3Vwc1tncm91cE5hbWVdXG4gICAgICAgICAgICAgICAgLmZpbHRlcihmaWx0ZXJIaWRkZW5PcHRpb25zKVxuICAgICAgICAgICAgICAgIC5tYXAoa2V5ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoYWxpYXNLZXlzLmluY2x1ZGVzKGtleSkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBrZXk7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGFsaWFzS2V5OyAoYWxpYXNLZXkgPSBhbGlhc0tleXNbaV0pICE9PSB1bmRlZmluZWQ7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoKG9wdGlvbnMuYWxpYXNbYWxpYXNLZXldIHx8IFtdKS5pbmNsdWRlcyhrZXkpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFsaWFzS2V5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4geyBncm91cE5hbWUsIG5vcm1hbGl6ZWRLZXlzIH07XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuZmlsdGVyKCh7IG5vcm1hbGl6ZWRLZXlzIH0pID0+IG5vcm1hbGl6ZWRLZXlzLmxlbmd0aCA+IDApXG4gICAgICAgICAgICAubWFwKCh7IGdyb3VwTmFtZSwgbm9ybWFsaXplZEtleXMgfSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3dpdGNoZXMgPSBub3JtYWxpemVkS2V5cy5yZWR1Y2UoKGFjYywga2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgYWNjW2tleV0gPSBba2V5XVxuICAgICAgICAgICAgICAgICAgICAuY29uY2F0KG9wdGlvbnMuYWxpYXNba2V5XSB8fCBbXSlcbiAgICAgICAgICAgICAgICAgICAgLm1hcChzdyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChncm91cE5hbWUgPT09IHNlbGYuZ2V0UG9zaXRpb25hbEdyb3VwTmFtZSgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN3O1xuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoKC9eWzAtOV0kLy50ZXN0KHN3KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gb3B0aW9ucy5ib29sZWFuLmluY2x1ZGVzKGtleSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnLSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnLS0nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBzdy5sZW5ndGggPiAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJy0tJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICctJykgKyBzdyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuc29ydCgoc3cxLCBzdzIpID0+IGlzTG9uZ1N3aXRjaChzdzEpID09PSBpc0xvbmdTd2l0Y2goc3cyKVxuICAgICAgICAgICAgICAgICAgICA/IDBcbiAgICAgICAgICAgICAgICAgICAgOiBpc0xvbmdTd2l0Y2goc3cxKVxuICAgICAgICAgICAgICAgICAgICAgICAgPyAxXG4gICAgICAgICAgICAgICAgICAgICAgICA6IC0xKVxuICAgICAgICAgICAgICAgICAgICAuam9pbignLCAnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgICAgfSwge30pO1xuICAgICAgICAgICAgcmV0dXJuIHsgZ3JvdXBOYW1lLCBub3JtYWxpemVkS2V5cywgc3dpdGNoZXMgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHNob3J0U3dpdGNoZXNVc2VkID0gZGlzcGxheWVkR3JvdXBzXG4gICAgICAgICAgICAuZmlsdGVyKCh7IGdyb3VwTmFtZSB9KSA9PiBncm91cE5hbWUgIT09IHNlbGYuZ2V0UG9zaXRpb25hbEdyb3VwTmFtZSgpKVxuICAgICAgICAgICAgLnNvbWUoKHsgbm9ybWFsaXplZEtleXMsIHN3aXRjaGVzIH0pID0+ICFub3JtYWxpemVkS2V5cy5ldmVyeShrZXkgPT4gaXNMb25nU3dpdGNoKHN3aXRjaGVzW2tleV0pKSk7XG4gICAgICAgIGlmIChzaG9ydFN3aXRjaGVzVXNlZCkge1xuICAgICAgICAgICAgZGlzcGxheWVkR3JvdXBzXG4gICAgICAgICAgICAgICAgLmZpbHRlcigoeyBncm91cE5hbWUgfSkgPT4gZ3JvdXBOYW1lICE9PSBzZWxmLmdldFBvc2l0aW9uYWxHcm91cE5hbWUoKSlcbiAgICAgICAgICAgICAgICAuZm9yRWFjaCgoeyBub3JtYWxpemVkS2V5cywgc3dpdGNoZXMgfSkgPT4ge1xuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRLZXlzLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTG9uZ1N3aXRjaChzd2l0Y2hlc1trZXldKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoZXNba2V5XSA9IGFkZEluZGVudGF0aW9uKHN3aXRjaGVzW2tleV0sICcteCwgJy5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBkaXNwbGF5ZWRHcm91cHMuZm9yRWFjaCgoeyBncm91cE5hbWUsIG5vcm1hbGl6ZWRLZXlzLCBzd2l0Y2hlcyB9KSA9PiB7XG4gICAgICAgICAgICB1aS5kaXYoZ3JvdXBOYW1lKTtcbiAgICAgICAgICAgIG5vcm1hbGl6ZWRLZXlzLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBrc3dpdGNoID0gc3dpdGNoZXNba2V5XTtcbiAgICAgICAgICAgICAgICBsZXQgZGVzYyA9IGRlc2NyaXB0aW9uc1trZXldIHx8ICcnO1xuICAgICAgICAgICAgICAgIGxldCB0eXBlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAoZGVzYy5pbmNsdWRlcyhkZWZlclkxOG5Mb29rdXBQcmVmaXgpKVxuICAgICAgICAgICAgICAgICAgICBkZXNjID0gX18oZGVzYy5zdWJzdHJpbmcoZGVmZXJZMThuTG9va3VwUHJlZml4Lmxlbmd0aCkpO1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmJvb2xlYW4uaW5jbHVkZXMoa2V5KSlcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9IGBbJHtfXygnYm9vbGVhbicpfV1gO1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmNvdW50LmluY2x1ZGVzKGtleSkpXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSBgWyR7X18oJ2NvdW50Jyl9XWA7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuc3RyaW5nLmluY2x1ZGVzKGtleSkpXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSBgWyR7X18oJ3N0cmluZycpfV1gO1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm5vcm1hbGl6ZS5pbmNsdWRlcyhrZXkpKVxuICAgICAgICAgICAgICAgICAgICB0eXBlID0gYFske19fKCdzdHJpbmcnKX1dYDtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5hcnJheS5pbmNsdWRlcyhrZXkpKVxuICAgICAgICAgICAgICAgICAgICB0eXBlID0gYFske19fKCdhcnJheScpfV1gO1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm51bWJlci5pbmNsdWRlcyhrZXkpKVxuICAgICAgICAgICAgICAgICAgICB0eXBlID0gYFske19fKCdudW1iZXInKX1dYDtcbiAgICAgICAgICAgICAgICBjb25zdCBkZXByZWNhdGVkRXh0cmEgPSAoZGVwcmVjYXRlZCkgPT4gdHlwZW9mIGRlcHJlY2F0ZWQgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgICAgID8gYFske19fKCdkZXByZWNhdGVkOiAlcycsIGRlcHJlY2F0ZWQpfV1gXG4gICAgICAgICAgICAgICAgICAgIDogYFske19fKCdkZXByZWNhdGVkJyl9XWA7XG4gICAgICAgICAgICAgICAgY29uc3QgZXh0cmEgPSBbXG4gICAgICAgICAgICAgICAgICAgIGtleSBpbiBkZXByZWNhdGVkT3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgPyBkZXByZWNhdGVkRXh0cmEoZGVwcmVjYXRlZE9wdGlvbnNba2V5XSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgICAgICAgICAga2V5IGluIGRlbWFuZGVkT3B0aW9ucyA/IGBbJHtfXygncmVxdWlyZWQnKX1dYCA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuY2hvaWNlcyAmJiBvcHRpb25zLmNob2ljZXNba2V5XVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBgWyR7X18oJ2Nob2ljZXM6Jyl9ICR7c2VsZi5zdHJpbmdpZmllZFZhbHVlcyhvcHRpb25zLmNob2ljZXNba2V5XSl9XWBcbiAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFN0cmluZyhvcHRpb25zLmRlZmF1bHRba2V5XSwgb3B0aW9ucy5kZWZhdWx0RGVzY3JpcHRpb25ba2V5XSksXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKEJvb2xlYW4pXG4gICAgICAgICAgICAgICAgICAgIC5qb2luKCcgJyk7XG4gICAgICAgICAgICAgICAgdWkuc3Bhbih7XG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IGdldFRleHQoa3N3aXRjaCksXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFswLCAyLCAwLCAyICsgZ2V0SW5kZW50YXRpb24oa3N3aXRjaCldLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogbWF4V2lkdGgoc3dpdGNoZXMsIHRoZVdyYXApICsgNCxcbiAgICAgICAgICAgICAgICB9LCBkZXNjKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzaG91bGRIaWRlT3B0aW9uRXh0cmFzID0geWFyZ3MuZ2V0SW50ZXJuYWxNZXRob2RzKCkuZ2V0VXNhZ2VDb25maWd1cmF0aW9uKClbJ2hpZGUtdHlwZXMnXSA9PT1cbiAgICAgICAgICAgICAgICAgICAgdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoZXh0cmEgJiYgIXNob3VsZEhpZGVPcHRpb25FeHRyYXMpXG4gICAgICAgICAgICAgICAgICAgIHVpLmRpdih7IHRleHQ6IGV4dHJhLCBwYWRkaW5nOiBbMCwgMCwgMCwgMl0sIGFsaWduOiAncmlnaHQnIH0pO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgdWkuZGl2KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHVpLmRpdigpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGV4YW1wbGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgdWkuZGl2KF9fKCdFeGFtcGxlczonKSk7XG4gICAgICAgICAgICBleGFtcGxlcy5mb3JFYWNoKGV4YW1wbGUgPT4ge1xuICAgICAgICAgICAgICAgIGV4YW1wbGVbMF0gPSBleGFtcGxlWzBdLnJlcGxhY2UoL1xcJDAvZywgYmFzZSQwKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZXhhbXBsZXMuZm9yRWFjaChleGFtcGxlID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZXhhbXBsZVsxXSA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgdWkuZGl2KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGV4YW1wbGVbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiBbMCwgMiwgMCwgMl0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdWkuZGl2KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGV4YW1wbGVbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiBbMCwgMiwgMCwgMl0sXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogbWF4V2lkdGgoZXhhbXBsZXMsIHRoZVdyYXApICsgNCxcbiAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogZXhhbXBsZVsxXSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB1aS5kaXYoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXBpbG9ncy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBlID0gZXBpbG9nc1xuICAgICAgICAgICAgICAgIC5tYXAoZXBpbG9nID0+IGVwaWxvZy5yZXBsYWNlKC9cXCQwL2csIGJhc2UkMCkpXG4gICAgICAgICAgICAgICAgLmpvaW4oJ1xcbicpO1xuICAgICAgICAgICAgdWkuZGl2KGAke2V9XFxuYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVpLnRvU3RyaW5nKCkucmVwbGFjZSgvXFxzKiQvLCAnJyk7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBtYXhXaWR0aCh0YWJsZSwgdGhlV3JhcCwgbW9kaWZpZXIpIHtcbiAgICAgICAgbGV0IHdpZHRoID0gMDtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHRhYmxlKSkge1xuICAgICAgICAgICAgdGFibGUgPSBPYmplY3QudmFsdWVzKHRhYmxlKS5tYXAodiA9PiBbdl0pO1xuICAgICAgICB9XG4gICAgICAgIHRhYmxlLmZvckVhY2godiA9PiB7XG4gICAgICAgICAgICB3aWR0aCA9IE1hdGgubWF4KHNoaW0uc3RyaW5nV2lkdGgobW9kaWZpZXIgPyBgJHttb2RpZmllcn0gJHtnZXRUZXh0KHZbMF0pfWAgOiBnZXRUZXh0KHZbMF0pKSArIGdldEluZGVudGF0aW9uKHZbMF0pLCB3aWR0aCk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodGhlV3JhcClcbiAgICAgICAgICAgIHdpZHRoID0gTWF0aC5taW4od2lkdGgsIHBhcnNlSW50KCh0aGVXcmFwICogMC41KS50b1N0cmluZygpLCAxMCkpO1xuICAgICAgICByZXR1cm4gd2lkdGg7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZUFsaWFzZXMoKSB7XG4gICAgICAgIGNvbnN0IGRlbWFuZGVkT3B0aW9ucyA9IHlhcmdzLmdldERlbWFuZGVkT3B0aW9ucygpO1xuICAgICAgICBjb25zdCBvcHRpb25zID0geWFyZ3MuZ2V0T3B0aW9ucygpO1xuICAgICAgICAoT2JqZWN0LmtleXMob3B0aW9ucy5hbGlhcykgfHwgW10pLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICAgIG9wdGlvbnMuYWxpYXNba2V5XS5mb3JFYWNoKGFsaWFzID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZGVzY3JpcHRpb25zW2FsaWFzXSlcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5kZXNjcmliZShrZXksIGRlc2NyaXB0aW9uc1thbGlhc10pO1xuICAgICAgICAgICAgICAgIGlmIChhbGlhcyBpbiBkZW1hbmRlZE9wdGlvbnMpXG4gICAgICAgICAgICAgICAgICAgIHlhcmdzLmRlbWFuZE9wdGlvbihrZXksIGRlbWFuZGVkT3B0aW9uc1thbGlhc10pO1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmJvb2xlYW4uaW5jbHVkZXMoYWxpYXMpKVxuICAgICAgICAgICAgICAgICAgICB5YXJncy5ib29sZWFuKGtleSk7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuY291bnQuaW5jbHVkZXMoYWxpYXMpKVxuICAgICAgICAgICAgICAgICAgICB5YXJncy5jb3VudChrZXkpO1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnN0cmluZy5pbmNsdWRlcyhhbGlhcykpXG4gICAgICAgICAgICAgICAgICAgIHlhcmdzLnN0cmluZyhrZXkpO1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm5vcm1hbGl6ZS5pbmNsdWRlcyhhbGlhcykpXG4gICAgICAgICAgICAgICAgICAgIHlhcmdzLm5vcm1hbGl6ZShrZXkpO1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmFycmF5LmluY2x1ZGVzKGFsaWFzKSlcbiAgICAgICAgICAgICAgICAgICAgeWFyZ3MuYXJyYXkoa2V5KTtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5udW1iZXIuaW5jbHVkZXMoYWxpYXMpKVxuICAgICAgICAgICAgICAgICAgICB5YXJncy5udW1iZXIoa2V5KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgbGV0IGNhY2hlZEhlbHBNZXNzYWdlO1xuICAgIHNlbGYuY2FjaGVIZWxwTWVzc2FnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2FjaGVkSGVscE1lc3NhZ2UgPSB0aGlzLmhlbHAoKTtcbiAgICB9O1xuICAgIHNlbGYuY2xlYXJDYWNoZWRIZWxwTWVzc2FnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2FjaGVkSGVscE1lc3NhZ2UgPSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBzZWxmLmhhc0NhY2hlZEhlbHBNZXNzYWdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gISFjYWNoZWRIZWxwTWVzc2FnZTtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGFkZFVuZ3JvdXBlZEtleXMoa2V5cywgYWxpYXNlcywgZ3JvdXBzLCBkZWZhdWx0R3JvdXApIHtcbiAgICAgICAgbGV0IGdyb3VwZWRLZXlzID0gW107XG4gICAgICAgIGxldCB0b0NoZWNrID0gbnVsbDtcbiAgICAgICAgT2JqZWN0LmtleXMoZ3JvdXBzKS5mb3JFYWNoKGdyb3VwID0+IHtcbiAgICAgICAgICAgIGdyb3VwZWRLZXlzID0gZ3JvdXBlZEtleXMuY29uY2F0KGdyb3Vwc1tncm91cF0pO1xuICAgICAgICB9KTtcbiAgICAgICAga2V5cy5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgICB0b0NoZWNrID0gW2tleV0uY29uY2F0KGFsaWFzZXNba2V5XSk7XG4gICAgICAgICAgICBpZiAoIXRvQ2hlY2suc29tZShrID0+IGdyb3VwZWRLZXlzLmluZGV4T2YoaykgIT09IC0xKSkge1xuICAgICAgICAgICAgICAgIGdyb3Vwc1tkZWZhdWx0R3JvdXBdLnB1c2goa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBncm91cGVkS2V5cztcbiAgICB9XG4gICAgZnVuY3Rpb24gZmlsdGVySGlkZGVuT3B0aW9ucyhrZXkpIHtcbiAgICAgICAgcmV0dXJuICh5YXJncy5nZXRPcHRpb25zKCkuaGlkZGVuT3B0aW9ucy5pbmRleE9mKGtleSkgPCAwIHx8XG4gICAgICAgICAgICB5YXJncy5wYXJzZWQuYXJndlt5YXJncy5nZXRPcHRpb25zKCkuc2hvd0hpZGRlbk9wdF0pO1xuICAgIH1cbiAgICBzZWxmLnNob3dIZWxwID0gKGxldmVsKSA9PiB7XG4gICAgICAgIGNvbnN0IGxvZ2dlciA9IHlhcmdzLmdldEludGVybmFsTWV0aG9kcygpLmdldExvZ2dlckluc3RhbmNlKCk7XG4gICAgICAgIGlmICghbGV2ZWwpXG4gICAgICAgICAgICBsZXZlbCA9ICdlcnJvcic7XG4gICAgICAgIGNvbnN0IGVtaXQgPSB0eXBlb2YgbGV2ZWwgPT09ICdmdW5jdGlvbicgPyBsZXZlbCA6IGxvZ2dlcltsZXZlbF07XG4gICAgICAgIGVtaXQoc2VsZi5oZWxwKCkpO1xuICAgIH07XG4gICAgc2VsZi5mdW5jdGlvbkRlc2NyaXB0aW9uID0gZm4gPT4ge1xuICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGZuLm5hbWVcbiAgICAgICAgICAgID8gc2hpbS5QYXJzZXIuZGVjYW1lbGl6ZShmbi5uYW1lLCAnLScpXG4gICAgICAgICAgICA6IF9fKCdnZW5lcmF0ZWQtdmFsdWUnKTtcbiAgICAgICAgcmV0dXJuIFsnKCcsIGRlc2NyaXB0aW9uLCAnKSddLmpvaW4oJycpO1xuICAgIH07XG4gICAgc2VsZi5zdHJpbmdpZmllZFZhbHVlcyA9IGZ1bmN0aW9uIHN0cmluZ2lmaWVkVmFsdWVzKHZhbHVlcywgc2VwYXJhdG9yKSB7XG4gICAgICAgIGxldCBzdHJpbmcgPSAnJztcbiAgICAgICAgY29uc3Qgc2VwID0gc2VwYXJhdG9yIHx8ICcsICc7XG4gICAgICAgIGNvbnN0IGFycmF5ID0gW10uY29uY2F0KHZhbHVlcyk7XG4gICAgICAgIGlmICghdmFsdWVzIHx8ICFhcnJheS5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgICBhcnJheS5mb3JFYWNoKHZhbHVlID0+IHtcbiAgICAgICAgICAgIGlmIChzdHJpbmcubGVuZ3RoKVxuICAgICAgICAgICAgICAgIHN0cmluZyArPSBzZXA7XG4gICAgICAgICAgICBzdHJpbmcgKz0gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGRlZmF1bHRTdHJpbmcodmFsdWUsIGRlZmF1bHREZXNjcmlwdGlvbikge1xuICAgICAgICBsZXQgc3RyaW5nID0gYFske19fKCdkZWZhdWx0OicpfSBgO1xuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhZGVmYXVsdERlc2NyaXB0aW9uKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGlmIChkZWZhdWx0RGVzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIHN0cmluZyArPSBkZWZhdWx0RGVzY3JpcHRpb247XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBgXCIke3ZhbHVlfVwiYDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgICAgICAgICAgICAgc3RyaW5nICs9IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgc3RyaW5nICs9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBgJHtzdHJpbmd9XWA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdpbmRvd1dpZHRoKCkge1xuICAgICAgICBjb25zdCBtYXhXaWR0aCA9IDgwO1xuICAgICAgICBpZiAoc2hpbS5wcm9jZXNzLnN0ZENvbHVtbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLm1pbihtYXhXaWR0aCwgc2hpbS5wcm9jZXNzLnN0ZENvbHVtbnMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG1heFdpZHRoO1xuICAgICAgICB9XG4gICAgfVxuICAgIGxldCB2ZXJzaW9uID0gbnVsbDtcbiAgICBzZWxmLnZlcnNpb24gPSB2ZXIgPT4ge1xuICAgICAgICB2ZXJzaW9uID0gdmVyO1xuICAgIH07XG4gICAgc2VsZi5zaG93VmVyc2lvbiA9IGxldmVsID0+IHtcbiAgICAgICAgY29uc3QgbG9nZ2VyID0geWFyZ3MuZ2V0SW50ZXJuYWxNZXRob2RzKCkuZ2V0TG9nZ2VySW5zdGFuY2UoKTtcbiAgICAgICAgaWYgKCFsZXZlbClcbiAgICAgICAgICAgIGxldmVsID0gJ2Vycm9yJztcbiAgICAgICAgY29uc3QgZW1pdCA9IHR5cGVvZiBsZXZlbCA9PT0gJ2Z1bmN0aW9uJyA/IGxldmVsIDogbG9nZ2VyW2xldmVsXTtcbiAgICAgICAgZW1pdCh2ZXJzaW9uKTtcbiAgICB9O1xuICAgIHNlbGYucmVzZXQgPSBmdW5jdGlvbiByZXNldChsb2NhbExvb2t1cCkge1xuICAgICAgICBmYWlsTWVzc2FnZSA9IG51bGw7XG4gICAgICAgIGZhaWx1cmVPdXRwdXQgPSBmYWxzZTtcbiAgICAgICAgdXNhZ2VzID0gW107XG4gICAgICAgIHVzYWdlRGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgZXBpbG9ncyA9IFtdO1xuICAgICAgICBleGFtcGxlcyA9IFtdO1xuICAgICAgICBjb21tYW5kcyA9IFtdO1xuICAgICAgICBkZXNjcmlwdGlvbnMgPSBvYmpGaWx0ZXIoZGVzY3JpcHRpb25zLCBrID0+ICFsb2NhbExvb2t1cFtrXSk7XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgIH07XG4gICAgY29uc3QgZnJvemVucyA9IFtdO1xuICAgIHNlbGYuZnJlZXplID0gZnVuY3Rpb24gZnJlZXplKCkge1xuICAgICAgICBmcm96ZW5zLnB1c2goe1xuICAgICAgICAgICAgZmFpbE1lc3NhZ2UsXG4gICAgICAgICAgICBmYWlsdXJlT3V0cHV0LFxuICAgICAgICAgICAgdXNhZ2VzLFxuICAgICAgICAgICAgdXNhZ2VEaXNhYmxlZCxcbiAgICAgICAgICAgIGVwaWxvZ3MsXG4gICAgICAgICAgICBleGFtcGxlcyxcbiAgICAgICAgICAgIGNvbW1hbmRzLFxuICAgICAgICAgICAgZGVzY3JpcHRpb25zLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHNlbGYudW5mcmVlemUgPSBmdW5jdGlvbiB1bmZyZWV6ZShkZWZhdWx0Q29tbWFuZCA9IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IGZyb3plbiA9IGZyb3plbnMucG9wKCk7XG4gICAgICAgIGlmICghZnJvemVuKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoZGVmYXVsdENvbW1hbmQpIHtcbiAgICAgICAgICAgIGRlc2NyaXB0aW9ucyA9IHsgLi4uZnJvemVuLmRlc2NyaXB0aW9ucywgLi4uZGVzY3JpcHRpb25zIH07XG4gICAgICAgICAgICBjb21tYW5kcyA9IFsuLi5mcm96ZW4uY29tbWFuZHMsIC4uLmNvbW1hbmRzXTtcbiAgICAgICAgICAgIHVzYWdlcyA9IFsuLi5mcm96ZW4udXNhZ2VzLCAuLi51c2FnZXNdO1xuICAgICAgICAgICAgZXhhbXBsZXMgPSBbLi4uZnJvemVuLmV4YW1wbGVzLCAuLi5leGFtcGxlc107XG4gICAgICAgICAgICBlcGlsb2dzID0gWy4uLmZyb3plbi5lcGlsb2dzLCAuLi5lcGlsb2dzXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICh7XG4gICAgICAgICAgICAgICAgZmFpbE1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgZmFpbHVyZU91dHB1dCxcbiAgICAgICAgICAgICAgICB1c2FnZXMsXG4gICAgICAgICAgICAgICAgdXNhZ2VEaXNhYmxlZCxcbiAgICAgICAgICAgICAgICBlcGlsb2dzLFxuICAgICAgICAgICAgICAgIGV4YW1wbGVzLFxuICAgICAgICAgICAgICAgIGNvbW1hbmRzLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9ucyxcbiAgICAgICAgICAgIH0gPSBmcm96ZW4pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gc2VsZjtcbn1cbmZ1bmN0aW9uIGlzSW5kZW50ZWRUZXh0KHRleHQpIHtcbiAgICByZXR1cm4gdHlwZW9mIHRleHQgPT09ICdvYmplY3QnO1xufVxuZnVuY3Rpb24gYWRkSW5kZW50YXRpb24odGV4dCwgaW5kZW50KSB7XG4gICAgcmV0dXJuIGlzSW5kZW50ZWRUZXh0KHRleHQpXG4gICAgICAgID8geyB0ZXh0OiB0ZXh0LnRleHQsIGluZGVudGF0aW9uOiB0ZXh0LmluZGVudGF0aW9uICsgaW5kZW50IH1cbiAgICAgICAgOiB7IHRleHQsIGluZGVudGF0aW9uOiBpbmRlbnQgfTtcbn1cbmZ1bmN0aW9uIGdldEluZGVudGF0aW9uKHRleHQpIHtcbiAgICByZXR1cm4gaXNJbmRlbnRlZFRleHQodGV4dCkgPyB0ZXh0LmluZGVudGF0aW9uIDogMDtcbn1cbmZ1bmN0aW9uIGdldFRleHQodGV4dCkge1xuICAgIHJldHVybiBpc0luZGVudGVkVGV4dCh0ZXh0KSA/IHRleHQudGV4dCA6IHRleHQ7XG59XG4iLCAiZXhwb3J0IGNvbnN0IGNvbXBsZXRpb25TaFRlbXBsYXRlID0gYCMjIy1iZWdpbi17e2FwcF9uYW1lfX0tY29tcGxldGlvbnMtIyMjXG4jXG4jIHlhcmdzIGNvbW1hbmQgY29tcGxldGlvbiBzY3JpcHRcbiNcbiMgSW5zdGFsbGF0aW9uOiB7e2FwcF9wYXRofX0ge3tjb21wbGV0aW9uX2NvbW1hbmR9fSA+PiB+Ly5iYXNocmNcbiMgICAgb3Ige3thcHBfcGF0aH19IHt7Y29tcGxldGlvbl9jb21tYW5kfX0gPj4gfi8uYmFzaF9wcm9maWxlIG9uIE9TWC5cbiNcbl97e2FwcF9uYW1lfX1feWFyZ3NfY29tcGxldGlvbnMoKVxue1xuICAgIGxvY2FsIGN1cl93b3JkIGFyZ3MgdHlwZV9saXN0XG5cbiAgICBjdXJfd29yZD1cIlxcJHtDT01QX1dPUkRTW0NPTVBfQ1dPUkRdfVwiXG4gICAgYXJncz0oXCJcXCR7Q09NUF9XT1JEU1tAXX1cIilcblxuICAgICMgYXNrIHlhcmdzIHRvIGdlbmVyYXRlIGNvbXBsZXRpb25zLlxuICAgIHR5cGVfbGlzdD0kKHt7YXBwX3BhdGh9fSAtLWdldC15YXJncy1jb21wbGV0aW9ucyBcIlxcJHthcmdzW0BdfVwiKVxuXG4gICAgQ09NUFJFUExZPSggJChjb21wZ2VuIC1XIFwiXFwke3R5cGVfbGlzdH1cIiAtLSBcXCR7Y3VyX3dvcmR9KSApXG5cbiAgICAjIGlmIG5vIG1hdGNoIHdhcyBmb3VuZCwgZmFsbCBiYWNrIHRvIGZpbGVuYW1lIGNvbXBsZXRpb25cbiAgICBpZiBbIFxcJHsjQ09NUFJFUExZW0BdfSAtZXEgMCBdOyB0aGVuXG4gICAgICBDT01QUkVQTFk9KClcbiAgICBmaVxuXG4gICAgcmV0dXJuIDBcbn1cbmNvbXBsZXRlIC1vIGJhc2hkZWZhdWx0IC1vIGRlZmF1bHQgLUYgX3t7YXBwX25hbWV9fV95YXJnc19jb21wbGV0aW9ucyB7e2FwcF9uYW1lfX1cbiMjIy1lbmQte3thcHBfbmFtZX19LWNvbXBsZXRpb25zLSMjI1xuYDtcbmV4cG9ydCBjb25zdCBjb21wbGV0aW9uWnNoVGVtcGxhdGUgPSBgI2NvbXBkZWYge3thcHBfbmFtZX19XG4jIyMtYmVnaW4te3thcHBfbmFtZX19LWNvbXBsZXRpb25zLSMjI1xuI1xuIyB5YXJncyBjb21tYW5kIGNvbXBsZXRpb24gc2NyaXB0XG4jXG4jIEluc3RhbGxhdGlvbjoge3thcHBfcGF0aH19IHt7Y29tcGxldGlvbl9jb21tYW5kfX0gPj4gfi8uenNocmNcbiMgICAgb3Ige3thcHBfcGF0aH19IHt7Y29tcGxldGlvbl9jb21tYW5kfX0gPj4gfi8uenByb2ZpbGUgb24gT1NYLlxuI1xuX3t7YXBwX25hbWV9fV95YXJnc19jb21wbGV0aW9ucygpXG57XG4gIGxvY2FsIHJlcGx5XG4gIGxvY2FsIHNpPSRJRlNcbiAgSUZTPSQnXFxuJyByZXBseT0oJChDT01QX0NXT1JEPVwiJCgoQ1VSUkVOVC0xKSlcIiBDT01QX0xJTkU9XCIkQlVGRkVSXCIgQ09NUF9QT0lOVD1cIiRDVVJTT1JcIiB7e2FwcF9wYXRofX0gLS1nZXQteWFyZ3MtY29tcGxldGlvbnMgXCJcXCR7d29yZHNbQF19XCIpKVxuICBJRlM9JHNpXG4gIF9kZXNjcmliZSAndmFsdWVzJyByZXBseVxufVxuY29tcGRlZiBfe3thcHBfbmFtZX19X3lhcmdzX2NvbXBsZXRpb25zIHt7YXBwX25hbWV9fVxuIyMjLWVuZC17e2FwcF9uYW1lfX0tY29tcGxldGlvbnMtIyMjXG5gO1xuIiwgImltcG9ydCB7IGlzQ29tbWFuZEJ1aWxkZXJDYWxsYmFjayB9IGZyb20gJy4vY29tbWFuZC5qcyc7XG5pbXBvcnQgeyBhc3NlcnROb3RTdHJpY3RFcXVhbCB9IGZyb20gJy4vdHlwaW5ncy9jb21tb24tdHlwZXMuanMnO1xuaW1wb3J0ICogYXMgdGVtcGxhdGVzIGZyb20gJy4vY29tcGxldGlvbi10ZW1wbGF0ZXMuanMnO1xuaW1wb3J0IHsgaXNQcm9taXNlIH0gZnJvbSAnLi91dGlscy9pcy1wcm9taXNlLmpzJztcbmltcG9ydCB7IHBhcnNlQ29tbWFuZCB9IGZyb20gJy4vcGFyc2UtY29tbWFuZC5qcyc7XG5leHBvcnQgY2xhc3MgQ29tcGxldGlvbiB7XG4gICAgY29uc3RydWN0b3IoeWFyZ3MsIHVzYWdlLCBjb21tYW5kLCBzaGltKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICB0aGlzLnlhcmdzID0geWFyZ3M7XG4gICAgICAgIHRoaXMudXNhZ2UgPSB1c2FnZTtcbiAgICAgICAgdGhpcy5jb21tYW5kID0gY29tbWFuZDtcbiAgICAgICAgdGhpcy5zaGltID0gc2hpbTtcbiAgICAgICAgdGhpcy5jb21wbGV0aW9uS2V5ID0gJ2dldC15YXJncy1jb21wbGV0aW9ucyc7XG4gICAgICAgIHRoaXMuYWxpYXNlcyA9IG51bGw7XG4gICAgICAgIHRoaXMuY3VzdG9tQ29tcGxldGlvbkZ1bmN0aW9uID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbmRleEFmdGVyTGFzdFJlc2V0ID0gMDtcbiAgICAgICAgdGhpcy56c2hTaGVsbCA9XG4gICAgICAgICAgICAoX2MgPSAoKChfYSA9IHRoaXMuc2hpbS5nZXRFbnYoJ1NIRUxMJykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pbmNsdWRlcygnenNoJykpIHx8XG4gICAgICAgICAgICAgICAgKChfYiA9IHRoaXMuc2hpbS5nZXRFbnYoJ1pTSF9OQU1FJykpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5pbmNsdWRlcygnenNoJykpKSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogZmFsc2U7XG4gICAgfVxuICAgIGRlZmF1bHRDb21wbGV0aW9uKGFyZ3MsIGFyZ3YsIGN1cnJlbnQsIGRvbmUpIHtcbiAgICAgICAgY29uc3QgaGFuZGxlcnMgPSB0aGlzLmNvbW1hbmQuZ2V0Q29tbWFuZEhhbmRsZXJzKCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGFyZ3MubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgaWYgKGhhbmRsZXJzW2FyZ3NbaV1dICYmIGhhbmRsZXJzW2FyZ3NbaV1dLmJ1aWxkZXIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBidWlsZGVyID0gaGFuZGxlcnNbYXJnc1tpXV0uYnVpbGRlcjtcbiAgICAgICAgICAgICAgICBpZiAoaXNDb21tYW5kQnVpbGRlckNhbGxiYWNrKGJ1aWxkZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5kZXhBZnRlckxhc3RSZXNldCA9IGkgKyAxO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB5ID0gdGhpcy55YXJncy5nZXRJbnRlcm5hbE1ldGhvZHMoKS5yZXNldCgpO1xuICAgICAgICAgICAgICAgICAgICBidWlsZGVyKHksIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geS5hcmd2O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb21wbGV0aW9ucyA9IFtdO1xuICAgICAgICB0aGlzLmNvbW1hbmRDb21wbGV0aW9ucyhjb21wbGV0aW9ucywgYXJncywgY3VycmVudCk7XG4gICAgICAgIHRoaXMub3B0aW9uQ29tcGxldGlvbnMoY29tcGxldGlvbnMsIGFyZ3MsIGFyZ3YsIGN1cnJlbnQpO1xuICAgICAgICB0aGlzLmNob2ljZXNGcm9tT3B0aW9uc0NvbXBsZXRpb25zKGNvbXBsZXRpb25zLCBhcmdzLCBhcmd2LCBjdXJyZW50KTtcbiAgICAgICAgdGhpcy5jaG9pY2VzRnJvbVBvc2l0aW9uYWxzQ29tcGxldGlvbnMoY29tcGxldGlvbnMsIGFyZ3MsIGFyZ3YsIGN1cnJlbnQpO1xuICAgICAgICBkb25lKG51bGwsIGNvbXBsZXRpb25zKTtcbiAgICB9XG4gICAgY29tbWFuZENvbXBsZXRpb25zKGNvbXBsZXRpb25zLCBhcmdzLCBjdXJyZW50KSB7XG4gICAgICAgIGNvbnN0IHBhcmVudENvbW1hbmRzID0gdGhpcy55YXJnc1xuICAgICAgICAgICAgLmdldEludGVybmFsTWV0aG9kcygpXG4gICAgICAgICAgICAuZ2V0Q29udGV4dCgpLmNvbW1hbmRzO1xuICAgICAgICBpZiAoIWN1cnJlbnQubWF0Y2goL14tLykgJiZcbiAgICAgICAgICAgIHBhcmVudENvbW1hbmRzW3BhcmVudENvbW1hbmRzLmxlbmd0aCAtIDFdICE9PSBjdXJyZW50ICYmXG4gICAgICAgICAgICAhdGhpcy5wcmV2aW91c0FyZ0hhc0Nob2ljZXMoYXJncykpIHtcbiAgICAgICAgICAgIHRoaXMudXNhZ2UuZ2V0Q29tbWFuZHMoKS5mb3JFYWNoKHVzYWdlQ29tbWFuZCA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29tbWFuZE5hbWUgPSBwYXJzZUNvbW1hbmQodXNhZ2VDb21tYW5kWzBdKS5jbWQ7XG4gICAgICAgICAgICAgICAgaWYgKGFyZ3MuaW5kZXhPZihjb21tYW5kTmFtZSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy56c2hTaGVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGlvbnMucHVzaChjb21tYW5kTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZXNjID0gdXNhZ2VDb21tYW5kWzFdIHx8ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGlvbnMucHVzaChjb21tYW5kTmFtZS5yZXBsYWNlKC86L2csICdcXFxcOicpICsgJzonICsgZGVzYyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvcHRpb25Db21wbGV0aW9ucyhjb21wbGV0aW9ucywgYXJncywgYXJndiwgY3VycmVudCkge1xuICAgICAgICBpZiAoKGN1cnJlbnQubWF0Y2goL14tLykgfHwgKGN1cnJlbnQgPT09ICcnICYmIGNvbXBsZXRpb25zLmxlbmd0aCA9PT0gMCkpICYmXG4gICAgICAgICAgICAhdGhpcy5wcmV2aW91c0FyZ0hhc0Nob2ljZXMoYXJncykpIHtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLnlhcmdzLmdldE9wdGlvbnMoKTtcbiAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uYWxLZXlzID0gdGhpcy55YXJncy5nZXRHcm91cHMoKVt0aGlzLnVzYWdlLmdldFBvc2l0aW9uYWxHcm91cE5hbWUoKV0gfHwgW107XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhvcHRpb25zLmtleSkuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5lZ2FibGUgPSAhIW9wdGlvbnMuY29uZmlndXJhdGlvblsnYm9vbGVhbi1uZWdhdGlvbiddICYmXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuYm9vbGVhbi5pbmNsdWRlcyhrZXkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzUG9zaXRpb25hbEtleSA9IHBvc2l0aW9uYWxLZXlzLmluY2x1ZGVzKGtleSk7XG4gICAgICAgICAgICAgICAgaWYgKCFpc1Bvc2l0aW9uYWxLZXkgJiZcbiAgICAgICAgICAgICAgICAgICAgIW9wdGlvbnMuaGlkZGVuT3B0aW9ucy5pbmNsdWRlcyhrZXkpICYmXG4gICAgICAgICAgICAgICAgICAgICF0aGlzLmFyZ3NDb250YWluS2V5KGFyZ3MsIGtleSwgbmVnYWJsZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wbGV0ZU9wdGlvbktleShrZXksIGNvbXBsZXRpb25zLCBjdXJyZW50LCBuZWdhYmxlICYmICEhb3B0aW9ucy5kZWZhdWx0W2tleV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNob2ljZXNGcm9tT3B0aW9uc0NvbXBsZXRpb25zKGNvbXBsZXRpb25zLCBhcmdzLCBhcmd2LCBjdXJyZW50KSB7XG4gICAgICAgIGlmICh0aGlzLnByZXZpb3VzQXJnSGFzQ2hvaWNlcyhhcmdzKSkge1xuICAgICAgICAgICAgY29uc3QgY2hvaWNlcyA9IHRoaXMuZ2V0UHJldmlvdXNBcmdDaG9pY2VzKGFyZ3MpO1xuICAgICAgICAgICAgaWYgKGNob2ljZXMgJiYgY2hvaWNlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29tcGxldGlvbnMucHVzaCguLi5jaG9pY2VzLm1hcChjID0+IGMucmVwbGFjZSgvOi9nLCAnXFxcXDonKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNob2ljZXNGcm9tUG9zaXRpb25hbHNDb21wbGV0aW9ucyhjb21wbGV0aW9ucywgYXJncywgYXJndiwgY3VycmVudCkge1xuICAgICAgICBpZiAoY3VycmVudCA9PT0gJycgJiZcbiAgICAgICAgICAgIGNvbXBsZXRpb25zLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICAgIHRoaXMucHJldmlvdXNBcmdIYXNDaG9pY2VzKGFyZ3MpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcG9zaXRpb25hbEtleXMgPSB0aGlzLnlhcmdzLmdldEdyb3VwcygpW3RoaXMudXNhZ2UuZ2V0UG9zaXRpb25hbEdyb3VwTmFtZSgpXSB8fCBbXTtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gTWF0aC5tYXgodGhpcy5pbmRleEFmdGVyTGFzdFJlc2V0LCB0aGlzLnlhcmdzLmdldEludGVybmFsTWV0aG9kcygpLmdldENvbnRleHQoKS5jb21tYW5kcy5sZW5ndGggK1xuICAgICAgICAgICAgMSk7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uYWxLZXkgPSBwb3NpdGlvbmFsS2V5c1thcmd2Ll8ubGVuZ3RoIC0gb2Zmc2V0IC0gMV07XG4gICAgICAgIGlmICghcG9zaXRpb25hbEtleSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNob2ljZXMgPSB0aGlzLnlhcmdzLmdldE9wdGlvbnMoKS5jaG9pY2VzW3Bvc2l0aW9uYWxLZXldIHx8IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGNob2ljZSBvZiBjaG9pY2VzKSB7XG4gICAgICAgICAgICBpZiAoY2hvaWNlLnN0YXJ0c1dpdGgoY3VycmVudCkpIHtcbiAgICAgICAgICAgICAgICBjb21wbGV0aW9ucy5wdXNoKGNob2ljZS5yZXBsYWNlKC86L2csICdcXFxcOicpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRQcmV2aW91c0FyZ0Nob2ljZXMoYXJncykge1xuICAgICAgICBpZiAoYXJncy5sZW5ndGggPCAxKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBsZXQgcHJldmlvdXNBcmcgPSBhcmdzW2FyZ3MubGVuZ3RoIC0gMV07XG4gICAgICAgIGxldCBmaWx0ZXIgPSAnJztcbiAgICAgICAgaWYgKCFwcmV2aW91c0FyZy5zdGFydHNXaXRoKCctJykgJiYgYXJncy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBmaWx0ZXIgPSBwcmV2aW91c0FyZztcbiAgICAgICAgICAgIHByZXZpb3VzQXJnID0gYXJnc1thcmdzLmxlbmd0aCAtIDJdO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcHJldmlvdXNBcmcuc3RhcnRzV2l0aCgnLScpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBwcmV2aW91c0FyZ0tleSA9IHByZXZpb3VzQXJnLnJlcGxhY2UoL14tKy8sICcnKTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMueWFyZ3MuZ2V0T3B0aW9ucygpO1xuICAgICAgICBjb25zdCBwb3NzaWJsZUFsaWFzZXMgPSBbXG4gICAgICAgICAgICBwcmV2aW91c0FyZ0tleSxcbiAgICAgICAgICAgIC4uLih0aGlzLnlhcmdzLmdldEFsaWFzZXMoKVtwcmV2aW91c0FyZ0tleV0gfHwgW10pLFxuICAgICAgICBdO1xuICAgICAgICBsZXQgY2hvaWNlcztcbiAgICAgICAgZm9yIChjb25zdCBwb3NzaWJsZUFsaWFzIG9mIHBvc3NpYmxlQWxpYXNlcykge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvcHRpb25zLmtleSwgcG9zc2libGVBbGlhcykgJiZcbiAgICAgICAgICAgICAgICBBcnJheS5pc0FycmF5KG9wdGlvbnMuY2hvaWNlc1twb3NzaWJsZUFsaWFzXSkpIHtcbiAgICAgICAgICAgICAgICBjaG9pY2VzID0gb3B0aW9ucy5jaG9pY2VzW3Bvc3NpYmxlQWxpYXNdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjaG9pY2VzKSB7XG4gICAgICAgICAgICByZXR1cm4gY2hvaWNlcy5maWx0ZXIoY2hvaWNlID0+ICFmaWx0ZXIgfHwgY2hvaWNlLnN0YXJ0c1dpdGgoZmlsdGVyKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcHJldmlvdXNBcmdIYXNDaG9pY2VzKGFyZ3MpIHtcbiAgICAgICAgY29uc3QgY2hvaWNlcyA9IHRoaXMuZ2V0UHJldmlvdXNBcmdDaG9pY2VzKGFyZ3MpO1xuICAgICAgICByZXR1cm4gY2hvaWNlcyAhPT0gdW5kZWZpbmVkICYmIGNob2ljZXMubGVuZ3RoID4gMDtcbiAgICB9XG4gICAgYXJnc0NvbnRhaW5LZXkoYXJncywga2V5LCBuZWdhYmxlKSB7XG4gICAgICAgIGNvbnN0IGFyZ3NDb250YWlucyA9IChzKSA9PiBhcmdzLmluZGV4T2YoKC9eW14wLTldJC8udGVzdChzKSA/ICctJyA6ICctLScpICsgcykgIT09IC0xO1xuICAgICAgICBpZiAoYXJnc0NvbnRhaW5zKGtleSkpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaWYgKG5lZ2FibGUgJiYgYXJnc0NvbnRhaW5zKGBuby0ke2tleX1gKSlcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBpZiAodGhpcy5hbGlhc2VzKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGFsaWFzIG9mIHRoaXMuYWxpYXNlc1trZXldKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFyZ3NDb250YWlucyhhbGlhcykpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29tcGxldGVPcHRpb25LZXkoa2V5LCBjb21wbGV0aW9ucywgY3VycmVudCwgbmVnYWJsZSkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgIGxldCBrZXlXaXRoRGVzYyA9IGtleTtcbiAgICAgICAgaWYgKHRoaXMuenNoU2hlbGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlc2NzID0gdGhpcy51c2FnZS5nZXREZXNjcmlwdGlvbnMoKTtcbiAgICAgICAgICAgIGNvbnN0IGFsaWFzS2V5ID0gKF9iID0gKF9hID0gdGhpcyA9PT0gbnVsbCB8fCB0aGlzID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0aGlzLmFsaWFzZXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYVtrZXldKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZmluZChhbGlhcyA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVzYyA9IGRlc2NzW2FsaWFzXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZW9mIGRlc2MgPT09ICdzdHJpbmcnICYmIGRlc2MubGVuZ3RoID4gMDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgZGVzY0Zyb21BbGlhcyA9IGFsaWFzS2V5ID8gZGVzY3NbYWxpYXNLZXldIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgY29uc3QgZGVzYyA9IChfZCA9IChfYyA9IGRlc2NzW2tleV0pICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IGRlc2NGcm9tQWxpYXMpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6ICcnO1xuICAgICAgICAgICAga2V5V2l0aERlc2MgPSBgJHtrZXkucmVwbGFjZSgvOi9nLCAnXFxcXDonKX06JHtkZXNjXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoJ19feWFyZ3NTdHJpbmdfXzonLCAnJylcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvKFxcclxcbnxcXG58XFxyKS9nbSwgJyAnKX1gO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0YXJ0c0J5VHdvRGFzaGVzID0gKHMpID0+IC9eLS0vLnRlc3Qocyk7XG4gICAgICAgIGNvbnN0IGlzU2hvcnRPcHRpb24gPSAocykgPT4gL15bXjAtOV0kLy50ZXN0KHMpO1xuICAgICAgICBjb25zdCBkYXNoZXMgPSAhc3RhcnRzQnlUd29EYXNoZXMoY3VycmVudCkgJiYgaXNTaG9ydE9wdGlvbihrZXkpID8gJy0nIDogJy0tJztcbiAgICAgICAgY29tcGxldGlvbnMucHVzaChkYXNoZXMgKyBrZXlXaXRoRGVzYyk7XG4gICAgICAgIGlmIChuZWdhYmxlKSB7XG4gICAgICAgICAgICBjb21wbGV0aW9ucy5wdXNoKGRhc2hlcyArICduby0nICsga2V5V2l0aERlc2MpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGN1c3RvbUNvbXBsZXRpb24oYXJncywgYXJndiwgY3VycmVudCwgZG9uZSkge1xuICAgICAgICBhc3NlcnROb3RTdHJpY3RFcXVhbCh0aGlzLmN1c3RvbUNvbXBsZXRpb25GdW5jdGlvbiwgbnVsbCwgdGhpcy5zaGltKTtcbiAgICAgICAgaWYgKGlzU3luY0NvbXBsZXRpb25GdW5jdGlvbih0aGlzLmN1c3RvbUNvbXBsZXRpb25GdW5jdGlvbikpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuY3VzdG9tQ29tcGxldGlvbkZ1bmN0aW9uKGN1cnJlbnQsIGFyZ3YpO1xuICAgICAgICAgICAgaWYgKGlzUHJvbWlzZShyZXN1bHQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdFxuICAgICAgICAgICAgICAgICAgICAudGhlbihsaXN0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaGltLnByb2Nlc3MubmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZG9uZShudWxsLCBsaXN0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hpbS5wcm9jZXNzLm5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbmUoZXJyLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkb25lKG51bGwsIHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNGYWxsYmFja0NvbXBsZXRpb25GdW5jdGlvbih0aGlzLmN1c3RvbUNvbXBsZXRpb25GdW5jdGlvbikpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmN1c3RvbUNvbXBsZXRpb25GdW5jdGlvbihjdXJyZW50LCBhcmd2LCAob25Db21wbGV0ZWQgPSBkb25lKSA9PiB0aGlzLmRlZmF1bHRDb21wbGV0aW9uKGFyZ3MsIGFyZ3YsIGN1cnJlbnQsIG9uQ29tcGxldGVkKSwgY29tcGxldGlvbnMgPT4ge1xuICAgICAgICAgICAgICAgIGRvbmUobnVsbCwgY29tcGxldGlvbnMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jdXN0b21Db21wbGV0aW9uRnVuY3Rpb24oY3VycmVudCwgYXJndiwgY29tcGxldGlvbnMgPT4ge1xuICAgICAgICAgICAgICAgIGRvbmUobnVsbCwgY29tcGxldGlvbnMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0Q29tcGxldGlvbihhcmdzLCBkb25lKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSBhcmdzLmxlbmd0aCA/IGFyZ3NbYXJncy5sZW5ndGggLSAxXSA6ICcnO1xuICAgICAgICBjb25zdCBhcmd2ID0gdGhpcy55YXJncy5wYXJzZShhcmdzLCB0cnVlKTtcbiAgICAgICAgY29uc3QgY29tcGxldGlvbkZ1bmN0aW9uID0gdGhpcy5jdXN0b21Db21wbGV0aW9uRnVuY3Rpb25cbiAgICAgICAgICAgID8gKGFyZ3YpID0+IHRoaXMuY3VzdG9tQ29tcGxldGlvbihhcmdzLCBhcmd2LCBjdXJyZW50LCBkb25lKVxuICAgICAgICAgICAgOiAoYXJndikgPT4gdGhpcy5kZWZhdWx0Q29tcGxldGlvbihhcmdzLCBhcmd2LCBjdXJyZW50LCBkb25lKTtcbiAgICAgICAgcmV0dXJuIGlzUHJvbWlzZShhcmd2KVxuICAgICAgICAgICAgPyBhcmd2LnRoZW4oY29tcGxldGlvbkZ1bmN0aW9uKVxuICAgICAgICAgICAgOiBjb21wbGV0aW9uRnVuY3Rpb24oYXJndik7XG4gICAgfVxuICAgIGdlbmVyYXRlQ29tcGxldGlvblNjcmlwdCgkMCwgY21kKSB7XG4gICAgICAgIGxldCBzY3JpcHQgPSB0aGlzLnpzaFNoZWxsXG4gICAgICAgICAgICA/IHRlbXBsYXRlcy5jb21wbGV0aW9uWnNoVGVtcGxhdGVcbiAgICAgICAgICAgIDogdGVtcGxhdGVzLmNvbXBsZXRpb25TaFRlbXBsYXRlO1xuICAgICAgICBjb25zdCBuYW1lID0gdGhpcy5zaGltLnBhdGguYmFzZW5hbWUoJDApO1xuICAgICAgICBpZiAoJDAubWF0Y2goL1xcLmpzJC8pKVxuICAgICAgICAgICAgJDAgPSBgLi8keyQwfWA7XG4gICAgICAgIHNjcmlwdCA9IHNjcmlwdC5yZXBsYWNlKC97e2FwcF9uYW1lfX0vZywgbmFtZSk7XG4gICAgICAgIHNjcmlwdCA9IHNjcmlwdC5yZXBsYWNlKC97e2NvbXBsZXRpb25fY29tbWFuZH19L2csIGNtZCk7XG4gICAgICAgIHJldHVybiBzY3JpcHQucmVwbGFjZSgve3thcHBfcGF0aH19L2csICQwKTtcbiAgICB9XG4gICAgcmVnaXN0ZXJGdW5jdGlvbihmbikge1xuICAgICAgICB0aGlzLmN1c3RvbUNvbXBsZXRpb25GdW5jdGlvbiA9IGZuO1xuICAgIH1cbiAgICBzZXRQYXJzZWQocGFyc2VkKSB7XG4gICAgICAgIHRoaXMuYWxpYXNlcyA9IHBhcnNlZC5hbGlhc2VzO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBjb21wbGV0aW9uKHlhcmdzLCB1c2FnZSwgY29tbWFuZCwgc2hpbSkge1xuICAgIHJldHVybiBuZXcgQ29tcGxldGlvbih5YXJncywgdXNhZ2UsIGNvbW1hbmQsIHNoaW0pO1xufVxuZnVuY3Rpb24gaXNTeW5jQ29tcGxldGlvbkZ1bmN0aW9uKGNvbXBsZXRpb25GdW5jdGlvbikge1xuICAgIHJldHVybiBjb21wbGV0aW9uRnVuY3Rpb24ubGVuZ3RoIDwgMztcbn1cbmZ1bmN0aW9uIGlzRmFsbGJhY2tDb21wbGV0aW9uRnVuY3Rpb24oY29tcGxldGlvbkZ1bmN0aW9uKSB7XG4gICAgcmV0dXJuIGNvbXBsZXRpb25GdW5jdGlvbi5sZW5ndGggPiAzO1xufVxuIiwgImV4cG9ydCBmdW5jdGlvbiBsZXZlbnNodGVpbihhLCBiKSB7XG4gICAgaWYgKGEubGVuZ3RoID09PSAwKVxuICAgICAgICByZXR1cm4gYi5sZW5ndGg7XG4gICAgaWYgKGIubGVuZ3RoID09PSAwKVxuICAgICAgICByZXR1cm4gYS5sZW5ndGg7XG4gICAgY29uc3QgbWF0cml4ID0gW107XG4gICAgbGV0IGk7XG4gICAgZm9yIChpID0gMDsgaSA8PSBiLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG1hdHJpeFtpXSA9IFtpXTtcbiAgICB9XG4gICAgbGV0IGo7XG4gICAgZm9yIChqID0gMDsgaiA8PSBhLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIG1hdHJpeFswXVtqXSA9IGo7XG4gICAgfVxuICAgIGZvciAoaSA9IDE7IGkgPD0gYi5sZW5ndGg7IGkrKykge1xuICAgICAgICBmb3IgKGogPSAxOyBqIDw9IGEubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGlmIChiLmNoYXJBdChpIC0gMSkgPT09IGEuY2hhckF0KGogLSAxKSkge1xuICAgICAgICAgICAgICAgIG1hdHJpeFtpXVtqXSA9IG1hdHJpeFtpIC0gMV1baiAtIDFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgPiAxICYmXG4gICAgICAgICAgICAgICAgICAgIGogPiAxICYmXG4gICAgICAgICAgICAgICAgICAgIGIuY2hhckF0KGkgLSAyKSA9PT0gYS5jaGFyQXQoaiAtIDEpICYmXG4gICAgICAgICAgICAgICAgICAgIGIuY2hhckF0KGkgLSAxKSA9PT0gYS5jaGFyQXQoaiAtIDIpKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hdHJpeFtpXVtqXSA9IG1hdHJpeFtpIC0gMl1baiAtIDJdICsgMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG1hdHJpeFtpXVtqXSA9IE1hdGgubWluKG1hdHJpeFtpIC0gMV1baiAtIDFdICsgMSwgTWF0aC5taW4obWF0cml4W2ldW2ogLSAxXSArIDEsIG1hdHJpeFtpIC0gMV1bal0gKyAxKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtYXRyaXhbYi5sZW5ndGhdW2EubGVuZ3RoXTtcbn1cbiIsICJpbXBvcnQgeyBhcmdzZXJ0IH0gZnJvbSAnLi9hcmdzZXJ0LmpzJztcbmltcG9ydCB7IGFzc2VydE5vdFN0cmljdEVxdWFsLCB9IGZyb20gJy4vdHlwaW5ncy9jb21tb24tdHlwZXMuanMnO1xuaW1wb3J0IHsgbGV2ZW5zaHRlaW4gYXMgZGlzdGFuY2UgfSBmcm9tICcuL3V0aWxzL2xldmVuc2h0ZWluLmpzJztcbmltcG9ydCB7IG9iakZpbHRlciB9IGZyb20gJy4vdXRpbHMvb2JqLWZpbHRlci5qcyc7XG5jb25zdCBzcGVjaWFsS2V5cyA9IFsnJDAnLCAnLS0nLCAnXyddO1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRpb24oeWFyZ3MsIHVzYWdlLCBzaGltKSB7XG4gICAgY29uc3QgX18gPSBzaGltLnkxOG4uX187XG4gICAgY29uc3QgX19uID0gc2hpbS55MThuLl9fbjtcbiAgICBjb25zdCBzZWxmID0ge307XG4gICAgc2VsZi5ub25PcHRpb25Db3VudCA9IGZ1bmN0aW9uIG5vbk9wdGlvbkNvdW50KGFyZ3YpIHtcbiAgICAgICAgY29uc3QgZGVtYW5kZWRDb21tYW5kcyA9IHlhcmdzLmdldERlbWFuZGVkQ29tbWFuZHMoKTtcbiAgICAgICAgY29uc3QgcG9zaXRpb25hbENvdW50ID0gYXJndi5fLmxlbmd0aCArIChhcmd2WyctLSddID8gYXJndlsnLS0nXS5sZW5ndGggOiAwKTtcbiAgICAgICAgY29uc3QgX3MgPSBwb3NpdGlvbmFsQ291bnQgLSB5YXJncy5nZXRJbnRlcm5hbE1ldGhvZHMoKS5nZXRDb250ZXh0KCkuY29tbWFuZHMubGVuZ3RoO1xuICAgICAgICBpZiAoZGVtYW5kZWRDb21tYW5kcy5fICYmXG4gICAgICAgICAgICAoX3MgPCBkZW1hbmRlZENvbW1hbmRzLl8ubWluIHx8IF9zID4gZGVtYW5kZWRDb21tYW5kcy5fLm1heCkpIHtcbiAgICAgICAgICAgIGlmIChfcyA8IGRlbWFuZGVkQ29tbWFuZHMuXy5taW4pIHtcbiAgICAgICAgICAgICAgICBpZiAoZGVtYW5kZWRDb21tYW5kcy5fLm1pbk1zZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHVzYWdlLmZhaWwoZGVtYW5kZWRDb21tYW5kcy5fLm1pbk1zZ1xuICAgICAgICAgICAgICAgICAgICAgICAgPyBkZW1hbmRlZENvbW1hbmRzLl8ubWluTXNnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcJDAvZywgX3MudG9TdHJpbmcoKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFwkMS8sIGRlbWFuZGVkQ29tbWFuZHMuXy5taW4udG9TdHJpbmcoKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB1c2FnZS5mYWlsKF9fbignTm90IGVub3VnaCBub24tb3B0aW9uIGFyZ3VtZW50czogZ290ICVzLCBuZWVkIGF0IGxlYXN0ICVzJywgJ05vdCBlbm91Z2ggbm9uLW9wdGlvbiBhcmd1bWVudHM6IGdvdCAlcywgbmVlZCBhdCBsZWFzdCAlcycsIF9zLCBfcy50b1N0cmluZygpLCBkZW1hbmRlZENvbW1hbmRzLl8ubWluLnRvU3RyaW5nKCkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChfcyA+IGRlbWFuZGVkQ29tbWFuZHMuXy5tYXgpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGVtYW5kZWRDb21tYW5kcy5fLm1heE1zZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHVzYWdlLmZhaWwoZGVtYW5kZWRDb21tYW5kcy5fLm1heE1zZ1xuICAgICAgICAgICAgICAgICAgICAgICAgPyBkZW1hbmRlZENvbW1hbmRzLl8ubWF4TXNnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcJDAvZywgX3MudG9TdHJpbmcoKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFwkMS8sIGRlbWFuZGVkQ29tbWFuZHMuXy5tYXgudG9TdHJpbmcoKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB1c2FnZS5mYWlsKF9fbignVG9vIG1hbnkgbm9uLW9wdGlvbiBhcmd1bWVudHM6IGdvdCAlcywgbWF4aW11bSBvZiAlcycsICdUb28gbWFueSBub24tb3B0aW9uIGFyZ3VtZW50czogZ290ICVzLCBtYXhpbXVtIG9mICVzJywgX3MsIF9zLnRvU3RyaW5nKCksIGRlbWFuZGVkQ29tbWFuZHMuXy5tYXgudG9TdHJpbmcoKSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgc2VsZi5wb3NpdGlvbmFsQ291bnQgPSBmdW5jdGlvbiBwb3NpdGlvbmFsQ291bnQocmVxdWlyZWQsIG9ic2VydmVkKSB7XG4gICAgICAgIGlmIChvYnNlcnZlZCA8IHJlcXVpcmVkKSB7XG4gICAgICAgICAgICB1c2FnZS5mYWlsKF9fbignTm90IGVub3VnaCBub24tb3B0aW9uIGFyZ3VtZW50czogZ290ICVzLCBuZWVkIGF0IGxlYXN0ICVzJywgJ05vdCBlbm91Z2ggbm9uLW9wdGlvbiBhcmd1bWVudHM6IGdvdCAlcywgbmVlZCBhdCBsZWFzdCAlcycsIG9ic2VydmVkLCBvYnNlcnZlZCArICcnLCByZXF1aXJlZCArICcnKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHNlbGYucmVxdWlyZWRBcmd1bWVudHMgPSBmdW5jdGlvbiByZXF1aXJlZEFyZ3VtZW50cyhhcmd2LCBkZW1hbmRlZE9wdGlvbnMpIHtcbiAgICAgICAgbGV0IG1pc3NpbmcgPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhkZW1hbmRlZE9wdGlvbnMpKSB7XG4gICAgICAgICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhcmd2LCBrZXkpIHx8XG4gICAgICAgICAgICAgICAgdHlwZW9mIGFyZ3Zba2V5XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBtaXNzaW5nID0gbWlzc2luZyB8fCB7fTtcbiAgICAgICAgICAgICAgICBtaXNzaW5nW2tleV0gPSBkZW1hbmRlZE9wdGlvbnNba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobWlzc2luZykge1xuICAgICAgICAgICAgY29uc3QgY3VzdG9tTXNncyA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMobWlzc2luZykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtc2cgPSBtaXNzaW5nW2tleV07XG4gICAgICAgICAgICAgICAgaWYgKG1zZyAmJiBjdXN0b21Nc2dzLmluZGV4T2YobXNnKSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY3VzdG9tTXNncy5wdXNoKG1zZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY3VzdG9tTXNnID0gY3VzdG9tTXNncy5sZW5ndGggPyBgXFxuJHtjdXN0b21Nc2dzLmpvaW4oJ1xcbicpfWAgOiAnJztcbiAgICAgICAgICAgIHVzYWdlLmZhaWwoX19uKCdNaXNzaW5nIHJlcXVpcmVkIGFyZ3VtZW50OiAlcycsICdNaXNzaW5nIHJlcXVpcmVkIGFyZ3VtZW50czogJXMnLCBPYmplY3Qua2V5cyhtaXNzaW5nKS5sZW5ndGgsIE9iamVjdC5rZXlzKG1pc3NpbmcpLmpvaW4oJywgJykgKyBjdXN0b21Nc2cpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgc2VsZi51bmtub3duQXJndW1lbnRzID0gZnVuY3Rpb24gdW5rbm93bkFyZ3VtZW50cyhhcmd2LCBhbGlhc2VzLCBwb3NpdGlvbmFsTWFwLCBpc0RlZmF1bHRDb21tYW5kLCBjaGVja1Bvc2l0aW9uYWxzID0gdHJ1ZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IGNvbW1hbmRLZXlzID0geWFyZ3NcbiAgICAgICAgICAgIC5nZXRJbnRlcm5hbE1ldGhvZHMoKVxuICAgICAgICAgICAgLmdldENvbW1hbmRJbnN0YW5jZSgpXG4gICAgICAgICAgICAuZ2V0Q29tbWFuZHMoKTtcbiAgICAgICAgY29uc3QgdW5rbm93biA9IFtdO1xuICAgICAgICBjb25zdCBjdXJyZW50Q29udGV4dCA9IHlhcmdzLmdldEludGVybmFsTWV0aG9kcygpLmdldENvbnRleHQoKTtcbiAgICAgICAgT2JqZWN0LmtleXMoYXJndikuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgaWYgKCFzcGVjaWFsS2V5cy5pbmNsdWRlcyhrZXkpICYmXG4gICAgICAgICAgICAgICAgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwb3NpdGlvbmFsTWFwLCBrZXkpICYmXG4gICAgICAgICAgICAgICAgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh5YXJncy5nZXRJbnRlcm5hbE1ldGhvZHMoKS5nZXRQYXJzZUNvbnRleHQoKSwga2V5KSAmJlxuICAgICAgICAgICAgICAgICFzZWxmLmlzVmFsaWRBbmRTb21lQWxpYXNJc05vdE5ldyhrZXksIGFsaWFzZXMpKSB7XG4gICAgICAgICAgICAgICAgdW5rbm93bi5wdXNoKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoY2hlY2tQb3NpdGlvbmFscyAmJlxuICAgICAgICAgICAgKGN1cnJlbnRDb250ZXh0LmNvbW1hbmRzLmxlbmd0aCA+IDAgfHxcbiAgICAgICAgICAgICAgICBjb21tYW5kS2V5cy5sZW5ndGggPiAwIHx8XG4gICAgICAgICAgICAgICAgaXNEZWZhdWx0Q29tbWFuZCkpIHtcbiAgICAgICAgICAgIGFyZ3YuXy5zbGljZShjdXJyZW50Q29udGV4dC5jb21tYW5kcy5sZW5ndGgpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWNvbW1hbmRLZXlzLmluY2x1ZGVzKCcnICsga2V5KSkge1xuICAgICAgICAgICAgICAgICAgICB1bmtub3duLnB1c2goJycgKyBrZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGVja1Bvc2l0aW9uYWxzKSB7XG4gICAgICAgICAgICBjb25zdCBkZW1hbmRlZENvbW1hbmRzID0geWFyZ3MuZ2V0RGVtYW5kZWRDb21tYW5kcygpO1xuICAgICAgICAgICAgY29uc3QgbWF4Tm9uT3B0RGVtYW5kZWQgPSAoKF9hID0gZGVtYW5kZWRDb21tYW5kcy5fKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubWF4KSB8fCAwO1xuICAgICAgICAgICAgY29uc3QgZXhwZWN0ZWQgPSBjdXJyZW50Q29udGV4dC5jb21tYW5kcy5sZW5ndGggKyBtYXhOb25PcHREZW1hbmRlZDtcbiAgICAgICAgICAgIGlmIChleHBlY3RlZCA8IGFyZ3YuXy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBhcmd2Ll8uc2xpY2UoZXhwZWN0ZWQpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICAgICAgICAgICAga2V5ID0gU3RyaW5nKGtleSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY3VycmVudENvbnRleHQuY29tbWFuZHMuaW5jbHVkZXMoa2V5KSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgIXVua25vd24uaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdW5rbm93bi5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodW5rbm93bi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHVzYWdlLmZhaWwoX19uKCdVbmtub3duIGFyZ3VtZW50OiAlcycsICdVbmtub3duIGFyZ3VtZW50czogJXMnLCB1bmtub3duLmxlbmd0aCwgdW5rbm93bi5tYXAocyA9PiAocy50cmltKCkgPyBzIDogYFwiJHtzfVwiYCkpLmpvaW4oJywgJykpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgc2VsZi51bmtub3duQ29tbWFuZHMgPSBmdW5jdGlvbiB1bmtub3duQ29tbWFuZHMoYXJndikge1xuICAgICAgICBjb25zdCBjb21tYW5kS2V5cyA9IHlhcmdzXG4gICAgICAgICAgICAuZ2V0SW50ZXJuYWxNZXRob2RzKClcbiAgICAgICAgICAgIC5nZXRDb21tYW5kSW5zdGFuY2UoKVxuICAgICAgICAgICAgLmdldENvbW1hbmRzKCk7XG4gICAgICAgIGNvbnN0IHVua25vd24gPSBbXTtcbiAgICAgICAgY29uc3QgY3VycmVudENvbnRleHQgPSB5YXJncy5nZXRJbnRlcm5hbE1ldGhvZHMoKS5nZXRDb250ZXh0KCk7XG4gICAgICAgIGlmIChjdXJyZW50Q29udGV4dC5jb21tYW5kcy5sZW5ndGggPiAwIHx8IGNvbW1hbmRLZXlzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGFyZ3YuXy5zbGljZShjdXJyZW50Q29udGV4dC5jb21tYW5kcy5sZW5ndGgpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWNvbW1hbmRLZXlzLmluY2x1ZGVzKCcnICsga2V5KSkge1xuICAgICAgICAgICAgICAgICAgICB1bmtub3duLnB1c2goJycgKyBrZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1bmtub3duLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHVzYWdlLmZhaWwoX19uKCdVbmtub3duIGNvbW1hbmQ6ICVzJywgJ1Vua25vd24gY29tbWFuZHM6ICVzJywgdW5rbm93bi5sZW5ndGgsIHVua25vd24uam9pbignLCAnKSkpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHNlbGYuaXNWYWxpZEFuZFNvbWVBbGlhc0lzTm90TmV3ID0gZnVuY3Rpb24gaXNWYWxpZEFuZFNvbWVBbGlhc0lzTm90TmV3KGtleSwgYWxpYXNlcykge1xuICAgICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhbGlhc2VzLCBrZXkpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV3QWxpYXNlcyA9IHlhcmdzLnBhcnNlZC5uZXdBbGlhc2VzO1xuICAgICAgICByZXR1cm4gW2tleSwgLi4uYWxpYXNlc1trZXldXS5zb21lKGEgPT4gIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuZXdBbGlhc2VzLCBhKSB8fCAhbmV3QWxpYXNlc1trZXldKTtcbiAgICB9O1xuICAgIHNlbGYubGltaXRlZENob2ljZXMgPSBmdW5jdGlvbiBsaW1pdGVkQ2hvaWNlcyhhcmd2KSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB5YXJncy5nZXRPcHRpb25zKCk7XG4gICAgICAgIGNvbnN0IGludmFsaWQgPSB7fTtcbiAgICAgICAgaWYgKCFPYmplY3Qua2V5cyhvcHRpb25zLmNob2ljZXMpLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgT2JqZWN0LmtleXMoYXJndikuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgaWYgKHNwZWNpYWxLZXlzLmluZGV4T2Yoa2V5KSA9PT0gLTEgJiZcbiAgICAgICAgICAgICAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3B0aW9ucy5jaG9pY2VzLCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgW10uY29uY2F0KGFyZ3Zba2V5XSkuZm9yRWFjaCh2YWx1ZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmNob2ljZXNba2V5XS5pbmRleE9mKHZhbHVlKSA9PT0gLTEgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGludmFsaWRba2V5XSA9IChpbnZhbGlkW2tleV0gfHwgW10pLmNvbmNhdCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGludmFsaWRLZXlzID0gT2JqZWN0LmtleXMoaW52YWxpZCk7XG4gICAgICAgIGlmICghaW52YWxpZEtleXMubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBsZXQgbXNnID0gX18oJ0ludmFsaWQgdmFsdWVzOicpO1xuICAgICAgICBpbnZhbGlkS2V5cy5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgICBtc2cgKz0gYFxcbiAgJHtfXygnQXJndW1lbnQ6ICVzLCBHaXZlbjogJXMsIENob2ljZXM6ICVzJywga2V5LCB1c2FnZS5zdHJpbmdpZmllZFZhbHVlcyhpbnZhbGlkW2tleV0pLCB1c2FnZS5zdHJpbmdpZmllZFZhbHVlcyhvcHRpb25zLmNob2ljZXNba2V5XSkpfWA7XG4gICAgICAgIH0pO1xuICAgICAgICB1c2FnZS5mYWlsKG1zZyk7XG4gICAgfTtcbiAgICBsZXQgaW1wbGllZCA9IHt9O1xuICAgIHNlbGYuaW1wbGllcyA9IGZ1bmN0aW9uIGltcGxpZXMoa2V5LCB2YWx1ZSkge1xuICAgICAgICBhcmdzZXJ0KCc8c3RyaW5nfG9iamVjdD4gW2FycmF5fG51bWJlcnxzdHJpbmddJywgW2tleSwgdmFsdWVdLCBhcmd1bWVudHMubGVuZ3RoKTtcbiAgICAgICAgaWYgKHR5cGVvZiBrZXkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhrZXkpLmZvckVhY2goayA9PiB7XG4gICAgICAgICAgICAgICAgc2VsZi5pbXBsaWVzKGssIGtleVtrXSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHlhcmdzLmdsb2JhbChrZXkpO1xuICAgICAgICAgICAgaWYgKCFpbXBsaWVkW2tleV0pIHtcbiAgICAgICAgICAgICAgICBpbXBsaWVkW2tleV0gPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHZhbHVlLmZvckVhY2goaSA9PiBzZWxmLmltcGxpZXMoa2V5LCBpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhc3NlcnROb3RTdHJpY3RFcXVhbCh2YWx1ZSwgdW5kZWZpbmVkLCBzaGltKTtcbiAgICAgICAgICAgICAgICBpbXBsaWVkW2tleV0ucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHNlbGYuZ2V0SW1wbGllZCA9IGZ1bmN0aW9uIGdldEltcGxpZWQoKSB7XG4gICAgICAgIHJldHVybiBpbXBsaWVkO1xuICAgIH07XG4gICAgZnVuY3Rpb24ga2V5RXhpc3RzKGFyZ3YsIHZhbCkge1xuICAgICAgICBjb25zdCBudW0gPSBOdW1iZXIodmFsKTtcbiAgICAgICAgdmFsID0gaXNOYU4obnVtKSA/IHZhbCA6IG51bTtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB2YWwgPSBhcmd2Ll8ubGVuZ3RoID49IHZhbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWwubWF0Y2goL14tLW5vLS4rLykpIHtcbiAgICAgICAgICAgIHZhbCA9IHZhbC5tYXRjaCgvXi0tbm8tKC4rKS8pWzFdO1xuICAgICAgICAgICAgdmFsID0gIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhcmd2LCB2YWwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFsID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGFyZ3YsIHZhbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICB9XG4gICAgc2VsZi5pbXBsaWNhdGlvbnMgPSBmdW5jdGlvbiBpbXBsaWNhdGlvbnMoYXJndikge1xuICAgICAgICBjb25zdCBpbXBseUZhaWwgPSBbXTtcbiAgICAgICAgT2JqZWN0LmtleXMoaW1wbGllZCkuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgb3JpZ0tleSA9IGtleTtcbiAgICAgICAgICAgIChpbXBsaWVkW2tleV0gfHwgW10pLmZvckVhY2godmFsdWUgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBrZXkgPSBvcmlnS2V5O1xuICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdWYWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIGtleSA9IGtleUV4aXN0cyhhcmd2LCBrZXkpO1xuICAgICAgICAgICAgICAgIHZhbHVlID0ga2V5RXhpc3RzKGFyZ3YsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBpZiAoa2V5ICYmICF2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpbXBseUZhaWwucHVzaChgICR7b3JpZ0tleX0gLT4gJHtvcmlnVmFsdWV9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoaW1wbHlGYWlsLmxlbmd0aCkge1xuICAgICAgICAgICAgbGV0IG1zZyA9IGAke19fKCdJbXBsaWNhdGlvbnMgZmFpbGVkOicpfVxcbmA7XG4gICAgICAgICAgICBpbXBseUZhaWwuZm9yRWFjaCh2YWx1ZSA9PiB7XG4gICAgICAgICAgICAgICAgbXNnICs9IHZhbHVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB1c2FnZS5mYWlsKG1zZyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGxldCBjb25mbGljdGluZyA9IHt9O1xuICAgIHNlbGYuY29uZmxpY3RzID0gZnVuY3Rpb24gY29uZmxpY3RzKGtleSwgdmFsdWUpIHtcbiAgICAgICAgYXJnc2VydCgnPHN0cmluZ3xvYmplY3Q+IFthcnJheXxzdHJpbmddJywgW2tleSwgdmFsdWVdLCBhcmd1bWVudHMubGVuZ3RoKTtcbiAgICAgICAgaWYgKHR5cGVvZiBrZXkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhrZXkpLmZvckVhY2goayA9PiB7XG4gICAgICAgICAgICAgICAgc2VsZi5jb25mbGljdHMoaywga2V5W2tdKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgeWFyZ3MuZ2xvYmFsKGtleSk7XG4gICAgICAgICAgICBpZiAoIWNvbmZsaWN0aW5nW2tleV0pIHtcbiAgICAgICAgICAgICAgICBjb25mbGljdGluZ1trZXldID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZS5mb3JFYWNoKGkgPT4gc2VsZi5jb25mbGljdHMoa2V5LCBpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25mbGljdGluZ1trZXldLnB1c2godmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBzZWxmLmdldENvbmZsaWN0aW5nID0gKCkgPT4gY29uZmxpY3Rpbmc7XG4gICAgc2VsZi5jb25mbGljdGluZyA9IGZ1bmN0aW9uIGNvbmZsaWN0aW5nRm4oYXJndikge1xuICAgICAgICBPYmplY3Qua2V5cyhhcmd2KS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgICBpZiAoY29uZmxpY3Rpbmdba2V5XSkge1xuICAgICAgICAgICAgICAgIGNvbmZsaWN0aW5nW2tleV0uZm9yRWFjaCh2YWx1ZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAmJiBhcmd2W2tleV0gIT09IHVuZGVmaW5lZCAmJiBhcmd2W3ZhbHVlXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2FnZS5mYWlsKF9fKCdBcmd1bWVudHMgJXMgYW5kICVzIGFyZSBtdXR1YWxseSBleGNsdXNpdmUnLCBrZXksIHZhbHVlKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh5YXJncy5nZXRJbnRlcm5hbE1ldGhvZHMoKS5nZXRQYXJzZXJDb25maWd1cmF0aW9uKClbJ3N0cmlwLWRhc2hlZCddKSB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhjb25mbGljdGluZykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbmZsaWN0aW5nW2tleV0uZm9yRWFjaCh2YWx1ZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgYXJndltzaGltLlBhcnNlci5jYW1lbENhc2Uoa2V5KV0gIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgYXJndltzaGltLlBhcnNlci5jYW1lbENhc2UodmFsdWUpXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2FnZS5mYWlsKF9fKCdBcmd1bWVudHMgJXMgYW5kICVzIGFyZSBtdXR1YWxseSBleGNsdXNpdmUnLCBrZXksIHZhbHVlKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBzZWxmLnJlY29tbWVuZENvbW1hbmRzID0gZnVuY3Rpb24gcmVjb21tZW5kQ29tbWFuZHMoY21kLCBwb3RlbnRpYWxDb21tYW5kcykge1xuICAgICAgICBjb25zdCB0aHJlc2hvbGQgPSAzO1xuICAgICAgICBwb3RlbnRpYWxDb21tYW5kcyA9IHBvdGVudGlhbENvbW1hbmRzLnNvcnQoKGEsIGIpID0+IGIubGVuZ3RoIC0gYS5sZW5ndGgpO1xuICAgICAgICBsZXQgcmVjb21tZW5kZWQgPSBudWxsO1xuICAgICAgICBsZXQgYmVzdERpc3RhbmNlID0gSW5maW5pdHk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBjYW5kaWRhdGU7IChjYW5kaWRhdGUgPSBwb3RlbnRpYWxDb21tYW5kc1tpXSkgIT09IHVuZGVmaW5lZDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBkID0gZGlzdGFuY2UoY21kLCBjYW5kaWRhdGUpO1xuICAgICAgICAgICAgaWYgKGQgPD0gdGhyZXNob2xkICYmIGQgPCBiZXN0RGlzdGFuY2UpIHtcbiAgICAgICAgICAgICAgICBiZXN0RGlzdGFuY2UgPSBkO1xuICAgICAgICAgICAgICAgIHJlY29tbWVuZGVkID0gY2FuZGlkYXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChyZWNvbW1lbmRlZClcbiAgICAgICAgICAgIHVzYWdlLmZhaWwoX18oJ0RpZCB5b3UgbWVhbiAlcz8nLCByZWNvbW1lbmRlZCkpO1xuICAgIH07XG4gICAgc2VsZi5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0KGxvY2FsTG9va3VwKSB7XG4gICAgICAgIGltcGxpZWQgPSBvYmpGaWx0ZXIoaW1wbGllZCwgayA9PiAhbG9jYWxMb29rdXBba10pO1xuICAgICAgICBjb25mbGljdGluZyA9IG9iakZpbHRlcihjb25mbGljdGluZywgayA9PiAhbG9jYWxMb29rdXBba10pO1xuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICB9O1xuICAgIGNvbnN0IGZyb3plbnMgPSBbXTtcbiAgICBzZWxmLmZyZWV6ZSA9IGZ1bmN0aW9uIGZyZWV6ZSgpIHtcbiAgICAgICAgZnJvemVucy5wdXNoKHtcbiAgICAgICAgICAgIGltcGxpZWQsXG4gICAgICAgICAgICBjb25mbGljdGluZyxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBzZWxmLnVuZnJlZXplID0gZnVuY3Rpb24gdW5mcmVlemUoKSB7XG4gICAgICAgIGNvbnN0IGZyb3plbiA9IGZyb3plbnMucG9wKCk7XG4gICAgICAgIGFzc2VydE5vdFN0cmljdEVxdWFsKGZyb3plbiwgdW5kZWZpbmVkLCBzaGltKTtcbiAgICAgICAgKHsgaW1wbGllZCwgY29uZmxpY3RpbmcgfSA9IGZyb3plbik7XG4gICAgfTtcbiAgICByZXR1cm4gc2VsZjtcbn1cbiIsICJpbXBvcnQgeyBZRXJyb3IgfSBmcm9tICcuLi95ZXJyb3IuanMnO1xubGV0IHByZXZpb3VzbHlWaXNpdGVkQ29uZmlncyA9IFtdO1xubGV0IHNoaW07XG5leHBvcnQgZnVuY3Rpb24gYXBwbHlFeHRlbmRzKGNvbmZpZywgY3dkLCBtZXJnZUV4dGVuZHMsIF9zaGltKSB7XG4gICAgc2hpbSA9IF9zaGltO1xuICAgIGxldCBkZWZhdWx0Q29uZmlnID0ge307XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChjb25maWcsICdleHRlbmRzJykpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjb25maWcuZXh0ZW5kcyAhPT0gJ3N0cmluZycpXG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdENvbmZpZztcbiAgICAgICAgY29uc3QgaXNQYXRoID0gL1xcLmpzb258XFwuLipyYyQvLnRlc3QoY29uZmlnLmV4dGVuZHMpO1xuICAgICAgICBsZXQgcGF0aFRvRGVmYXVsdCA9IG51bGw7XG4gICAgICAgIGlmICghaXNQYXRoKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHBhdGhUb0RlZmF1bHQgPSByZXF1aXJlLnJlc29sdmUoY29uZmlnLmV4dGVuZHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKF9lcnIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uZmlnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGF0aFRvRGVmYXVsdCA9IGdldFBhdGhUb0RlZmF1bHRDb25maWcoY3dkLCBjb25maWcuZXh0ZW5kcyk7XG4gICAgICAgIH1cbiAgICAgICAgY2hlY2tGb3JDaXJjdWxhckV4dGVuZHMocGF0aFRvRGVmYXVsdCk7XG4gICAgICAgIHByZXZpb3VzbHlWaXNpdGVkQ29uZmlncy5wdXNoKHBhdGhUb0RlZmF1bHQpO1xuICAgICAgICBkZWZhdWx0Q29uZmlnID0gaXNQYXRoXG4gICAgICAgICAgICA/IEpTT04ucGFyc2Uoc2hpbS5yZWFkRmlsZVN5bmMocGF0aFRvRGVmYXVsdCwgJ3V0ZjgnKSlcbiAgICAgICAgICAgIDogcmVxdWlyZShjb25maWcuZXh0ZW5kcyk7XG4gICAgICAgIGRlbGV0ZSBjb25maWcuZXh0ZW5kcztcbiAgICAgICAgZGVmYXVsdENvbmZpZyA9IGFwcGx5RXh0ZW5kcyhkZWZhdWx0Q29uZmlnLCBzaGltLnBhdGguZGlybmFtZShwYXRoVG9EZWZhdWx0KSwgbWVyZ2VFeHRlbmRzLCBzaGltKTtcbiAgICB9XG4gICAgcHJldmlvdXNseVZpc2l0ZWRDb25maWdzID0gW107XG4gICAgcmV0dXJuIG1lcmdlRXh0ZW5kc1xuICAgICAgICA/IG1lcmdlRGVlcChkZWZhdWx0Q29uZmlnLCBjb25maWcpXG4gICAgICAgIDogT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdENvbmZpZywgY29uZmlnKTtcbn1cbmZ1bmN0aW9uIGNoZWNrRm9yQ2lyY3VsYXJFeHRlbmRzKGNmZ1BhdGgpIHtcbiAgICBpZiAocHJldmlvdXNseVZpc2l0ZWRDb25maWdzLmluZGV4T2YoY2ZnUGF0aCkgPiAtMSkge1xuICAgICAgICB0aHJvdyBuZXcgWUVycm9yKGBDaXJjdWxhciBleHRlbmRlZCBjb25maWd1cmF0aW9uczogJyR7Y2ZnUGF0aH0nLmApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldFBhdGhUb0RlZmF1bHRDb25maWcoY3dkLCBwYXRoVG9FeHRlbmQpIHtcbiAgICByZXR1cm4gc2hpbS5wYXRoLnJlc29sdmUoY3dkLCBwYXRoVG9FeHRlbmQpO1xufVxuZnVuY3Rpb24gbWVyZ2VEZWVwKGNvbmZpZzEsIGNvbmZpZzIpIHtcbiAgICBjb25zdCB0YXJnZXQgPSB7fTtcbiAgICBmdW5jdGlvbiBpc09iamVjdChvYmopIHtcbiAgICAgICAgcmV0dXJuIG9iaiAmJiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiAhQXJyYXkuaXNBcnJheShvYmopO1xuICAgIH1cbiAgICBPYmplY3QuYXNzaWduKHRhcmdldCwgY29uZmlnMSk7XG4gICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMoY29uZmlnMikpIHtcbiAgICAgICAgaWYgKGlzT2JqZWN0KGNvbmZpZzJba2V5XSkgJiYgaXNPYmplY3QodGFyZ2V0W2tleV0pKSB7XG4gICAgICAgICAgICB0YXJnZXRba2V5XSA9IG1lcmdlRGVlcChjb25maWcxW2tleV0sIGNvbmZpZzJba2V5XSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0YXJnZXRba2V5XSA9IGNvbmZpZzJba2V5XTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xufVxuIiwgInZhciBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0ID0gKHRoaXMgJiYgdGhpcy5fX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KSB8fCBmdW5jdGlvbiAocmVjZWl2ZXIsIHN0YXRlLCB2YWx1ZSwga2luZCwgZikge1xuICAgIGlmIChraW5kID09PSBcIm1cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgbWV0aG9kIGlzIG5vdCB3cml0YWJsZVwiKTtcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7XG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgICByZXR1cm4gKGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyLCB2YWx1ZSkgOiBmID8gZi52YWx1ZSA9IHZhbHVlIDogc3RhdGUuc2V0KHJlY2VpdmVyLCB2YWx1ZSkpLCB2YWx1ZTtcbn07XG52YXIgX19jbGFzc1ByaXZhdGVGaWVsZEdldCA9ICh0aGlzICYmIHRoaXMuX19jbGFzc1ByaXZhdGVGaWVsZEdldCkgfHwgZnVuY3Rpb24gKHJlY2VpdmVyLCBzdGF0ZSwga2luZCwgZikge1xuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgICByZXR1cm4ga2luZCA9PT0gXCJtXCIgPyBmIDoga2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIpIDogZiA/IGYudmFsdWUgOiBzdGF0ZS5nZXQocmVjZWl2ZXIpO1xufTtcbnZhciBfWWFyZ3NJbnN0YW5jZV9jb21tYW5kLCBfWWFyZ3NJbnN0YW5jZV9jd2QsIF9ZYXJnc0luc3RhbmNlX2NvbnRleHQsIF9ZYXJnc0luc3RhbmNlX2NvbXBsZXRpb24sIF9ZYXJnc0luc3RhbmNlX2NvbXBsZXRpb25Db21tYW5kLCBfWWFyZ3NJbnN0YW5jZV9kZWZhdWx0U2hvd0hpZGRlbk9wdCwgX1lhcmdzSW5zdGFuY2VfZXhpdEVycm9yLCBfWWFyZ3NJbnN0YW5jZV9kZXRlY3RMb2NhbGUsIF9ZYXJnc0luc3RhbmNlX2VtaXR0ZWRXYXJuaW5ncywgX1lhcmdzSW5zdGFuY2VfZXhpdFByb2Nlc3MsIF9ZYXJnc0luc3RhbmNlX2Zyb3plbnMsIF9ZYXJnc0luc3RhbmNlX2dsb2JhbE1pZGRsZXdhcmUsIF9ZYXJnc0luc3RhbmNlX2dyb3VwcywgX1lhcmdzSW5zdGFuY2VfaGFzT3V0cHV0LCBfWWFyZ3NJbnN0YW5jZV9oZWxwT3B0LCBfWWFyZ3NJbnN0YW5jZV9pc0dsb2JhbENvbnRleHQsIF9ZYXJnc0luc3RhbmNlX2xvZ2dlciwgX1lhcmdzSW5zdGFuY2Vfb3V0cHV0LCBfWWFyZ3NJbnN0YW5jZV9vcHRpb25zLCBfWWFyZ3NJbnN0YW5jZV9wYXJlbnRSZXF1aXJlLCBfWWFyZ3NJbnN0YW5jZV9wYXJzZXJDb25maWcsIF9ZYXJnc0luc3RhbmNlX3BhcnNlRm4sIF9ZYXJnc0luc3RhbmNlX3BhcnNlQ29udGV4dCwgX1lhcmdzSW5zdGFuY2VfcGtncywgX1lhcmdzSW5zdGFuY2VfcHJlc2VydmVkR3JvdXBzLCBfWWFyZ3NJbnN0YW5jZV9wcm9jZXNzQXJncywgX1lhcmdzSW5zdGFuY2VfcmVjb21tZW5kQ29tbWFuZHMsIF9ZYXJnc0luc3RhbmNlX3NoaW0sIF9ZYXJnc0luc3RhbmNlX3N0cmljdCwgX1lhcmdzSW5zdGFuY2Vfc3RyaWN0Q29tbWFuZHMsIF9ZYXJnc0luc3RhbmNlX3N0cmljdE9wdGlvbnMsIF9ZYXJnc0luc3RhbmNlX3VzYWdlLCBfWWFyZ3NJbnN0YW5jZV91c2FnZUNvbmZpZywgX1lhcmdzSW5zdGFuY2VfdmVyc2lvbk9wdCwgX1lhcmdzSW5zdGFuY2VfdmFsaWRhdGlvbjtcbmltcG9ydCB7IGNvbW1hbmQgYXMgQ29tbWFuZCwgfSBmcm9tICcuL2NvbW1hbmQuanMnO1xuaW1wb3J0IHsgYXNzZXJ0Tm90U3RyaWN0RXF1YWwsIGFzc2VydFNpbmdsZUtleSwgb2JqZWN0S2V5cywgfSBmcm9tICcuL3R5cGluZ3MvY29tbW9uLXR5cGVzLmpzJztcbmltcG9ydCB7IFlFcnJvciB9IGZyb20gJy4veWVycm9yLmpzJztcbmltcG9ydCB7IHVzYWdlIGFzIFVzYWdlIH0gZnJvbSAnLi91c2FnZS5qcyc7XG5pbXBvcnQgeyBhcmdzZXJ0IH0gZnJvbSAnLi9hcmdzZXJ0LmpzJztcbmltcG9ydCB7IGNvbXBsZXRpb24gYXMgQ29tcGxldGlvbiwgfSBmcm9tICcuL2NvbXBsZXRpb24uanMnO1xuaW1wb3J0IHsgdmFsaWRhdGlvbiBhcyBWYWxpZGF0aW9uLCB9IGZyb20gJy4vdmFsaWRhdGlvbi5qcyc7XG5pbXBvcnQgeyBvYmpGaWx0ZXIgfSBmcm9tICcuL3V0aWxzL29iai1maWx0ZXIuanMnO1xuaW1wb3J0IHsgYXBwbHlFeHRlbmRzIH0gZnJvbSAnLi91dGlscy9hcHBseS1leHRlbmRzLmpzJztcbmltcG9ydCB7IGFwcGx5TWlkZGxld2FyZSwgR2xvYmFsTWlkZGxld2FyZSwgfSBmcm9tICcuL21pZGRsZXdhcmUuanMnO1xuaW1wb3J0IHsgaXNQcm9taXNlIH0gZnJvbSAnLi91dGlscy9pcy1wcm9taXNlLmpzJztcbmltcG9ydCB7IG1heWJlQXN5bmNSZXN1bHQgfSBmcm9tICcuL3V0aWxzL21heWJlLWFzeW5jLXJlc3VsdC5qcyc7XG5pbXBvcnQgc2V0QmxvY2tpbmcgZnJvbSAnLi91dGlscy9zZXQtYmxvY2tpbmcuanMnO1xuZXhwb3J0IGZ1bmN0aW9uIFlhcmdzRmFjdG9yeShfc2hpbSkge1xuICAgIHJldHVybiAocHJvY2Vzc0FyZ3MgPSBbXSwgY3dkID0gX3NoaW0ucHJvY2Vzcy5jd2QoKSwgcGFyZW50UmVxdWlyZSkgPT4ge1xuICAgICAgICBjb25zdCB5YXJncyA9IG5ldyBZYXJnc0luc3RhbmNlKHByb2Nlc3NBcmdzLCBjd2QsIHBhcmVudFJlcXVpcmUsIF9zaGltKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHlhcmdzLCAnYXJndicsIHtcbiAgICAgICAgICAgIGdldDogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB5YXJncy5wYXJzZSgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICB5YXJncy5oZWxwKCk7XG4gICAgICAgIHlhcmdzLnZlcnNpb24oKTtcbiAgICAgICAgcmV0dXJuIHlhcmdzO1xuICAgIH07XG59XG5jb25zdCBrQ29weURvdWJsZURhc2ggPSBTeW1ib2woJ2NvcHlEb3VibGVEYXNoJyk7XG5jb25zdCBrQ3JlYXRlTG9nZ2VyID0gU3ltYm9sKCdjb3B5RG91YmxlRGFzaCcpO1xuY29uc3Qga0RlbGV0ZUZyb21QYXJzZXJIaW50T2JqZWN0ID0gU3ltYm9sKCdkZWxldGVGcm9tUGFyc2VySGludE9iamVjdCcpO1xuY29uc3Qga0VtaXRXYXJuaW5nID0gU3ltYm9sKCdlbWl0V2FybmluZycpO1xuY29uc3Qga0ZyZWV6ZSA9IFN5bWJvbCgnZnJlZXplJyk7XG5jb25zdCBrR2V0RG9sbGFyWmVybyA9IFN5bWJvbCgnZ2V0RG9sbGFyWmVybycpO1xuY29uc3Qga0dldFBhcnNlckNvbmZpZ3VyYXRpb24gPSBTeW1ib2woJ2dldFBhcnNlckNvbmZpZ3VyYXRpb24nKTtcbmNvbnN0IGtHZXRVc2FnZUNvbmZpZ3VyYXRpb24gPSBTeW1ib2woJ2dldFVzYWdlQ29uZmlndXJhdGlvbicpO1xuY29uc3Qga0d1ZXNzTG9jYWxlID0gU3ltYm9sKCdndWVzc0xvY2FsZScpO1xuY29uc3Qga0d1ZXNzVmVyc2lvbiA9IFN5bWJvbCgnZ3Vlc3NWZXJzaW9uJyk7XG5jb25zdCBrUGFyc2VQb3NpdGlvbmFsTnVtYmVycyA9IFN5bWJvbCgncGFyc2VQb3NpdGlvbmFsTnVtYmVycycpO1xuY29uc3Qga1BrZ1VwID0gU3ltYm9sKCdwa2dVcCcpO1xuY29uc3Qga1BvcHVsYXRlUGFyc2VySGludEFycmF5ID0gU3ltYm9sKCdwb3B1bGF0ZVBhcnNlckhpbnRBcnJheScpO1xuY29uc3Qga1BvcHVsYXRlUGFyc2VySGludFNpbmdsZVZhbHVlRGljdGlvbmFyeSA9IFN5bWJvbCgncG9wdWxhdGVQYXJzZXJIaW50U2luZ2xlVmFsdWVEaWN0aW9uYXJ5Jyk7XG5jb25zdCBrUG9wdWxhdGVQYXJzZXJIaW50QXJyYXlEaWN0aW9uYXJ5ID0gU3ltYm9sKCdwb3B1bGF0ZVBhcnNlckhpbnRBcnJheURpY3Rpb25hcnknKTtcbmNvbnN0IGtQb3B1bGF0ZVBhcnNlckhpbnREaWN0aW9uYXJ5ID0gU3ltYm9sKCdwb3B1bGF0ZVBhcnNlckhpbnREaWN0aW9uYXJ5Jyk7XG5jb25zdCBrU2FuaXRpemVLZXkgPSBTeW1ib2woJ3Nhbml0aXplS2V5Jyk7XG5jb25zdCBrU2V0S2V5ID0gU3ltYm9sKCdzZXRLZXknKTtcbmNvbnN0IGtVbmZyZWV6ZSA9IFN5bWJvbCgndW5mcmVlemUnKTtcbmNvbnN0IGtWYWxpZGF0ZUFzeW5jID0gU3ltYm9sKCd2YWxpZGF0ZUFzeW5jJyk7XG5jb25zdCBrR2V0Q29tbWFuZEluc3RhbmNlID0gU3ltYm9sKCdnZXRDb21tYW5kSW5zdGFuY2UnKTtcbmNvbnN0IGtHZXRDb250ZXh0ID0gU3ltYm9sKCdnZXRDb250ZXh0Jyk7XG5jb25zdCBrR2V0SGFzT3V0cHV0ID0gU3ltYm9sKCdnZXRIYXNPdXRwdXQnKTtcbmNvbnN0IGtHZXRMb2dnZXJJbnN0YW5jZSA9IFN5bWJvbCgnZ2V0TG9nZ2VySW5zdGFuY2UnKTtcbmNvbnN0IGtHZXRQYXJzZUNvbnRleHQgPSBTeW1ib2woJ2dldFBhcnNlQ29udGV4dCcpO1xuY29uc3Qga0dldFVzYWdlSW5zdGFuY2UgPSBTeW1ib2woJ2dldFVzYWdlSW5zdGFuY2UnKTtcbmNvbnN0IGtHZXRWYWxpZGF0aW9uSW5zdGFuY2UgPSBTeW1ib2woJ2dldFZhbGlkYXRpb25JbnN0YW5jZScpO1xuY29uc3Qga0hhc1BhcnNlQ2FsbGJhY2sgPSBTeW1ib2woJ2hhc1BhcnNlQ2FsbGJhY2snKTtcbmNvbnN0IGtJc0dsb2JhbENvbnRleHQgPSBTeW1ib2woJ2lzR2xvYmFsQ29udGV4dCcpO1xuY29uc3Qga1Bvc3RQcm9jZXNzID0gU3ltYm9sKCdwb3N0UHJvY2VzcycpO1xuY29uc3Qga1JlYmFzZSA9IFN5bWJvbCgncmViYXNlJyk7XG5jb25zdCBrUmVzZXQgPSBTeW1ib2woJ3Jlc2V0Jyk7XG5jb25zdCBrUnVuWWFyZ3NQYXJzZXJBbmRFeGVjdXRlQ29tbWFuZHMgPSBTeW1ib2woJ3J1bllhcmdzUGFyc2VyQW5kRXhlY3V0ZUNvbW1hbmRzJyk7XG5jb25zdCBrUnVuVmFsaWRhdGlvbiA9IFN5bWJvbCgncnVuVmFsaWRhdGlvbicpO1xuY29uc3Qga1NldEhhc091dHB1dCA9IFN5bWJvbCgnc2V0SGFzT3V0cHV0Jyk7XG5jb25zdCBrVHJhY2tNYW51YWxseVNldEtleXMgPSBTeW1ib2woJ2tUcmFja01hbnVhbGx5U2V0S2V5cycpO1xuZXhwb3J0IGNsYXNzIFlhcmdzSW5zdGFuY2Uge1xuICAgIGNvbnN0cnVjdG9yKHByb2Nlc3NBcmdzID0gW10sIGN3ZCwgcGFyZW50UmVxdWlyZSwgc2hpbSkge1xuICAgICAgICB0aGlzLmN1c3RvbVNjcmlwdE5hbWUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wYXJzZWQgPSBmYWxzZTtcbiAgICAgICAgX1lhcmdzSW5zdGFuY2VfY29tbWFuZC5zZXQodGhpcywgdm9pZCAwKTtcbiAgICAgICAgX1lhcmdzSW5zdGFuY2VfY3dkLnNldCh0aGlzLCB2b2lkIDApO1xuICAgICAgICBfWWFyZ3NJbnN0YW5jZV9jb250ZXh0LnNldCh0aGlzLCB7IGNvbW1hbmRzOiBbXSwgZnVsbENvbW1hbmRzOiBbXSB9KTtcbiAgICAgICAgX1lhcmdzSW5zdGFuY2VfY29tcGxldGlvbi5zZXQodGhpcywgbnVsbCk7XG4gICAgICAgIF9ZYXJnc0luc3RhbmNlX2NvbXBsZXRpb25Db21tYW5kLnNldCh0aGlzLCBudWxsKTtcbiAgICAgICAgX1lhcmdzSW5zdGFuY2VfZGVmYXVsdFNob3dIaWRkZW5PcHQuc2V0KHRoaXMsICdzaG93LWhpZGRlbicpO1xuICAgICAgICBfWWFyZ3NJbnN0YW5jZV9leGl0RXJyb3Iuc2V0KHRoaXMsIG51bGwpO1xuICAgICAgICBfWWFyZ3NJbnN0YW5jZV9kZXRlY3RMb2NhbGUuc2V0KHRoaXMsIHRydWUpO1xuICAgICAgICBfWWFyZ3NJbnN0YW5jZV9lbWl0dGVkV2FybmluZ3Muc2V0KHRoaXMsIHt9KTtcbiAgICAgICAgX1lhcmdzSW5zdGFuY2VfZXhpdFByb2Nlc3Muc2V0KHRoaXMsIHRydWUpO1xuICAgICAgICBfWWFyZ3NJbnN0YW5jZV9mcm96ZW5zLnNldCh0aGlzLCBbXSk7XG4gICAgICAgIF9ZYXJnc0luc3RhbmNlX2dsb2JhbE1pZGRsZXdhcmUuc2V0KHRoaXMsIHZvaWQgMCk7XG4gICAgICAgIF9ZYXJnc0luc3RhbmNlX2dyb3Vwcy5zZXQodGhpcywge30pO1xuICAgICAgICBfWWFyZ3NJbnN0YW5jZV9oYXNPdXRwdXQuc2V0KHRoaXMsIGZhbHNlKTtcbiAgICAgICAgX1lhcmdzSW5zdGFuY2VfaGVscE9wdC5zZXQodGhpcywgbnVsbCk7XG4gICAgICAgIF9ZYXJnc0luc3RhbmNlX2lzR2xvYmFsQ29udGV4dC5zZXQodGhpcywgdHJ1ZSk7XG4gICAgICAgIF9ZYXJnc0luc3RhbmNlX2xvZ2dlci5zZXQodGhpcywgdm9pZCAwKTtcbiAgICAgICAgX1lhcmdzSW5zdGFuY2Vfb3V0cHV0LnNldCh0aGlzLCAnJyk7XG4gICAgICAgIF9ZYXJnc0luc3RhbmNlX29wdGlvbnMuc2V0KHRoaXMsIHZvaWQgMCk7XG4gICAgICAgIF9ZYXJnc0luc3RhbmNlX3BhcmVudFJlcXVpcmUuc2V0KHRoaXMsIHZvaWQgMCk7XG4gICAgICAgIF9ZYXJnc0luc3RhbmNlX3BhcnNlckNvbmZpZy5zZXQodGhpcywge30pO1xuICAgICAgICBfWWFyZ3NJbnN0YW5jZV9wYXJzZUZuLnNldCh0aGlzLCBudWxsKTtcbiAgICAgICAgX1lhcmdzSW5zdGFuY2VfcGFyc2VDb250ZXh0LnNldCh0aGlzLCBudWxsKTtcbiAgICAgICAgX1lhcmdzSW5zdGFuY2VfcGtncy5zZXQodGhpcywge30pO1xuICAgICAgICBfWWFyZ3NJbnN0YW5jZV9wcmVzZXJ2ZWRHcm91cHMuc2V0KHRoaXMsIHt9KTtcbiAgICAgICAgX1lhcmdzSW5zdGFuY2VfcHJvY2Vzc0FyZ3Muc2V0KHRoaXMsIHZvaWQgMCk7XG4gICAgICAgIF9ZYXJnc0luc3RhbmNlX3JlY29tbWVuZENvbW1hbmRzLnNldCh0aGlzLCBmYWxzZSk7XG4gICAgICAgIF9ZYXJnc0luc3RhbmNlX3NoaW0uc2V0KHRoaXMsIHZvaWQgMCk7XG4gICAgICAgIF9ZYXJnc0luc3RhbmNlX3N0cmljdC5zZXQodGhpcywgZmFsc2UpO1xuICAgICAgICBfWWFyZ3NJbnN0YW5jZV9zdHJpY3RDb21tYW5kcy5zZXQodGhpcywgZmFsc2UpO1xuICAgICAgICBfWWFyZ3NJbnN0YW5jZV9zdHJpY3RPcHRpb25zLnNldCh0aGlzLCBmYWxzZSk7XG4gICAgICAgIF9ZYXJnc0luc3RhbmNlX3VzYWdlLnNldCh0aGlzLCB2b2lkIDApO1xuICAgICAgICBfWWFyZ3NJbnN0YW5jZV91c2FnZUNvbmZpZy5zZXQodGhpcywge30pO1xuICAgICAgICBfWWFyZ3NJbnN0YW5jZV92ZXJzaW9uT3B0LnNldCh0aGlzLCBudWxsKTtcbiAgICAgICAgX1lhcmdzSW5zdGFuY2VfdmFsaWRhdGlvbi5zZXQodGhpcywgdm9pZCAwKTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9zaGltLCBzaGltLCBcImZcIik7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfcHJvY2Vzc0FyZ3MsIHByb2Nlc3NBcmdzLCBcImZcIik7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfY3dkLCBjd2QsIFwiZlwiKTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9wYXJlbnRSZXF1aXJlLCBwYXJlbnRSZXF1aXJlLCBcImZcIik7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfZ2xvYmFsTWlkZGxld2FyZSwgbmV3IEdsb2JhbE1pZGRsZXdhcmUodGhpcyksIFwiZlwiKTtcbiAgICAgICAgdGhpcy4kMCA9IHRoaXNba0dldERvbGxhclplcm9dKCk7XG4gICAgICAgIHRoaXNba1Jlc2V0XSgpO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX2NvbW1hbmQsIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfY29tbWFuZCwgXCJmXCIpLCBcImZcIik7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfdXNhZ2UsIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfdXNhZ2UsIFwiZlwiKSwgXCJmXCIpO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3ZhbGlkYXRpb24sIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfdmFsaWRhdGlvbiwgXCJmXCIpLCBcImZcIik7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX1lhcmdzSW5zdGFuY2Vfb3B0aW9ucywgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9vcHRpb25zLCBcImZcIiksIFwiZlwiKTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9vcHRpb25zLCBcImZcIikuc2hvd0hpZGRlbk9wdCA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfZGVmYXVsdFNob3dIaWRkZW5PcHQsIFwiZlwiKTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9sb2dnZXIsIHRoaXNba0NyZWF0ZUxvZ2dlcl0oKSwgXCJmXCIpO1xuICAgIH1cbiAgICBhZGRIZWxwT3B0KG9wdCwgbXNnKSB7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRIZWxwT3B0ID0gJ2hlbHAnO1xuICAgICAgICBhcmdzZXJ0KCdbc3RyaW5nfGJvb2xlYW5dIFtzdHJpbmddJywgW29wdCwgbXNnXSwgYXJndW1lbnRzLmxlbmd0aCk7XG4gICAgICAgIGlmIChfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX2hlbHBPcHQsIFwiZlwiKSkge1xuICAgICAgICAgICAgdGhpc1trRGVsZXRlRnJvbVBhcnNlckhpbnRPYmplY3RdKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfaGVscE9wdCwgXCJmXCIpKTtcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfaGVscE9wdCwgbnVsbCwgXCJmXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHQgPT09IGZhbHNlICYmIG1zZyA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfaGVscE9wdCwgdHlwZW9mIG9wdCA9PT0gJ3N0cmluZycgPyBvcHQgOiBkZWZhdWx0SGVscE9wdCwgXCJmXCIpO1xuICAgICAgICB0aGlzLmJvb2xlYW4oX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9oZWxwT3B0LCBcImZcIikpO1xuICAgICAgICB0aGlzLmRlc2NyaWJlKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfaGVscE9wdCwgXCJmXCIpLCBtc2cgfHwgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV91c2FnZSwgXCJmXCIpLmRlZmVyWTE4bkxvb2t1cCgnU2hvdyBoZWxwJykpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgaGVscChvcHQsIG1zZykge1xuICAgICAgICByZXR1cm4gdGhpcy5hZGRIZWxwT3B0KG9wdCwgbXNnKTtcbiAgICB9XG4gICAgYWRkU2hvd0hpZGRlbk9wdChvcHQsIG1zZykge1xuICAgICAgICBhcmdzZXJ0KCdbc3RyaW5nfGJvb2xlYW5dIFtzdHJpbmddJywgW29wdCwgbXNnXSwgYXJndW1lbnRzLmxlbmd0aCk7XG4gICAgICAgIGlmIChvcHQgPT09IGZhbHNlICYmIG1zZyA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIGNvbnN0IHNob3dIaWRkZW5PcHQgPSB0eXBlb2Ygb3B0ID09PSAnc3RyaW5nJyA/IG9wdCA6IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfZGVmYXVsdFNob3dIaWRkZW5PcHQsIFwiZlwiKTtcbiAgICAgICAgdGhpcy5ib29sZWFuKHNob3dIaWRkZW5PcHQpO1xuICAgICAgICB0aGlzLmRlc2NyaWJlKHNob3dIaWRkZW5PcHQsIG1zZyB8fCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3VzYWdlLCBcImZcIikuZGVmZXJZMThuTG9va3VwKCdTaG93IGhpZGRlbiBvcHRpb25zJykpO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX29wdGlvbnMsIFwiZlwiKS5zaG93SGlkZGVuT3B0ID0gc2hvd0hpZGRlbk9wdDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHNob3dIaWRkZW4ob3B0LCBtc2cpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkU2hvd0hpZGRlbk9wdChvcHQsIG1zZyk7XG4gICAgfVxuICAgIGFsaWFzKGtleSwgdmFsdWUpIHtcbiAgICAgICAgYXJnc2VydCgnPG9iamVjdHxzdHJpbmd8YXJyYXk+IFtzdHJpbmd8YXJyYXldJywgW2tleSwgdmFsdWVdLCBhcmd1bWVudHMubGVuZ3RoKTtcbiAgICAgICAgdGhpc1trUG9wdWxhdGVQYXJzZXJIaW50QXJyYXlEaWN0aW9uYXJ5XSh0aGlzLmFsaWFzLmJpbmQodGhpcyksICdhbGlhcycsIGtleSwgdmFsdWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgYXJyYXkoa2V5cykge1xuICAgICAgICBhcmdzZXJ0KCc8YXJyYXl8c3RyaW5nPicsIFtrZXlzXSwgYXJndW1lbnRzLmxlbmd0aCk7XG4gICAgICAgIHRoaXNba1BvcHVsYXRlUGFyc2VySGludEFycmF5XSgnYXJyYXknLCBrZXlzKTtcbiAgICAgICAgdGhpc1trVHJhY2tNYW51YWxseVNldEtleXNdKGtleXMpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgYm9vbGVhbihrZXlzKSB7XG4gICAgICAgIGFyZ3NlcnQoJzxhcnJheXxzdHJpbmc+JywgW2tleXNdLCBhcmd1bWVudHMubGVuZ3RoKTtcbiAgICAgICAgdGhpc1trUG9wdWxhdGVQYXJzZXJIaW50QXJyYXldKCdib29sZWFuJywga2V5cyk7XG4gICAgICAgIHRoaXNba1RyYWNrTWFudWFsbHlTZXRLZXlzXShrZXlzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGNoZWNrKGYsIGdsb2JhbCkge1xuICAgICAgICBhcmdzZXJ0KCc8ZnVuY3Rpb24+IFtib29sZWFuXScsIFtmLCBnbG9iYWxdLCBhcmd1bWVudHMubGVuZ3RoKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlKChhcmd2LCBfeWFyZ3MpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBtYXliZUFzeW5jUmVzdWx0KCgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZihhcmd2LCBfeWFyZ3MuZ2V0T3B0aW9ucygpKTtcbiAgICAgICAgICAgIH0sIChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3VzYWdlLCBcImZcIikuZmFpbChfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3NoaW0sIFwiZlwiKS55MThuLl9fKCdBcmd1bWVudCBjaGVjayBmYWlsZWQ6ICVzJywgZi50b1N0cmluZygpKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiByZXN1bHQgPT09ICdzdHJpbmcnIHx8IHJlc3VsdCBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfdXNhZ2UsIFwiZlwiKS5mYWlsKHJlc3VsdC50b1N0cmluZygpLCByZXN1bHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYXJndjtcbiAgICAgICAgICAgIH0sIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3VzYWdlLCBcImZcIikuZmFpbChlcnIubWVzc2FnZSA/IGVyci5tZXNzYWdlIDogZXJyLnRvU3RyaW5nKCksIGVycik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFyZ3Y7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgZmFsc2UsIGdsb2JhbCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBjaG9pY2VzKGtleSwgdmFsdWUpIHtcbiAgICAgICAgYXJnc2VydCgnPG9iamVjdHxzdHJpbmd8YXJyYXk+IFtzdHJpbmd8YXJyYXldJywgW2tleSwgdmFsdWVdLCBhcmd1bWVudHMubGVuZ3RoKTtcbiAgICAgICAgdGhpc1trUG9wdWxhdGVQYXJzZXJIaW50QXJyYXlEaWN0aW9uYXJ5XSh0aGlzLmNob2ljZXMuYmluZCh0aGlzKSwgJ2Nob2ljZXMnLCBrZXksIHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGNvZXJjZShrZXlzLCB2YWx1ZSkge1xuICAgICAgICBhcmdzZXJ0KCc8b2JqZWN0fHN0cmluZ3xhcnJheT4gW2Z1bmN0aW9uXScsIFtrZXlzLCB2YWx1ZV0sIGFyZ3VtZW50cy5sZW5ndGgpO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShrZXlzKSkge1xuICAgICAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBZRXJyb3IoJ2NvZXJjZSBjYWxsYmFjayBtdXN0IGJlIHByb3ZpZGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb2VyY2Uoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2Yga2V5cyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKGtleXMpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb2VyY2Uoa2V5LCBrZXlzW2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFlFcnJvcignY29lcmNlIGNhbGxiYWNrIG11c3QgYmUgcHJvdmlkZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX29wdGlvbnMsIFwiZlwiKS5rZXlba2V5c10gPSB0cnVlO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX2dsb2JhbE1pZGRsZXdhcmUsIFwiZlwiKS5hZGRDb2VyY2VNaWRkbGV3YXJlKChhcmd2LCB5YXJncykgPT4ge1xuICAgICAgICAgICAgbGV0IGFsaWFzZXM7XG4gICAgICAgICAgICBjb25zdCBzaG91bGRDb2VyY2UgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYXJndiwga2V5cyk7XG4gICAgICAgICAgICBpZiAoIXNob3VsZENvZXJjZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhcmd2O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG1heWJlQXN5bmNSZXN1bHQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGFsaWFzZXMgPSB5YXJncy5nZXRBbGlhc2VzKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlKGFyZ3Zba2V5c10pO1xuICAgICAgICAgICAgfSwgKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgIGFyZ3Zba2V5c10gPSByZXN1bHQ7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RyaXBBbGlhc2VkID0geWFyZ3NcbiAgICAgICAgICAgICAgICAgICAgLmdldEludGVybmFsTWV0aG9kcygpXG4gICAgICAgICAgICAgICAgICAgIC5nZXRQYXJzZXJDb25maWd1cmF0aW9uKClbJ3N0cmlwLWFsaWFzZWQnXTtcbiAgICAgICAgICAgICAgICBpZiAoYWxpYXNlc1trZXlzXSAmJiBzdHJpcEFsaWFzZWQgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBhbGlhcyBvZiBhbGlhc2VzW2tleXNdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmd2W2FsaWFzXSA9IHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYXJndjtcbiAgICAgICAgICAgIH0sIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgWUVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCBrZXlzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGNvbmZsaWN0cyhrZXkxLCBrZXkyKSB7XG4gICAgICAgIGFyZ3NlcnQoJzxzdHJpbmd8b2JqZWN0PiBbc3RyaW5nfGFycmF5XScsIFtrZXkxLCBrZXkyXSwgYXJndW1lbnRzLmxlbmd0aCk7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfdmFsaWRhdGlvbiwgXCJmXCIpLmNvbmZsaWN0cyhrZXkxLCBrZXkyKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGNvbmZpZyhrZXkgPSAnY29uZmlnJywgbXNnLCBwYXJzZUZuKSB7XG4gICAgICAgIGFyZ3NlcnQoJ1tvYmplY3R8c3RyaW5nXSBbc3RyaW5nfGZ1bmN0aW9uXSBbZnVuY3Rpb25dJywgW2tleSwgbXNnLCBwYXJzZUZuXSwgYXJndW1lbnRzLmxlbmd0aCk7XG4gICAgICAgIGlmICh0eXBlb2Yga2V5ID09PSAnb2JqZWN0JyAmJiAhQXJyYXkuaXNBcnJheShrZXkpKSB7XG4gICAgICAgICAgICBrZXkgPSBhcHBseUV4dGVuZHMoa2V5LCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX2N3ZCwgXCJmXCIpLCB0aGlzW2tHZXRQYXJzZXJDb25maWd1cmF0aW9uXSgpWydkZWVwLW1lcmdlLWNvbmZpZyddIHx8IGZhbHNlLCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3NoaW0sIFwiZlwiKSk7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX29wdGlvbnMsIFwiZlwiKS5jb25maWdPYmplY3RzID0gKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2Vfb3B0aW9ucywgXCJmXCIpLmNvbmZpZ09iamVjdHMgfHwgW10pLmNvbmNhdChrZXkpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBtc2cgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHBhcnNlRm4gPSBtc2c7XG4gICAgICAgICAgICBtc2cgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZXNjcmliZShrZXksIG1zZyB8fCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3VzYWdlLCBcImZcIikuZGVmZXJZMThuTG9va3VwKCdQYXRoIHRvIEpTT04gY29uZmlnIGZpbGUnKSk7XG4gICAgICAgIChBcnJheS5pc0FycmF5KGtleSkgPyBrZXkgOiBba2V5XSkuZm9yRWFjaChrID0+IHtcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2Vfb3B0aW9ucywgXCJmXCIpLmNvbmZpZ1trXSA9IHBhcnNlRm4gfHwgdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBjb21wbGV0aW9uKGNtZCwgZGVzYywgZm4pIHtcbiAgICAgICAgYXJnc2VydCgnW3N0cmluZ10gW3N0cmluZ3xib29sZWFufGZ1bmN0aW9uXSBbZnVuY3Rpb25dJywgW2NtZCwgZGVzYywgZm5dLCBhcmd1bWVudHMubGVuZ3RoKTtcbiAgICAgICAgaWYgKHR5cGVvZiBkZXNjID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBmbiA9IGRlc2M7XG4gICAgICAgICAgICBkZXNjID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfY29tcGxldGlvbkNvbW1hbmQsIGNtZCB8fCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX2NvbXBsZXRpb25Db21tYW5kLCBcImZcIikgfHwgJ2NvbXBsZXRpb24nLCBcImZcIik7XG4gICAgICAgIGlmICghZGVzYyAmJiBkZXNjICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgZGVzYyA9ICdnZW5lcmF0ZSBjb21wbGV0aW9uIHNjcmlwdCc7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb21tYW5kKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfY29tcGxldGlvbkNvbW1hbmQsIFwiZlwiKSwgZGVzYyk7XG4gICAgICAgIGlmIChmbilcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfY29tcGxldGlvbiwgXCJmXCIpLnJlZ2lzdGVyRnVuY3Rpb24oZm4pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgY29tbWFuZChjbWQsIGRlc2NyaXB0aW9uLCBidWlsZGVyLCBoYW5kbGVyLCBtaWRkbGV3YXJlcywgZGVwcmVjYXRlZCkge1xuICAgICAgICBhcmdzZXJ0KCc8c3RyaW5nfGFycmF5fG9iamVjdD4gW3N0cmluZ3xib29sZWFuXSBbZnVuY3Rpb258b2JqZWN0XSBbZnVuY3Rpb25dIFthcnJheV0gW2Jvb2xlYW58c3RyaW5nXScsIFtjbWQsIGRlc2NyaXB0aW9uLCBidWlsZGVyLCBoYW5kbGVyLCBtaWRkbGV3YXJlcywgZGVwcmVjYXRlZF0sIGFyZ3VtZW50cy5sZW5ndGgpO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX2NvbW1hbmQsIFwiZlwiKS5hZGRIYW5kbGVyKGNtZCwgZGVzY3JpcHRpb24sIGJ1aWxkZXIsIGhhbmRsZXIsIG1pZGRsZXdhcmVzLCBkZXByZWNhdGVkKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGNvbW1hbmRzKGNtZCwgZGVzY3JpcHRpb24sIGJ1aWxkZXIsIGhhbmRsZXIsIG1pZGRsZXdhcmVzLCBkZXByZWNhdGVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbW1hbmQoY21kLCBkZXNjcmlwdGlvbiwgYnVpbGRlciwgaGFuZGxlciwgbWlkZGxld2FyZXMsIGRlcHJlY2F0ZWQpO1xuICAgIH1cbiAgICBjb21tYW5kRGlyKGRpciwgb3B0cykge1xuICAgICAgICBhcmdzZXJ0KCc8c3RyaW5nPiBbb2JqZWN0XScsIFtkaXIsIG9wdHNdLCBhcmd1bWVudHMubGVuZ3RoKTtcbiAgICAgICAgY29uc3QgcmVxID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9wYXJlbnRSZXF1aXJlLCBcImZcIikgfHwgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9zaGltLCBcImZcIikucmVxdWlyZTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9jb21tYW5kLCBcImZcIikuYWRkRGlyZWN0b3J5KGRpciwgcmVxLCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3NoaW0sIFwiZlwiKS5nZXRDYWxsZXJGaWxlKCksIG9wdHMpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgY291bnQoa2V5cykge1xuICAgICAgICBhcmdzZXJ0KCc8YXJyYXl8c3RyaW5nPicsIFtrZXlzXSwgYXJndW1lbnRzLmxlbmd0aCk7XG4gICAgICAgIHRoaXNba1BvcHVsYXRlUGFyc2VySGludEFycmF5XSgnY291bnQnLCBrZXlzKTtcbiAgICAgICAgdGhpc1trVHJhY2tNYW51YWxseVNldEtleXNdKGtleXMpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZGVmYXVsdChrZXksIHZhbHVlLCBkZWZhdWx0RGVzY3JpcHRpb24pIHtcbiAgICAgICAgYXJnc2VydCgnPG9iamVjdHxzdHJpbmd8YXJyYXk+IFsqXSBbc3RyaW5nXScsIFtrZXksIHZhbHVlLCBkZWZhdWx0RGVzY3JpcHRpb25dLCBhcmd1bWVudHMubGVuZ3RoKTtcbiAgICAgICAgaWYgKGRlZmF1bHREZXNjcmlwdGlvbikge1xuICAgICAgICAgICAgYXNzZXJ0U2luZ2xlS2V5KGtleSwgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9zaGltLCBcImZcIikpO1xuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9vcHRpb25zLCBcImZcIikuZGVmYXVsdERlc2NyaXB0aW9uW2tleV0gPSBkZWZhdWx0RGVzY3JpcHRpb247XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgYXNzZXJ0U2luZ2xlS2V5KGtleSwgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9zaGltLCBcImZcIikpO1xuICAgICAgICAgICAgaWYgKCFfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX29wdGlvbnMsIFwiZlwiKS5kZWZhdWx0RGVzY3JpcHRpb25ba2V5XSlcbiAgICAgICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX29wdGlvbnMsIFwiZlwiKS5kZWZhdWx0RGVzY3JpcHRpb25ba2V5XSA9XG4gICAgICAgICAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfdXNhZ2UsIFwiZlwiKS5mdW5jdGlvbkRlc2NyaXB0aW9uKHZhbHVlKTtcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUuY2FsbCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXNba1BvcHVsYXRlUGFyc2VySGludFNpbmdsZVZhbHVlRGljdGlvbmFyeV0odGhpcy5kZWZhdWx0LmJpbmQodGhpcyksICdkZWZhdWx0Jywga2V5LCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBkZWZhdWx0cyhrZXksIHZhbHVlLCBkZWZhdWx0RGVzY3JpcHRpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdChrZXksIHZhbHVlLCBkZWZhdWx0RGVzY3JpcHRpb24pO1xuICAgIH1cbiAgICBkZW1hbmRDb21tYW5kKG1pbiA9IDEsIG1heCwgbWluTXNnLCBtYXhNc2cpIHtcbiAgICAgICAgYXJnc2VydCgnW251bWJlcl0gW251bWJlcnxzdHJpbmddIFtzdHJpbmd8bnVsbHx1bmRlZmluZWRdIFtzdHJpbmd8bnVsbHx1bmRlZmluZWRdJywgW21pbiwgbWF4LCBtaW5Nc2csIG1heE1zZ10sIGFyZ3VtZW50cy5sZW5ndGgpO1xuICAgICAgICBpZiAodHlwZW9mIG1heCAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIG1pbk1zZyA9IG1heDtcbiAgICAgICAgICAgIG1heCA9IEluZmluaXR5O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZ2xvYmFsKCdfJywgZmFsc2UpO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX29wdGlvbnMsIFwiZlwiKS5kZW1hbmRlZENvbW1hbmRzLl8gPSB7XG4gICAgICAgICAgICBtaW4sXG4gICAgICAgICAgICBtYXgsXG4gICAgICAgICAgICBtaW5Nc2csXG4gICAgICAgICAgICBtYXhNc2csXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBkZW1hbmQoa2V5cywgbWF4LCBtc2cpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobWF4KSkge1xuICAgICAgICAgICAgbWF4LmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICAgICAgICBhc3NlcnROb3RTdHJpY3RFcXVhbChtc2csIHRydWUsIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2Vfc2hpbSwgXCJmXCIpKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRlbWFuZE9wdGlvbihrZXksIG1zZyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG1heCA9IEluZmluaXR5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBtYXggIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBtc2cgPSBtYXg7XG4gICAgICAgICAgICBtYXggPSBJbmZpbml0eTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGtleXMgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBhc3NlcnROb3RTdHJpY3RFcXVhbChtc2csIHRydWUsIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2Vfc2hpbSwgXCJmXCIpKTtcbiAgICAgICAgICAgIHRoaXMuZGVtYW5kQ29tbWFuZChrZXlzLCBtYXgsIG1zZywgbXNnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KGtleXMpKSB7XG4gICAgICAgICAgICBrZXlzLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICAgICAgICBhc3NlcnROb3RTdHJpY3RFcXVhbChtc2csIHRydWUsIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2Vfc2hpbSwgXCJmXCIpKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRlbWFuZE9wdGlvbihrZXksIG1zZyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbXNnID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVtYW5kT3B0aW9uKGtleXMsIG1zZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChtc2cgPT09IHRydWUgfHwgdHlwZW9mIG1zZyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlbWFuZE9wdGlvbihrZXlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZGVtYW5kT3B0aW9uKGtleXMsIG1zZykge1xuICAgICAgICBhcmdzZXJ0KCc8b2JqZWN0fHN0cmluZ3xhcnJheT4gW3N0cmluZ10nLCBba2V5cywgbXNnXSwgYXJndW1lbnRzLmxlbmd0aCk7XG4gICAgICAgIHRoaXNba1BvcHVsYXRlUGFyc2VySGludFNpbmdsZVZhbHVlRGljdGlvbmFyeV0odGhpcy5kZW1hbmRPcHRpb24uYmluZCh0aGlzKSwgJ2RlbWFuZGVkT3B0aW9ucycsIGtleXMsIG1zZyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBkZXByZWNhdGVPcHRpb24ob3B0aW9uLCBtZXNzYWdlKSB7XG4gICAgICAgIGFyZ3NlcnQoJzxzdHJpbmc+IFtzdHJpbmd8Ym9vbGVhbl0nLCBbb3B0aW9uLCBtZXNzYWdlXSwgYXJndW1lbnRzLmxlbmd0aCk7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2Vfb3B0aW9ucywgXCJmXCIpLmRlcHJlY2F0ZWRPcHRpb25zW29wdGlvbl0gPSBtZXNzYWdlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZGVzY3JpYmUoa2V5cywgZGVzY3JpcHRpb24pIHtcbiAgICAgICAgYXJnc2VydCgnPG9iamVjdHxzdHJpbmd8YXJyYXk+IFtzdHJpbmddJywgW2tleXMsIGRlc2NyaXB0aW9uXSwgYXJndW1lbnRzLmxlbmd0aCk7XG4gICAgICAgIHRoaXNba1NldEtleV0oa2V5cywgdHJ1ZSk7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfdXNhZ2UsIFwiZlwiKS5kZXNjcmliZShrZXlzLCBkZXNjcmlwdGlvbik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBkZXRlY3RMb2NhbGUoZGV0ZWN0KSB7XG4gICAgICAgIGFyZ3NlcnQoJzxib29sZWFuPicsIFtkZXRlY3RdLCBhcmd1bWVudHMubGVuZ3RoKTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9kZXRlY3RMb2NhbGUsIGRldGVjdCwgXCJmXCIpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZW52KHByZWZpeCkge1xuICAgICAgICBhcmdzZXJ0KCdbc3RyaW5nfGJvb2xlYW5dJywgW3ByZWZpeF0sIGFyZ3VtZW50cy5sZW5ndGgpO1xuICAgICAgICBpZiAocHJlZml4ID09PSBmYWxzZSlcbiAgICAgICAgICAgIGRlbGV0ZSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX29wdGlvbnMsIFwiZlwiKS5lbnZQcmVmaXg7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2Vfb3B0aW9ucywgXCJmXCIpLmVudlByZWZpeCA9IHByZWZpeCB8fCAnJztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGVwaWxvZ3VlKG1zZykge1xuICAgICAgICBhcmdzZXJ0KCc8c3RyaW5nPicsIFttc2ddLCBhcmd1bWVudHMubGVuZ3RoKTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV91c2FnZSwgXCJmXCIpLmVwaWxvZyhtc2cpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZXBpbG9nKG1zZykge1xuICAgICAgICByZXR1cm4gdGhpcy5lcGlsb2d1ZShtc2cpO1xuICAgIH1cbiAgICBleGFtcGxlKGNtZCwgZGVzY3JpcHRpb24pIHtcbiAgICAgICAgYXJnc2VydCgnPHN0cmluZ3xhcnJheT4gW3N0cmluZ10nLCBbY21kLCBkZXNjcmlwdGlvbl0sIGFyZ3VtZW50cy5sZW5ndGgpO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjbWQpKSB7XG4gICAgICAgICAgICBjbWQuZm9yRWFjaChleGFtcGxlUGFyYW1zID0+IHRoaXMuZXhhbXBsZSguLi5leGFtcGxlUGFyYW1zKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3VzYWdlLCBcImZcIikuZXhhbXBsZShjbWQsIGRlc2NyaXB0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZXhpdChjb2RlLCBlcnIpIHtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9oYXNPdXRwdXQsIHRydWUsIFwiZlwiKTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9leGl0RXJyb3IsIGVyciwgXCJmXCIpO1xuICAgICAgICBpZiAoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9leGl0UHJvY2VzcywgXCJmXCIpKVxuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9zaGltLCBcImZcIikucHJvY2Vzcy5leGl0KGNvZGUpO1xuICAgIH1cbiAgICBleGl0UHJvY2VzcyhlbmFibGVkID0gdHJ1ZSkge1xuICAgICAgICBhcmdzZXJ0KCdbYm9vbGVhbl0nLCBbZW5hYmxlZF0sIGFyZ3VtZW50cy5sZW5ndGgpO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX2V4aXRQcm9jZXNzLCBlbmFibGVkLCBcImZcIik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBmYWlsKGYpIHtcbiAgICAgICAgYXJnc2VydCgnPGZ1bmN0aW9ufGJvb2xlYW4+JywgW2ZdLCBhcmd1bWVudHMubGVuZ3RoKTtcbiAgICAgICAgaWYgKHR5cGVvZiBmID09PSAnYm9vbGVhbicgJiYgZiAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBZRXJyb3IoXCJJbnZhbGlkIGZpcnN0IGFyZ3VtZW50LiBFeHBlY3RlZCBmdW5jdGlvbiBvciBib29sZWFuICdmYWxzZSdcIik7XG4gICAgICAgIH1cbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV91c2FnZSwgXCJmXCIpLmZhaWxGbihmKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGdldEFsaWFzZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhcnNlZCA/IHRoaXMucGFyc2VkLmFsaWFzZXMgOiB7fTtcbiAgICB9XG4gICAgYXN5bmMgZ2V0Q29tcGxldGlvbihhcmdzLCBkb25lKSB7XG4gICAgICAgIGFyZ3NlcnQoJzxhcnJheT4gW2Z1bmN0aW9uXScsIFthcmdzLCBkb25lXSwgYXJndW1lbnRzLmxlbmd0aCk7XG4gICAgICAgIGlmICghZG9uZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX2NvbXBsZXRpb24sIFwiZlwiKS5nZXRDb21wbGV0aW9uKGFyZ3MsIChlcnIsIGNvbXBsZXRpb25zKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShjb21wbGV0aW9ucyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX2NvbXBsZXRpb24sIFwiZlwiKS5nZXRDb21wbGV0aW9uKGFyZ3MsIGRvbmUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldERlbWFuZGVkT3B0aW9ucygpIHtcbiAgICAgICAgYXJnc2VydChbXSwgMCk7XG4gICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX29wdGlvbnMsIFwiZlwiKS5kZW1hbmRlZE9wdGlvbnM7XG4gICAgfVxuICAgIGdldERlbWFuZGVkQ29tbWFuZHMoKSB7XG4gICAgICAgIGFyZ3NlcnQoW10sIDApO1xuICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9vcHRpb25zLCBcImZcIikuZGVtYW5kZWRDb21tYW5kcztcbiAgICB9XG4gICAgZ2V0RGVwcmVjYXRlZE9wdGlvbnMoKSB7XG4gICAgICAgIGFyZ3NlcnQoW10sIDApO1xuICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9vcHRpb25zLCBcImZcIikuZGVwcmVjYXRlZE9wdGlvbnM7XG4gICAgfVxuICAgIGdldERldGVjdExvY2FsZSgpIHtcbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfZGV0ZWN0TG9jYWxlLCBcImZcIik7XG4gICAgfVxuICAgIGdldEV4aXRQcm9jZXNzKCkge1xuICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9leGl0UHJvY2VzcywgXCJmXCIpO1xuICAgIH1cbiAgICBnZXRHcm91cHMoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX2dyb3VwcywgXCJmXCIpLCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3ByZXNlcnZlZEdyb3VwcywgXCJmXCIpKTtcbiAgICB9XG4gICAgZ2V0SGVscCgpIHtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9oYXNPdXRwdXQsIHRydWUsIFwiZlwiKTtcbiAgICAgICAgaWYgKCFfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3VzYWdlLCBcImZcIikuaGFzQ2FjaGVkSGVscE1lc3NhZ2UoKSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnBhcnNlZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlID0gdGhpc1trUnVuWWFyZ3NQYXJzZXJBbmRFeGVjdXRlQ29tbWFuZHNdKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfcHJvY2Vzc0FyZ3MsIFwiZlwiKSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIDAsIHRydWUpO1xuICAgICAgICAgICAgICAgIGlmIChpc1Byb21pc2UocGFyc2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3VzYWdlLCBcImZcIikuaGVscCgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBidWlsZGVyUmVzcG9uc2UgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX2NvbW1hbmQsIFwiZlwiKS5ydW5EZWZhdWx0QnVpbGRlck9uKHRoaXMpO1xuICAgICAgICAgICAgaWYgKGlzUHJvbWlzZShidWlsZGVyUmVzcG9uc2UpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJ1aWxkZXJSZXNwb25zZS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfdXNhZ2UsIFwiZlwiKS5oZWxwKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3VzYWdlLCBcImZcIikuaGVscCgpKTtcbiAgICB9XG4gICAgZ2V0T3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2Vfb3B0aW9ucywgXCJmXCIpO1xuICAgIH1cbiAgICBnZXRTdHJpY3QoKSB7XG4gICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3N0cmljdCwgXCJmXCIpO1xuICAgIH1cbiAgICBnZXRTdHJpY3RDb21tYW5kcygpIHtcbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2Vfc3RyaWN0Q29tbWFuZHMsIFwiZlwiKTtcbiAgICB9XG4gICAgZ2V0U3RyaWN0T3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2Vfc3RyaWN0T3B0aW9ucywgXCJmXCIpO1xuICAgIH1cbiAgICBnbG9iYWwoZ2xvYmFscywgZ2xvYmFsKSB7XG4gICAgICAgIGFyZ3NlcnQoJzxzdHJpbmd8YXJyYXk+IFtib29sZWFuXScsIFtnbG9iYWxzLCBnbG9iYWxdLCBhcmd1bWVudHMubGVuZ3RoKTtcbiAgICAgICAgZ2xvYmFscyA9IFtdLmNvbmNhdChnbG9iYWxzKTtcbiAgICAgICAgaWYgKGdsb2JhbCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2Vfb3B0aW9ucywgXCJmXCIpLmxvY2FsID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9vcHRpb25zLCBcImZcIikubG9jYWwuZmlsdGVyKGwgPT4gZ2xvYmFscy5pbmRleE9mKGwpID09PSAtMSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBnbG9iYWxzLmZvckVhY2goZyA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX29wdGlvbnMsIFwiZlwiKS5sb2NhbC5pbmNsdWRlcyhnKSlcbiAgICAgICAgICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9vcHRpb25zLCBcImZcIikubG9jYWwucHVzaChnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBncm91cChvcHRzLCBncm91cE5hbWUpIHtcbiAgICAgICAgYXJnc2VydCgnPHN0cmluZ3xhcnJheT4gPHN0cmluZz4nLCBbb3B0cywgZ3JvdXBOYW1lXSwgYXJndW1lbnRzLmxlbmd0aCk7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9wcmVzZXJ2ZWRHcm91cHMsIFwiZlwiKVtncm91cE5hbWVdIHx8IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfZ3JvdXBzLCBcImZcIilbZ3JvdXBOYW1lXTtcbiAgICAgICAgaWYgKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfcHJlc2VydmVkR3JvdXBzLCBcImZcIilbZ3JvdXBOYW1lXSkge1xuICAgICAgICAgICAgZGVsZXRlIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfcHJlc2VydmVkR3JvdXBzLCBcImZcIilbZ3JvdXBOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzZWVuID0ge307XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfZ3JvdXBzLCBcImZcIilbZ3JvdXBOYW1lXSA9IChleGlzdGluZyB8fCBbXSkuY29uY2F0KG9wdHMpLmZpbHRlcihrZXkgPT4ge1xuICAgICAgICAgICAgaWYgKHNlZW5ba2V5XSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gKHNlZW5ba2V5XSA9IHRydWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGhpZGUoa2V5KSB7XG4gICAgICAgIGFyZ3NlcnQoJzxzdHJpbmc+JywgW2tleV0sIGFyZ3VtZW50cy5sZW5ndGgpO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX29wdGlvbnMsIFwiZlwiKS5oaWRkZW5PcHRpb25zLnB1c2goa2V5KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGltcGxpZXMoa2V5LCB2YWx1ZSkge1xuICAgICAgICBhcmdzZXJ0KCc8c3RyaW5nfG9iamVjdD4gW251bWJlcnxzdHJpbmd8YXJyYXldJywgW2tleSwgdmFsdWVdLCBhcmd1bWVudHMubGVuZ3RoKTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV92YWxpZGF0aW9uLCBcImZcIikuaW1wbGllcyhrZXksIHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGxvY2FsZShsb2NhbGUpIHtcbiAgICAgICAgYXJnc2VydCgnW3N0cmluZ10nLCBbbG9jYWxlXSwgYXJndW1lbnRzLmxlbmd0aCk7XG4gICAgICAgIGlmIChsb2NhbGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpc1trR3Vlc3NMb2NhbGVdKCk7XG4gICAgICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9zaGltLCBcImZcIikueTE4bi5nZXRMb2NhbGUoKTtcbiAgICAgICAgfVxuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX2RldGVjdExvY2FsZSwgZmFsc2UsIFwiZlwiKTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9zaGltLCBcImZcIikueTE4bi5zZXRMb2NhbGUobG9jYWxlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIG1pZGRsZXdhcmUoY2FsbGJhY2ssIGFwcGx5QmVmb3JlVmFsaWRhdGlvbiwgZ2xvYmFsKSB7XG4gICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX2dsb2JhbE1pZGRsZXdhcmUsIFwiZlwiKS5hZGRNaWRkbGV3YXJlKGNhbGxiYWNrLCAhIWFwcGx5QmVmb3JlVmFsaWRhdGlvbiwgZ2xvYmFsKTtcbiAgICB9XG4gICAgbmFyZ3Moa2V5LCB2YWx1ZSkge1xuICAgICAgICBhcmdzZXJ0KCc8c3RyaW5nfG9iamVjdHxhcnJheT4gW251bWJlcl0nLCBba2V5LCB2YWx1ZV0sIGFyZ3VtZW50cy5sZW5ndGgpO1xuICAgICAgICB0aGlzW2tQb3B1bGF0ZVBhcnNlckhpbnRTaW5nbGVWYWx1ZURpY3Rpb25hcnldKHRoaXMubmFyZ3MuYmluZCh0aGlzKSwgJ25hcmcnLCBrZXksIHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIG5vcm1hbGl6ZShrZXlzKSB7XG4gICAgICAgIGFyZ3NlcnQoJzxhcnJheXxzdHJpbmc+JywgW2tleXNdLCBhcmd1bWVudHMubGVuZ3RoKTtcbiAgICAgICAgdGhpc1trUG9wdWxhdGVQYXJzZXJIaW50QXJyYXldKCdub3JtYWxpemUnLCBrZXlzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIG51bWJlcihrZXlzKSB7XG4gICAgICAgIGFyZ3NlcnQoJzxhcnJheXxzdHJpbmc+JywgW2tleXNdLCBhcmd1bWVudHMubGVuZ3RoKTtcbiAgICAgICAgdGhpc1trUG9wdWxhdGVQYXJzZXJIaW50QXJyYXldKCdudW1iZXInLCBrZXlzKTtcbiAgICAgICAgdGhpc1trVHJhY2tNYW51YWxseVNldEtleXNdKGtleXMpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgb3B0aW9uKGtleSwgb3B0KSB7XG4gICAgICAgIGFyZ3NlcnQoJzxzdHJpbmd8b2JqZWN0PiBbb2JqZWN0XScsIFtrZXksIG9wdF0sIGFyZ3VtZW50cy5sZW5ndGgpO1xuICAgICAgICBpZiAodHlwZW9mIGtleSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKGtleSkuZm9yRWFjaChrID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMoaywga2V5W2tdKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHQgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgb3B0ID0ge307XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzW2tUcmFja01hbnVhbGx5U2V0S2V5c10oa2V5KTtcbiAgICAgICAgICAgIGlmIChfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3ZlcnNpb25PcHQsIFwiZlwiKSAmJiAoa2V5ID09PSAndmVyc2lvbicgfHwgKG9wdCA9PT0gbnVsbCB8fCBvcHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdC5hbGlhcykgPT09ICd2ZXJzaW9uJykpIHtcbiAgICAgICAgICAgICAgICB0aGlzW2tFbWl0V2FybmluZ10oW1xuICAgICAgICAgICAgICAgICAgICAnXCJ2ZXJzaW9uXCIgaXMgYSByZXNlcnZlZCB3b3JkLicsXG4gICAgICAgICAgICAgICAgICAgICdQbGVhc2UgZG8gb25lIG9mIHRoZSBmb2xsb3dpbmc6JyxcbiAgICAgICAgICAgICAgICAgICAgJy0gRGlzYWJsZSB2ZXJzaW9uIHdpdGggYHlhcmdzLnZlcnNpb24oZmFsc2UpYCBpZiB1c2luZyBcInZlcnNpb25cIiBhcyBhbiBvcHRpb24nLFxuICAgICAgICAgICAgICAgICAgICAnLSBVc2UgdGhlIGJ1aWx0LWluIGB5YXJncy52ZXJzaW9uYCBtZXRob2QgaW5zdGVhZCAoaWYgYXBwbGljYWJsZSknLFxuICAgICAgICAgICAgICAgICAgICAnLSBVc2UgYSBkaWZmZXJlbnQgb3B0aW9uIGtleScsXG4gICAgICAgICAgICAgICAgICAgICdodHRwczovL3lhcmdzLmpzLm9yZy9kb2NzLyNhcGktcmVmZXJlbmNlLXZlcnNpb24nLFxuICAgICAgICAgICAgICAgIF0uam9pbignXFxuJyksIHVuZGVmaW5lZCwgJ3ZlcnNpb25XYXJuaW5nJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX29wdGlvbnMsIFwiZlwiKS5rZXlba2V5XSA9IHRydWU7XG4gICAgICAgICAgICBpZiAob3B0LmFsaWFzKVxuICAgICAgICAgICAgICAgIHRoaXMuYWxpYXMoa2V5LCBvcHQuYWxpYXMpO1xuICAgICAgICAgICAgY29uc3QgZGVwcmVjYXRlID0gb3B0LmRlcHJlY2F0ZSB8fCBvcHQuZGVwcmVjYXRlZDtcbiAgICAgICAgICAgIGlmIChkZXByZWNhdGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlcHJlY2F0ZU9wdGlvbihrZXksIGRlcHJlY2F0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBkZW1hbmQgPSBvcHQuZGVtYW5kIHx8IG9wdC5yZXF1aXJlZCB8fCBvcHQucmVxdWlyZTtcbiAgICAgICAgICAgIGlmIChkZW1hbmQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlbWFuZChrZXksIGRlbWFuZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0LmRlbWFuZE9wdGlvbikge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVtYW5kT3B0aW9uKGtleSwgdHlwZW9mIG9wdC5kZW1hbmRPcHRpb24gPT09ICdzdHJpbmcnID8gb3B0LmRlbWFuZE9wdGlvbiA6IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0LmNvbmZsaWN0cykge1xuICAgICAgICAgICAgICAgIHRoaXMuY29uZmxpY3RzKGtleSwgb3B0LmNvbmZsaWN0cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoJ2RlZmF1bHQnIGluIG9wdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVmYXVsdChrZXksIG9wdC5kZWZhdWx0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHQuaW1wbGllcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbXBsaWVzKGtleSwgb3B0LmltcGxpZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdC5uYXJncyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5uYXJncyhrZXksIG9wdC5uYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0LmNvbmZpZykge1xuICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnKGtleSwgb3B0LmNvbmZpZ1BhcnNlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0Lm5vcm1hbGl6ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMubm9ybWFsaXplKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0LmNob2ljZXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNob2ljZXMoa2V5LCBvcHQuY2hvaWNlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0LmNvZXJjZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29lcmNlKGtleSwgb3B0LmNvZXJjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0Lmdyb3VwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ncm91cChrZXksIG9wdC5ncm91cCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0LmJvb2xlYW4gfHwgb3B0LnR5cGUgPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgICAgIHRoaXMuYm9vbGVhbihrZXkpO1xuICAgICAgICAgICAgICAgIGlmIChvcHQuYWxpYXMpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYm9vbGVhbihvcHQuYWxpYXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdC5hcnJheSB8fCBvcHQudHlwZSA9PT0gJ2FycmF5Jykge1xuICAgICAgICAgICAgICAgIHRoaXMuYXJyYXkoa2V5KTtcbiAgICAgICAgICAgICAgICBpZiAob3B0LmFsaWFzKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFycmF5KG9wdC5hbGlhcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0Lm51bWJlciB8fCBvcHQudHlwZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm51bWJlcihrZXkpO1xuICAgICAgICAgICAgICAgIGlmIChvcHQuYWxpYXMpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubnVtYmVyKG9wdC5hbGlhcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0LnN0cmluZyB8fCBvcHQudHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0cmluZyhrZXkpO1xuICAgICAgICAgICAgICAgIGlmIChvcHQuYWxpYXMpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RyaW5nKG9wdC5hbGlhcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0LmNvdW50IHx8IG9wdC50eXBlID09PSAnY291bnQnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb3VudChrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHQuZ2xvYmFsID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdsb2JhbChrZXksIG9wdC5nbG9iYWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdC5kZWZhdWx0RGVzY3JpcHRpb24pIHtcbiAgICAgICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX29wdGlvbnMsIFwiZlwiKS5kZWZhdWx0RGVzY3JpcHRpb25ba2V5XSA9IG9wdC5kZWZhdWx0RGVzY3JpcHRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0LnNraXBWYWxpZGF0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5za2lwVmFsaWRhdGlvbihrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZGVzYyA9IG9wdC5kZXNjcmliZSB8fCBvcHQuZGVzY3JpcHRpb24gfHwgb3B0LmRlc2M7XG4gICAgICAgICAgICBjb25zdCBkZXNjcmlwdGlvbnMgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3VzYWdlLCBcImZcIikuZ2V0RGVzY3JpcHRpb25zKCk7XG4gICAgICAgICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkZXNjcmlwdGlvbnMsIGtleSkgfHxcbiAgICAgICAgICAgICAgICB0eXBlb2YgZGVzYyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlc2NyaWJlKGtleSwgZGVzYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0LmhpZGRlbikge1xuICAgICAgICAgICAgICAgIHRoaXMuaGlkZShrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdC5yZXF1aXJlc0FyZykge1xuICAgICAgICAgICAgICAgIHRoaXMucmVxdWlyZXNBcmcoa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgb3B0aW9ucyhrZXksIG9wdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb24oa2V5LCBvcHQpO1xuICAgIH1cbiAgICBwYXJzZShhcmdzLCBzaG9ydENpcmN1aXQsIF9wYXJzZUZuKSB7XG4gICAgICAgIGFyZ3NlcnQoJ1tzdHJpbmd8YXJyYXldIFtmdW5jdGlvbnxib29sZWFufG9iamVjdF0gW2Z1bmN0aW9uXScsIFthcmdzLCBzaG9ydENpcmN1aXQsIF9wYXJzZUZuXSwgYXJndW1lbnRzLmxlbmd0aCk7XG4gICAgICAgIHRoaXNba0ZyZWV6ZV0oKTtcbiAgICAgICAgaWYgKHR5cGVvZiBhcmdzID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgYXJncyA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfcHJvY2Vzc0FyZ3MsIFwiZlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHNob3J0Q2lyY3VpdCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfcGFyc2VDb250ZXh0LCBzaG9ydENpcmN1aXQsIFwiZlwiKTtcbiAgICAgICAgICAgIHNob3J0Q2lyY3VpdCA9IF9wYXJzZUZuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2Ygc2hvcnRDaXJjdWl0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3BhcnNlRm4sIHNob3J0Q2lyY3VpdCwgXCJmXCIpO1xuICAgICAgICAgICAgc2hvcnRDaXJjdWl0ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzaG9ydENpcmN1aXQpXG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3Byb2Nlc3NBcmdzLCBhcmdzLCBcImZcIik7XG4gICAgICAgIGlmIChfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3BhcnNlRm4sIFwiZlwiKSlcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfZXhpdFByb2Nlc3MsIGZhbHNlLCBcImZcIik7XG4gICAgICAgIGNvbnN0IHBhcnNlZCA9IHRoaXNba1J1bllhcmdzUGFyc2VyQW5kRXhlY3V0ZUNvbW1hbmRzXShhcmdzLCAhIXNob3J0Q2lyY3VpdCk7XG4gICAgICAgIGNvbnN0IHRtcFBhcnNlZCA9IHRoaXMucGFyc2VkO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX2NvbXBsZXRpb24sIFwiZlwiKS5zZXRQYXJzZWQodGhpcy5wYXJzZWQpO1xuICAgICAgICBpZiAoaXNQcm9taXNlKHBhcnNlZCkpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZWRcbiAgICAgICAgICAgICAgICAudGhlbihhcmd2ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9wYXJzZUZuLCBcImZcIikpXG4gICAgICAgICAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfcGFyc2VGbiwgXCJmXCIpLmNhbGwodGhpcywgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9leGl0RXJyb3IsIFwiZlwiKSwgYXJndiwgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9vdXRwdXQsIFwiZlwiKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFyZ3Y7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3BhcnNlRm4sIFwiZlwiKSkge1xuICAgICAgICAgICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3BhcnNlRm4sIFwiZlwiKShlcnIsIHRoaXMucGFyc2VkLmFyZ3YsIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2Vfb3V0cHV0LCBcImZcIikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzW2tVbmZyZWV6ZV0oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcnNlZCA9IHRtcFBhcnNlZDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfcGFyc2VGbiwgXCJmXCIpKVxuICAgICAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfcGFyc2VGbiwgXCJmXCIpLmNhbGwodGhpcywgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9leGl0RXJyb3IsIFwiZlwiKSwgcGFyc2VkLCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX291dHB1dCwgXCJmXCIpKTtcbiAgICAgICAgICAgIHRoaXNba1VuZnJlZXplXSgpO1xuICAgICAgICAgICAgdGhpcy5wYXJzZWQgPSB0bXBQYXJzZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcnNlZDtcbiAgICB9XG4gICAgcGFyc2VBc3luYyhhcmdzLCBzaG9ydENpcmN1aXQsIF9wYXJzZUZuKSB7XG4gICAgICAgIGNvbnN0IG1heWJlUHJvbWlzZSA9IHRoaXMucGFyc2UoYXJncywgc2hvcnRDaXJjdWl0LCBfcGFyc2VGbik7XG4gICAgICAgIHJldHVybiAhaXNQcm9taXNlKG1heWJlUHJvbWlzZSlcbiAgICAgICAgICAgID8gUHJvbWlzZS5yZXNvbHZlKG1heWJlUHJvbWlzZSlcbiAgICAgICAgICAgIDogbWF5YmVQcm9taXNlO1xuICAgIH1cbiAgICBwYXJzZVN5bmMoYXJncywgc2hvcnRDaXJjdWl0LCBfcGFyc2VGbikge1xuICAgICAgICBjb25zdCBtYXliZVByb21pc2UgPSB0aGlzLnBhcnNlKGFyZ3MsIHNob3J0Q2lyY3VpdCwgX3BhcnNlRm4pO1xuICAgICAgICBpZiAoaXNQcm9taXNlKG1heWJlUHJvbWlzZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBZRXJyb3IoJy5wYXJzZVN5bmMoKSBtdXN0IG5vdCBiZSB1c2VkIHdpdGggYXN5bmNocm9ub3VzIGJ1aWxkZXJzLCBoYW5kbGVycywgb3IgbWlkZGxld2FyZScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXliZVByb21pc2U7XG4gICAgfVxuICAgIHBhcnNlckNvbmZpZ3VyYXRpb24oY29uZmlnKSB7XG4gICAgICAgIGFyZ3NlcnQoJzxvYmplY3Q+JywgW2NvbmZpZ10sIGFyZ3VtZW50cy5sZW5ndGgpO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3BhcnNlckNvbmZpZywgY29uZmlnLCBcImZcIik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBwa2dDb25mKGtleSwgcm9vdFBhdGgpIHtcbiAgICAgICAgYXJnc2VydCgnPHN0cmluZz4gW3N0cmluZ10nLCBba2V5LCByb290UGF0aF0sIGFyZ3VtZW50cy5sZW5ndGgpO1xuICAgICAgICBsZXQgY29uZiA9IG51bGw7XG4gICAgICAgIGNvbnN0IG9iaiA9IHRoaXNba1BrZ1VwXShyb290UGF0aCB8fCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX2N3ZCwgXCJmXCIpKTtcbiAgICAgICAgaWYgKG9ialtrZXldICYmIHR5cGVvZiBvYmpba2V5XSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGNvbmYgPSBhcHBseUV4dGVuZHMob2JqW2tleV0sIHJvb3RQYXRoIHx8IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfY3dkLCBcImZcIiksIHRoaXNba0dldFBhcnNlckNvbmZpZ3VyYXRpb25dKClbJ2RlZXAtbWVyZ2UtY29uZmlnJ10gfHwgZmFsc2UsIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2Vfc2hpbSwgXCJmXCIpKTtcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2Vfb3B0aW9ucywgXCJmXCIpLmNvbmZpZ09iamVjdHMgPSAoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9vcHRpb25zLCBcImZcIikuY29uZmlnT2JqZWN0cyB8fCBbXSkuY29uY2F0KGNvbmYpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBwb3NpdGlvbmFsKGtleSwgb3B0cykge1xuICAgICAgICBhcmdzZXJ0KCc8c3RyaW5nPiA8b2JqZWN0PicsIFtrZXksIG9wdHNdLCBhcmd1bWVudHMubGVuZ3RoKTtcbiAgICAgICAgY29uc3Qgc3VwcG9ydGVkT3B0cyA9IFtcbiAgICAgICAgICAgICdkZWZhdWx0JyxcbiAgICAgICAgICAgICdkZWZhdWx0RGVzY3JpcHRpb24nLFxuICAgICAgICAgICAgJ2ltcGxpZXMnLFxuICAgICAgICAgICAgJ25vcm1hbGl6ZScsXG4gICAgICAgICAgICAnY2hvaWNlcycsXG4gICAgICAgICAgICAnY29uZmxpY3RzJyxcbiAgICAgICAgICAgICdjb2VyY2UnLFxuICAgICAgICAgICAgJ3R5cGUnLFxuICAgICAgICAgICAgJ2Rlc2NyaWJlJyxcbiAgICAgICAgICAgICdkZXNjJyxcbiAgICAgICAgICAgICdkZXNjcmlwdGlvbicsXG4gICAgICAgICAgICAnYWxpYXMnLFxuICAgICAgICBdO1xuICAgICAgICBvcHRzID0gb2JqRmlsdGVyKG9wdHMsIChrLCB2KSA9PiB7XG4gICAgICAgICAgICBpZiAoayA9PT0gJ3R5cGUnICYmICFbJ3N0cmluZycsICdudW1iZXInLCAnYm9vbGVhbiddLmluY2x1ZGVzKHYpKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiBzdXBwb3J0ZWRPcHRzLmluY2x1ZGVzKGspO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgZnVsbENvbW1hbmQgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX2NvbnRleHQsIFwiZlwiKS5mdWxsQ29tbWFuZHNbX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9jb250ZXh0LCBcImZcIikuZnVsbENvbW1hbmRzLmxlbmd0aCAtIDFdO1xuICAgICAgICBjb25zdCBwYXJzZU9wdGlvbnMgPSBmdWxsQ29tbWFuZFxuICAgICAgICAgICAgPyBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX2NvbW1hbmQsIFwiZlwiKS5jbWRUb1BhcnNlT3B0aW9ucyhmdWxsQ29tbWFuZClcbiAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgIGFycmF5OiBbXSxcbiAgICAgICAgICAgICAgICBhbGlhczoge30sXG4gICAgICAgICAgICAgICAgZGVmYXVsdDoge30sXG4gICAgICAgICAgICAgICAgZGVtYW5kOiB7fSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIG9iamVjdEtleXMocGFyc2VPcHRpb25zKS5mb3JFYWNoKHBrID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlT3B0aW9uID0gcGFyc2VPcHRpb25zW3BrXTtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBhcnNlT3B0aW9uKSkge1xuICAgICAgICAgICAgICAgIGlmIChwYXJzZU9wdGlvbi5pbmRleE9mKGtleSkgIT09IC0xKVxuICAgICAgICAgICAgICAgICAgICBvcHRzW3BrXSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAocGFyc2VPcHRpb25ba2V5XSAmJiAhKHBrIGluIG9wdHMpKVxuICAgICAgICAgICAgICAgICAgICBvcHRzW3BrXSA9IHBhcnNlT3B0aW9uW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmdyb3VwKGtleSwgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV91c2FnZSwgXCJmXCIpLmdldFBvc2l0aW9uYWxHcm91cE5hbWUoKSk7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbihrZXksIG9wdHMpO1xuICAgIH1cbiAgICByZWNvbW1lbmRDb21tYW5kcyhyZWNvbW1lbmQgPSB0cnVlKSB7XG4gICAgICAgIGFyZ3NlcnQoJ1tib29sZWFuXScsIFtyZWNvbW1lbmRdLCBhcmd1bWVudHMubGVuZ3RoKTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9yZWNvbW1lbmRDb21tYW5kcywgcmVjb21tZW5kLCBcImZcIik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXF1aXJlZChrZXlzLCBtYXgsIG1zZykge1xuICAgICAgICByZXR1cm4gdGhpcy5kZW1hbmQoa2V5cywgbWF4LCBtc2cpO1xuICAgIH1cbiAgICByZXF1aXJlKGtleXMsIG1heCwgbXNnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRlbWFuZChrZXlzLCBtYXgsIG1zZyk7XG4gICAgfVxuICAgIHJlcXVpcmVzQXJnKGtleXMpIHtcbiAgICAgICAgYXJnc2VydCgnPGFycmF5fHN0cmluZ3xvYmplY3Q+IFtudW1iZXJdJywgW2tleXNdLCBhcmd1bWVudHMubGVuZ3RoKTtcbiAgICAgICAgaWYgKHR5cGVvZiBrZXlzID09PSAnc3RyaW5nJyAmJiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX29wdGlvbnMsIFwiZlwiKS5uYXJnW2tleXNdKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXNba1BvcHVsYXRlUGFyc2VySGludFNpbmdsZVZhbHVlRGljdGlvbmFyeV0odGhpcy5yZXF1aXJlc0FyZy5iaW5kKHRoaXMpLCAnbmFyZycsIGtleXMsIE5hTik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHNob3dDb21wbGV0aW9uU2NyaXB0KCQwLCBjbWQpIHtcbiAgICAgICAgYXJnc2VydCgnW3N0cmluZ10gW3N0cmluZ10nLCBbJDAsIGNtZF0sIGFyZ3VtZW50cy5sZW5ndGgpO1xuICAgICAgICAkMCA9ICQwIHx8IHRoaXMuJDA7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfbG9nZ2VyLCBcImZcIikubG9nKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfY29tcGxldGlvbiwgXCJmXCIpLmdlbmVyYXRlQ29tcGxldGlvblNjcmlwdCgkMCwgY21kIHx8IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfY29tcGxldGlvbkNvbW1hbmQsIFwiZlwiKSB8fCAnY29tcGxldGlvbicpKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHNob3dIZWxwKGxldmVsKSB7XG4gICAgICAgIGFyZ3NlcnQoJ1tzdHJpbmd8ZnVuY3Rpb25dJywgW2xldmVsXSwgYXJndW1lbnRzLmxlbmd0aCk7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfaGFzT3V0cHV0LCB0cnVlLCBcImZcIik7XG4gICAgICAgIGlmICghX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV91c2FnZSwgXCJmXCIpLmhhc0NhY2hlZEhlbHBNZXNzYWdlKCkpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5wYXJzZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZSA9IHRoaXNba1J1bllhcmdzUGFyc2VyQW5kRXhlY3V0ZUNvbW1hbmRzXShfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3Byb2Nlc3NBcmdzLCBcImZcIiksIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCAwLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBpZiAoaXNQcm9taXNlKHBhcnNlKSkge1xuICAgICAgICAgICAgICAgICAgICBwYXJzZS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfdXNhZ2UsIFwiZlwiKS5zaG93SGVscChsZXZlbCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBidWlsZGVyUmVzcG9uc2UgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX2NvbW1hbmQsIFwiZlwiKS5ydW5EZWZhdWx0QnVpbGRlck9uKHRoaXMpO1xuICAgICAgICAgICAgaWYgKGlzUHJvbWlzZShidWlsZGVyUmVzcG9uc2UpKSB7XG4gICAgICAgICAgICAgICAgYnVpbGRlclJlc3BvbnNlLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3VzYWdlLCBcImZcIikuc2hvd0hlbHAobGV2ZWwpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfdXNhZ2UsIFwiZlwiKS5zaG93SGVscChsZXZlbCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBzY3JpcHROYW1lKHNjcmlwdE5hbWUpIHtcbiAgICAgICAgdGhpcy5jdXN0b21TY3JpcHROYW1lID0gdHJ1ZTtcbiAgICAgICAgdGhpcy4kMCA9IHNjcmlwdE5hbWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBzaG93SGVscE9uRmFpbChlbmFibGVkLCBtZXNzYWdlKSB7XG4gICAgICAgIGFyZ3NlcnQoJ1tib29sZWFufHN0cmluZ10gW3N0cmluZ10nLCBbZW5hYmxlZCwgbWVzc2FnZV0sIGFyZ3VtZW50cy5sZW5ndGgpO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3VzYWdlLCBcImZcIikuc2hvd0hlbHBPbkZhaWwoZW5hYmxlZCwgbWVzc2FnZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBzaG93VmVyc2lvbihsZXZlbCkge1xuICAgICAgICBhcmdzZXJ0KCdbc3RyaW5nfGZ1bmN0aW9uXScsIFtsZXZlbF0sIGFyZ3VtZW50cy5sZW5ndGgpO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3VzYWdlLCBcImZcIikuc2hvd1ZlcnNpb24obGV2ZWwpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc2tpcFZhbGlkYXRpb24oa2V5cykge1xuICAgICAgICBhcmdzZXJ0KCc8YXJyYXl8c3RyaW5nPicsIFtrZXlzXSwgYXJndW1lbnRzLmxlbmd0aCk7XG4gICAgICAgIHRoaXNba1BvcHVsYXRlUGFyc2VySGludEFycmF5XSgnc2tpcFZhbGlkYXRpb24nLCBrZXlzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHN0cmljdChlbmFibGVkKSB7XG4gICAgICAgIGFyZ3NlcnQoJ1tib29sZWFuXScsIFtlbmFibGVkXSwgYXJndW1lbnRzLmxlbmd0aCk7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX1lhcmdzSW5zdGFuY2Vfc3RyaWN0LCBlbmFibGVkICE9PSBmYWxzZSwgXCJmXCIpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc3RyaWN0Q29tbWFuZHMoZW5hYmxlZCkge1xuICAgICAgICBhcmdzZXJ0KCdbYm9vbGVhbl0nLCBbZW5hYmxlZF0sIGFyZ3VtZW50cy5sZW5ndGgpO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3N0cmljdENvbW1hbmRzLCBlbmFibGVkICE9PSBmYWxzZSwgXCJmXCIpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc3RyaWN0T3B0aW9ucyhlbmFibGVkKSB7XG4gICAgICAgIGFyZ3NlcnQoJ1tib29sZWFuXScsIFtlbmFibGVkXSwgYXJndW1lbnRzLmxlbmd0aCk7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX1lhcmdzSW5zdGFuY2Vfc3RyaWN0T3B0aW9ucywgZW5hYmxlZCAhPT0gZmFsc2UsIFwiZlwiKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHN0cmluZyhrZXlzKSB7XG4gICAgICAgIGFyZ3NlcnQoJzxhcnJheXxzdHJpbmc+JywgW2tleXNdLCBhcmd1bWVudHMubGVuZ3RoKTtcbiAgICAgICAgdGhpc1trUG9wdWxhdGVQYXJzZXJIaW50QXJyYXldKCdzdHJpbmcnLCBrZXlzKTtcbiAgICAgICAgdGhpc1trVHJhY2tNYW51YWxseVNldEtleXNdKGtleXMpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgdGVybWluYWxXaWR0aCgpIHtcbiAgICAgICAgYXJnc2VydChbXSwgMCk7XG4gICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3NoaW0sIFwiZlwiKS5wcm9jZXNzLnN0ZENvbHVtbnM7XG4gICAgfVxuICAgIHVwZGF0ZUxvY2FsZShvYmopIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlU3RyaW5ncyhvYmopO1xuICAgIH1cbiAgICB1cGRhdGVTdHJpbmdzKG9iaikge1xuICAgICAgICBhcmdzZXJ0KCc8b2JqZWN0PicsIFtvYmpdLCBhcmd1bWVudHMubGVuZ3RoKTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9kZXRlY3RMb2NhbGUsIGZhbHNlLCBcImZcIik7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2Vfc2hpbSwgXCJmXCIpLnkxOG4udXBkYXRlTG9jYWxlKG9iaik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB1c2FnZShtc2csIGRlc2NyaXB0aW9uLCBidWlsZGVyLCBoYW5kbGVyKSB7XG4gICAgICAgIGFyZ3NlcnQoJzxzdHJpbmd8bnVsbHx1bmRlZmluZWQ+IFtzdHJpbmd8Ym9vbGVhbl0gW2Z1bmN0aW9ufG9iamVjdF0gW2Z1bmN0aW9uXScsIFttc2csIGRlc2NyaXB0aW9uLCBidWlsZGVyLCBoYW5kbGVyXSwgYXJndW1lbnRzLmxlbmd0aCk7XG4gICAgICAgIGlmIChkZXNjcmlwdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBhc3NlcnROb3RTdHJpY3RFcXVhbChtc2csIG51bGwsIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2Vfc2hpbSwgXCJmXCIpKTtcbiAgICAgICAgICAgIGlmICgobXNnIHx8ICcnKS5tYXRjaCgvXlxcJDAoIHwkKS8pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tbWFuZChtc2csIGRlc2NyaXB0aW9uLCBidWlsZGVyLCBoYW5kbGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBZRXJyb3IoJy51c2FnZSgpIGRlc2NyaXB0aW9uIG11c3Qgc3RhcnQgd2l0aCAkMCBpZiBiZWluZyB1c2VkIGFzIGFsaWFzIGZvciAuY29tbWFuZCgpJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3VzYWdlLCBcImZcIikudXNhZ2UobXNnKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVzYWdlQ29uZmlndXJhdGlvbihjb25maWcpIHtcbiAgICAgICAgYXJnc2VydCgnPG9iamVjdD4nLCBbY29uZmlnXSwgYXJndW1lbnRzLmxlbmd0aCk7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfdXNhZ2VDb25maWcsIGNvbmZpZywgXCJmXCIpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgdmVyc2lvbihvcHQsIG1zZywgdmVyKSB7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRWZXJzaW9uT3B0ID0gJ3ZlcnNpb24nO1xuICAgICAgICBhcmdzZXJ0KCdbYm9vbGVhbnxzdHJpbmddIFtzdHJpbmddIFtzdHJpbmddJywgW29wdCwgbXNnLCB2ZXJdLCBhcmd1bWVudHMubGVuZ3RoKTtcbiAgICAgICAgaWYgKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfdmVyc2lvbk9wdCwgXCJmXCIpKSB7XG4gICAgICAgICAgICB0aGlzW2tEZWxldGVGcm9tUGFyc2VySGludE9iamVjdF0oX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV92ZXJzaW9uT3B0LCBcImZcIikpO1xuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV91c2FnZSwgXCJmXCIpLnZlcnNpb24odW5kZWZpbmVkKTtcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfdmVyc2lvbk9wdCwgbnVsbCwgXCJmXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB2ZXIgPSB0aGlzW2tHdWVzc1ZlcnNpb25dKCk7XG4gICAgICAgICAgICBvcHQgPSBkZWZhdWx0VmVyc2lvbk9wdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICBpZiAob3B0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmVyID0gb3B0O1xuICAgICAgICAgICAgb3B0ID0gZGVmYXVsdFZlcnNpb25PcHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgdmVyID0gbXNnO1xuICAgICAgICAgICAgbXNnID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfdmVyc2lvbk9wdCwgdHlwZW9mIG9wdCA9PT0gJ3N0cmluZycgPyBvcHQgOiBkZWZhdWx0VmVyc2lvbk9wdCwgXCJmXCIpO1xuICAgICAgICBtc2cgPSBtc2cgfHwgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV91c2FnZSwgXCJmXCIpLmRlZmVyWTE4bkxvb2t1cCgnU2hvdyB2ZXJzaW9uIG51bWJlcicpO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3VzYWdlLCBcImZcIikudmVyc2lvbih2ZXIgfHwgdW5kZWZpbmVkKTtcbiAgICAgICAgdGhpcy5ib29sZWFuKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfdmVyc2lvbk9wdCwgXCJmXCIpKTtcbiAgICAgICAgdGhpcy5kZXNjcmliZShfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3ZlcnNpb25PcHQsIFwiZlwiKSwgbXNnKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHdyYXAoY29scykge1xuICAgICAgICBhcmdzZXJ0KCc8bnVtYmVyfG51bGx8dW5kZWZpbmVkPicsIFtjb2xzXSwgYXJndW1lbnRzLmxlbmd0aCk7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfdXNhZ2UsIFwiZlwiKS53cmFwKGNvbHMpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgWyhfWWFyZ3NJbnN0YW5jZV9jb21tYW5kID0gbmV3IFdlYWtNYXAoKSwgX1lhcmdzSW5zdGFuY2VfY3dkID0gbmV3IFdlYWtNYXAoKSwgX1lhcmdzSW5zdGFuY2VfY29udGV4dCA9IG5ldyBXZWFrTWFwKCksIF9ZYXJnc0luc3RhbmNlX2NvbXBsZXRpb24gPSBuZXcgV2Vha01hcCgpLCBfWWFyZ3NJbnN0YW5jZV9jb21wbGV0aW9uQ29tbWFuZCA9IG5ldyBXZWFrTWFwKCksIF9ZYXJnc0luc3RhbmNlX2RlZmF1bHRTaG93SGlkZGVuT3B0ID0gbmV3IFdlYWtNYXAoKSwgX1lhcmdzSW5zdGFuY2VfZXhpdEVycm9yID0gbmV3IFdlYWtNYXAoKSwgX1lhcmdzSW5zdGFuY2VfZGV0ZWN0TG9jYWxlID0gbmV3IFdlYWtNYXAoKSwgX1lhcmdzSW5zdGFuY2VfZW1pdHRlZFdhcm5pbmdzID0gbmV3IFdlYWtNYXAoKSwgX1lhcmdzSW5zdGFuY2VfZXhpdFByb2Nlc3MgPSBuZXcgV2Vha01hcCgpLCBfWWFyZ3NJbnN0YW5jZV9mcm96ZW5zID0gbmV3IFdlYWtNYXAoKSwgX1lhcmdzSW5zdGFuY2VfZ2xvYmFsTWlkZGxld2FyZSA9IG5ldyBXZWFrTWFwKCksIF9ZYXJnc0luc3RhbmNlX2dyb3VwcyA9IG5ldyBXZWFrTWFwKCksIF9ZYXJnc0luc3RhbmNlX2hhc091dHB1dCA9IG5ldyBXZWFrTWFwKCksIF9ZYXJnc0luc3RhbmNlX2hlbHBPcHQgPSBuZXcgV2Vha01hcCgpLCBfWWFyZ3NJbnN0YW5jZV9pc0dsb2JhbENvbnRleHQgPSBuZXcgV2Vha01hcCgpLCBfWWFyZ3NJbnN0YW5jZV9sb2dnZXIgPSBuZXcgV2Vha01hcCgpLCBfWWFyZ3NJbnN0YW5jZV9vdXRwdXQgPSBuZXcgV2Vha01hcCgpLCBfWWFyZ3NJbnN0YW5jZV9vcHRpb25zID0gbmV3IFdlYWtNYXAoKSwgX1lhcmdzSW5zdGFuY2VfcGFyZW50UmVxdWlyZSA9IG5ldyBXZWFrTWFwKCksIF9ZYXJnc0luc3RhbmNlX3BhcnNlckNvbmZpZyA9IG5ldyBXZWFrTWFwKCksIF9ZYXJnc0luc3RhbmNlX3BhcnNlRm4gPSBuZXcgV2Vha01hcCgpLCBfWWFyZ3NJbnN0YW5jZV9wYXJzZUNvbnRleHQgPSBuZXcgV2Vha01hcCgpLCBfWWFyZ3NJbnN0YW5jZV9wa2dzID0gbmV3IFdlYWtNYXAoKSwgX1lhcmdzSW5zdGFuY2VfcHJlc2VydmVkR3JvdXBzID0gbmV3IFdlYWtNYXAoKSwgX1lhcmdzSW5zdGFuY2VfcHJvY2Vzc0FyZ3MgPSBuZXcgV2Vha01hcCgpLCBfWWFyZ3NJbnN0YW5jZV9yZWNvbW1lbmRDb21tYW5kcyA9IG5ldyBXZWFrTWFwKCksIF9ZYXJnc0luc3RhbmNlX3NoaW0gPSBuZXcgV2Vha01hcCgpLCBfWWFyZ3NJbnN0YW5jZV9zdHJpY3QgPSBuZXcgV2Vha01hcCgpLCBfWWFyZ3NJbnN0YW5jZV9zdHJpY3RDb21tYW5kcyA9IG5ldyBXZWFrTWFwKCksIF9ZYXJnc0luc3RhbmNlX3N0cmljdE9wdGlvbnMgPSBuZXcgV2Vha01hcCgpLCBfWWFyZ3NJbnN0YW5jZV91c2FnZSA9IG5ldyBXZWFrTWFwKCksIF9ZYXJnc0luc3RhbmNlX3VzYWdlQ29uZmlnID0gbmV3IFdlYWtNYXAoKSwgX1lhcmdzSW5zdGFuY2VfdmVyc2lvbk9wdCA9IG5ldyBXZWFrTWFwKCksIF9ZYXJnc0luc3RhbmNlX3ZhbGlkYXRpb24gPSBuZXcgV2Vha01hcCgpLCBrQ29weURvdWJsZURhc2gpXShhcmd2KSB7XG4gICAgICAgIGlmICghYXJndi5fIHx8ICFhcmd2WyctLSddKVxuICAgICAgICAgICAgcmV0dXJuIGFyZ3Y7XG4gICAgICAgIGFyZ3YuXy5wdXNoLmFwcGx5KGFyZ3YuXywgYXJndlsnLS0nXSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBkZWxldGUgYXJndlsnLS0nXTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoX2VycikgeyB9XG4gICAgICAgIHJldHVybiBhcmd2O1xuICAgIH1cbiAgICBba0NyZWF0ZUxvZ2dlcl0oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBsb2c6ICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzW2tIYXNQYXJzZUNhbGxiYWNrXSgpKVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyguLi5hcmdzKTtcbiAgICAgICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX2hhc091dHB1dCwgdHJ1ZSwgXCJmXCIpO1xuICAgICAgICAgICAgICAgIGlmIChfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX291dHB1dCwgXCJmXCIpLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9vdXRwdXQsIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2Vfb3V0cHV0LCBcImZcIikgKyAnXFxuJywgXCJmXCIpO1xuICAgICAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX1lhcmdzSW5zdGFuY2Vfb3V0cHV0LCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX291dHB1dCwgXCJmXCIpICsgYXJncy5qb2luKCcgJyksIFwiZlwiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXNba0hhc1BhcnNlQ2FsbGJhY2tdKCkpXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoLi4uYXJncyk7XG4gICAgICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9oYXNPdXRwdXQsIHRydWUsIFwiZlwiKTtcbiAgICAgICAgICAgICAgICBpZiAoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9vdXRwdXQsIFwiZlwiKS5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX1lhcmdzSW5zdGFuY2Vfb3V0cHV0LCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX291dHB1dCwgXCJmXCIpICsgJ1xcbicsIFwiZlwiKTtcbiAgICAgICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX291dHB1dCwgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9vdXRwdXQsIFwiZlwiKSArIGFyZ3Muam9pbignICcpLCBcImZcIik7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBba0RlbGV0ZUZyb21QYXJzZXJIaW50T2JqZWN0XShvcHRpb25LZXkpIHtcbiAgICAgICAgb2JqZWN0S2V5cyhfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX29wdGlvbnMsIFwiZlwiKSkuZm9yRWFjaCgoaGludEtleSkgPT4ge1xuICAgICAgICAgICAgaWYgKCgoa2V5KSA9PiBrZXkgPT09ICdjb25maWdPYmplY3RzJykoaGludEtleSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgaGludCA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2Vfb3B0aW9ucywgXCJmXCIpW2hpbnRLZXldO1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaGludCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoaGludC5pbmNsdWRlcyhvcHRpb25LZXkpKVxuICAgICAgICAgICAgICAgICAgICBoaW50LnNwbGljZShoaW50LmluZGV4T2Yob3B0aW9uS2V5KSwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgaGludCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgaGludFtvcHRpb25LZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgZGVsZXRlIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfdXNhZ2UsIFwiZlwiKS5nZXREZXNjcmlwdGlvbnMoKVtvcHRpb25LZXldO1xuICAgIH1cbiAgICBba0VtaXRXYXJuaW5nXSh3YXJuaW5nLCB0eXBlLCBkZWR1cGxpY2F0aW9uSWQpIHtcbiAgICAgICAgaWYgKCFfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX2VtaXR0ZWRXYXJuaW5ncywgXCJmXCIpW2RlZHVwbGljYXRpb25JZF0pIHtcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2Vfc2hpbSwgXCJmXCIpLnByb2Nlc3MuZW1pdFdhcm5pbmcod2FybmluZywgdHlwZSk7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX2VtaXR0ZWRXYXJuaW5ncywgXCJmXCIpW2RlZHVwbGljYXRpb25JZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIFtrRnJlZXplXSgpIHtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9mcm96ZW5zLCBcImZcIikucHVzaCh7XG4gICAgICAgICAgICBvcHRpb25zOiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX29wdGlvbnMsIFwiZlwiKSxcbiAgICAgICAgICAgIGNvbmZpZ09iamVjdHM6IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2Vfb3B0aW9ucywgXCJmXCIpLmNvbmZpZ09iamVjdHMuc2xpY2UoMCksXG4gICAgICAgICAgICBleGl0UHJvY2VzczogX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9leGl0UHJvY2VzcywgXCJmXCIpLFxuICAgICAgICAgICAgZ3JvdXBzOiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX2dyb3VwcywgXCJmXCIpLFxuICAgICAgICAgICAgc3RyaWN0OiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3N0cmljdCwgXCJmXCIpLFxuICAgICAgICAgICAgc3RyaWN0Q29tbWFuZHM6IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2Vfc3RyaWN0Q29tbWFuZHMsIFwiZlwiKSxcbiAgICAgICAgICAgIHN0cmljdE9wdGlvbnM6IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2Vfc3RyaWN0T3B0aW9ucywgXCJmXCIpLFxuICAgICAgICAgICAgY29tcGxldGlvbkNvbW1hbmQ6IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfY29tcGxldGlvbkNvbW1hbmQsIFwiZlwiKSxcbiAgICAgICAgICAgIG91dHB1dDogX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9vdXRwdXQsIFwiZlwiKSxcbiAgICAgICAgICAgIGV4aXRFcnJvcjogX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9leGl0RXJyb3IsIFwiZlwiKSxcbiAgICAgICAgICAgIGhhc091dHB1dDogX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9oYXNPdXRwdXQsIFwiZlwiKSxcbiAgICAgICAgICAgIHBhcnNlZDogdGhpcy5wYXJzZWQsXG4gICAgICAgICAgICBwYXJzZUZuOiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3BhcnNlRm4sIFwiZlwiKSxcbiAgICAgICAgICAgIHBhcnNlQ29udGV4dDogX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9wYXJzZUNvbnRleHQsIFwiZlwiKSxcbiAgICAgICAgfSk7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfdXNhZ2UsIFwiZlwiKS5mcmVlemUoKTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV92YWxpZGF0aW9uLCBcImZcIikuZnJlZXplKCk7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfY29tbWFuZCwgXCJmXCIpLmZyZWV6ZSgpO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX2dsb2JhbE1pZGRsZXdhcmUsIFwiZlwiKS5mcmVlemUoKTtcbiAgICB9XG4gICAgW2tHZXREb2xsYXJaZXJvXSgpIHtcbiAgICAgICAgbGV0ICQwID0gJyc7XG4gICAgICAgIGxldCBkZWZhdWx0JDA7XG4gICAgICAgIGlmICgvXFxiKG5vZGV8aW9qc3xlbGVjdHJvbikoXFwuZXhlKT8kLy50ZXN0KF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2Vfc2hpbSwgXCJmXCIpLnByb2Nlc3MuYXJndigpWzBdKSkge1xuICAgICAgICAgICAgZGVmYXVsdCQwID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9zaGltLCBcImZcIikucHJvY2Vzcy5hcmd2KCkuc2xpY2UoMSwgMik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkZWZhdWx0JDAgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3NoaW0sIFwiZlwiKS5wcm9jZXNzLmFyZ3YoKS5zbGljZSgwLCAxKTtcbiAgICAgICAgfVxuICAgICAgICAkMCA9IGRlZmF1bHQkMFxuICAgICAgICAgICAgLm1hcCh4ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGIgPSB0aGlzW2tSZWJhc2VdKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfY3dkLCBcImZcIiksIHgpO1xuICAgICAgICAgICAgcmV0dXJuIHgubWF0Y2goL14oXFwvfChbYS16QS1aXTopP1xcXFwpLykgJiYgYi5sZW5ndGggPCB4Lmxlbmd0aCA/IGIgOiB4O1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmpvaW4oJyAnKVxuICAgICAgICAgICAgLnRyaW0oKTtcbiAgICAgICAgaWYgKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2Vfc2hpbSwgXCJmXCIpLmdldEVudignXycpICYmXG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3NoaW0sIFwiZlwiKS5nZXRQcm9jZXNzQXJndkJpbigpID09PSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3NoaW0sIFwiZlwiKS5nZXRFbnYoJ18nKSkge1xuICAgICAgICAgICAgJDAgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3NoaW0sIFwiZlwiKVxuICAgICAgICAgICAgICAgIC5nZXRFbnYoJ18nKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKGAke19fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2Vfc2hpbSwgXCJmXCIpLnBhdGguZGlybmFtZShfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3NoaW0sIFwiZlwiKS5wcm9jZXNzLmV4ZWNQYXRoKCkpfS9gLCAnJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICQwO1xuICAgIH1cbiAgICBba0dldFBhcnNlckNvbmZpZ3VyYXRpb25dKCkge1xuICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9wYXJzZXJDb25maWcsIFwiZlwiKTtcbiAgICB9XG4gICAgW2tHZXRVc2FnZUNvbmZpZ3VyYXRpb25dKCkge1xuICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV91c2FnZUNvbmZpZywgXCJmXCIpO1xuICAgIH1cbiAgICBba0d1ZXNzTG9jYWxlXSgpIHtcbiAgICAgICAgaWYgKCFfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX2RldGVjdExvY2FsZSwgXCJmXCIpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBsb2NhbGUgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3NoaW0sIFwiZlwiKS5nZXRFbnYoJ0xDX0FMTCcpIHx8XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3NoaW0sIFwiZlwiKS5nZXRFbnYoJ0xDX01FU1NBR0VTJykgfHxcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2Vfc2hpbSwgXCJmXCIpLmdldEVudignTEFORycpIHx8XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3NoaW0sIFwiZlwiKS5nZXRFbnYoJ0xBTkdVQUdFJykgfHxcbiAgICAgICAgICAgICdlbl9VUyc7XG4gICAgICAgIHRoaXMubG9jYWxlKGxvY2FsZS5yZXBsYWNlKC9bLjpdLiovLCAnJykpO1xuICAgIH1cbiAgICBba0d1ZXNzVmVyc2lvbl0oKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHRoaXNba1BrZ1VwXSgpO1xuICAgICAgICByZXR1cm4gb2JqLnZlcnNpb24gfHwgJ3Vua25vd24nO1xuICAgIH1cbiAgICBba1BhcnNlUG9zaXRpb25hbE51bWJlcnNdKGFyZ3YpIHtcbiAgICAgICAgY29uc3QgYXJncyA9IGFyZ3ZbJy0tJ10gPyBhcmd2WyctLSddIDogYXJndi5fO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgYXJnOyAoYXJnID0gYXJnc1tpXSkgIT09IHVuZGVmaW5lZDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9zaGltLCBcImZcIikuUGFyc2VyLmxvb2tzTGlrZU51bWJlcihhcmcpICYmXG4gICAgICAgICAgICAgICAgTnVtYmVyLmlzU2FmZUludGVnZXIoTWF0aC5mbG9vcihwYXJzZUZsb2F0KGAke2FyZ31gKSkpKSB7XG4gICAgICAgICAgICAgICAgYXJnc1tpXSA9IE51bWJlcihhcmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcmd2O1xuICAgIH1cbiAgICBba1BrZ1VwXShyb290UGF0aCkge1xuICAgICAgICBjb25zdCBucGF0aCA9IHJvb3RQYXRoIHx8ICcqJztcbiAgICAgICAgaWYgKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfcGtncywgXCJmXCIpW25wYXRoXSlcbiAgICAgICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3BrZ3MsIFwiZlwiKVtucGF0aF07XG4gICAgICAgIGxldCBvYmogPSB7fTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCBzdGFydERpciA9IHJvb3RQYXRoIHx8IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2Vfc2hpbSwgXCJmXCIpLm1haW5GaWxlbmFtZTtcbiAgICAgICAgICAgIGlmICghcm9vdFBhdGggJiYgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9zaGltLCBcImZcIikucGF0aC5leHRuYW1lKHN0YXJ0RGlyKSkge1xuICAgICAgICAgICAgICAgIHN0YXJ0RGlyID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9zaGltLCBcImZcIikucGF0aC5kaXJuYW1lKHN0YXJ0RGlyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHBrZ0pzb25QYXRoID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9zaGltLCBcImZcIikuZmluZFVwKHN0YXJ0RGlyLCAoZGlyLCBuYW1lcykgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChuYW1lcy5pbmNsdWRlcygncGFja2FnZS5qc29uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdwYWNrYWdlLmpzb24nO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGFzc2VydE5vdFN0cmljdEVxdWFsKHBrZ0pzb25QYXRoLCB1bmRlZmluZWQsIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2Vfc2hpbSwgXCJmXCIpKTtcbiAgICAgICAgICAgIG9iaiA9IEpTT04ucGFyc2UoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9zaGltLCBcImZcIikucmVhZEZpbGVTeW5jKHBrZ0pzb25QYXRoLCAndXRmOCcpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoX25vb3ApIHsgfVxuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3BrZ3MsIFwiZlwiKVtucGF0aF0gPSBvYmogfHwge307XG4gICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3BrZ3MsIFwiZlwiKVtucGF0aF07XG4gICAgfVxuICAgIFtrUG9wdWxhdGVQYXJzZXJIaW50QXJyYXldKHR5cGUsIGtleXMpIHtcbiAgICAgICAga2V5cyA9IFtdLmNvbmNhdChrZXlzKTtcbiAgICAgICAga2V5cy5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgICBrZXkgPSB0aGlzW2tTYW5pdGl6ZUtleV0oa2V5KTtcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2Vfb3B0aW9ucywgXCJmXCIpW3R5cGVdLnB1c2goa2V5KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIFtrUG9wdWxhdGVQYXJzZXJIaW50U2luZ2xlVmFsdWVEaWN0aW9uYXJ5XShidWlsZGVyLCB0eXBlLCBrZXksIHZhbHVlKSB7XG4gICAgICAgIHRoaXNba1BvcHVsYXRlUGFyc2VySGludERpY3Rpb25hcnldKGJ1aWxkZXIsIHR5cGUsIGtleSwgdmFsdWUsICh0eXBlLCBrZXksIHZhbHVlKSA9PiB7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX29wdGlvbnMsIFwiZlwiKVt0eXBlXVtrZXldID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBba1BvcHVsYXRlUGFyc2VySGludEFycmF5RGljdGlvbmFyeV0oYnVpbGRlciwgdHlwZSwga2V5LCB2YWx1ZSkge1xuICAgICAgICB0aGlzW2tQb3B1bGF0ZVBhcnNlckhpbnREaWN0aW9uYXJ5XShidWlsZGVyLCB0eXBlLCBrZXksIHZhbHVlLCAodHlwZSwga2V5LCB2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9vcHRpb25zLCBcImZcIilbdHlwZV1ba2V5XSA9IChfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX29wdGlvbnMsIFwiZlwiKVt0eXBlXVtrZXldIHx8IFtdKS5jb25jYXQodmFsdWUpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgW2tQb3B1bGF0ZVBhcnNlckhpbnREaWN0aW9uYXJ5XShidWlsZGVyLCB0eXBlLCBrZXksIHZhbHVlLCBzaW5nbGVLZXlIYW5kbGVyKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGtleSkpIHtcbiAgICAgICAgICAgIGtleS5mb3JFYWNoKGsgPT4ge1xuICAgICAgICAgICAgICAgIGJ1aWxkZXIoaywgdmFsdWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKChrZXkpID0+IHR5cGVvZiBrZXkgPT09ICdvYmplY3QnKShrZXkpKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGsgb2Ygb2JqZWN0S2V5cyhrZXkpKSB7XG4gICAgICAgICAgICAgICAgYnVpbGRlcihrLCBrZXlba10pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2luZ2xlS2V5SGFuZGxlcih0eXBlLCB0aGlzW2tTYW5pdGl6ZUtleV0oa2V5KSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIFtrU2FuaXRpemVLZXldKGtleSkge1xuICAgICAgICBpZiAoa2V5ID09PSAnX19wcm90b19fJylcbiAgICAgICAgICAgIHJldHVybiAnX19fcHJvdG9fX18nO1xuICAgICAgICByZXR1cm4ga2V5O1xuICAgIH1cbiAgICBba1NldEtleV0oa2V5LCBzZXQpIHtcbiAgICAgICAgdGhpc1trUG9wdWxhdGVQYXJzZXJIaW50U2luZ2xlVmFsdWVEaWN0aW9uYXJ5XSh0aGlzW2tTZXRLZXldLmJpbmQodGhpcyksICdrZXknLCBrZXksIHNldCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBba1VuZnJlZXplXSgpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2osIF9rLCBfbCwgX207XG4gICAgICAgIGNvbnN0IGZyb3plbiA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfZnJvemVucywgXCJmXCIpLnBvcCgpO1xuICAgICAgICBhc3NlcnROb3RTdHJpY3RFcXVhbChmcm96ZW4sIHVuZGVmaW5lZCwgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9zaGltLCBcImZcIikpO1xuICAgICAgICBsZXQgY29uZmlnT2JqZWN0cztcbiAgICAgICAgKF9hID0gdGhpcywgX2IgPSB0aGlzLCBfYyA9IHRoaXMsIF9kID0gdGhpcywgX2UgPSB0aGlzLCBfZiA9IHRoaXMsIF9nID0gdGhpcywgX2ggPSB0aGlzLCBfaiA9IHRoaXMsIF9rID0gdGhpcywgX2wgPSB0aGlzLCBfbSA9IHRoaXMsIHtcbiAgICAgICAgICAgIG9wdGlvbnM6ICh7IHNldCB2YWx1ZShfbykgeyBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KF9hLCBfWWFyZ3NJbnN0YW5jZV9vcHRpb25zLCBfbywgXCJmXCIpOyB9IH0pLnZhbHVlLFxuICAgICAgICAgICAgY29uZmlnT2JqZWN0cyxcbiAgICAgICAgICAgIGV4aXRQcm9jZXNzOiAoeyBzZXQgdmFsdWUoX28pIHsgX19jbGFzc1ByaXZhdGVGaWVsZFNldChfYiwgX1lhcmdzSW5zdGFuY2VfZXhpdFByb2Nlc3MsIF9vLCBcImZcIik7IH0gfSkudmFsdWUsXG4gICAgICAgICAgICBncm91cHM6ICh7IHNldCB2YWx1ZShfbykgeyBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KF9jLCBfWWFyZ3NJbnN0YW5jZV9ncm91cHMsIF9vLCBcImZcIik7IH0gfSkudmFsdWUsXG4gICAgICAgICAgICBvdXRwdXQ6ICh7IHNldCB2YWx1ZShfbykgeyBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KF9kLCBfWWFyZ3NJbnN0YW5jZV9vdXRwdXQsIF9vLCBcImZcIik7IH0gfSkudmFsdWUsXG4gICAgICAgICAgICBleGl0RXJyb3I6ICh7IHNldCB2YWx1ZShfbykgeyBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KF9lLCBfWWFyZ3NJbnN0YW5jZV9leGl0RXJyb3IsIF9vLCBcImZcIik7IH0gfSkudmFsdWUsXG4gICAgICAgICAgICBoYXNPdXRwdXQ6ICh7IHNldCB2YWx1ZShfbykgeyBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KF9mLCBfWWFyZ3NJbnN0YW5jZV9oYXNPdXRwdXQsIF9vLCBcImZcIik7IH0gfSkudmFsdWUsXG4gICAgICAgICAgICBwYXJzZWQ6IHRoaXMucGFyc2VkLFxuICAgICAgICAgICAgc3RyaWN0OiAoeyBzZXQgdmFsdWUoX28pIHsgX19jbGFzc1ByaXZhdGVGaWVsZFNldChfZywgX1lhcmdzSW5zdGFuY2Vfc3RyaWN0LCBfbywgXCJmXCIpOyB9IH0pLnZhbHVlLFxuICAgICAgICAgICAgc3RyaWN0Q29tbWFuZHM6ICh7IHNldCB2YWx1ZShfbykgeyBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KF9oLCBfWWFyZ3NJbnN0YW5jZV9zdHJpY3RDb21tYW5kcywgX28sIFwiZlwiKTsgfSB9KS52YWx1ZSxcbiAgICAgICAgICAgIHN0cmljdE9wdGlvbnM6ICh7IHNldCB2YWx1ZShfbykgeyBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KF9qLCBfWWFyZ3NJbnN0YW5jZV9zdHJpY3RPcHRpb25zLCBfbywgXCJmXCIpOyB9IH0pLnZhbHVlLFxuICAgICAgICAgICAgY29tcGxldGlvbkNvbW1hbmQ6ICh7IHNldCB2YWx1ZShfbykgeyBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KF9rLCBfWWFyZ3NJbnN0YW5jZV9jb21wbGV0aW9uQ29tbWFuZCwgX28sIFwiZlwiKTsgfSB9KS52YWx1ZSxcbiAgICAgICAgICAgIHBhcnNlRm46ICh7IHNldCB2YWx1ZShfbykgeyBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KF9sLCBfWWFyZ3NJbnN0YW5jZV9wYXJzZUZuLCBfbywgXCJmXCIpOyB9IH0pLnZhbHVlLFxuICAgICAgICAgICAgcGFyc2VDb250ZXh0OiAoeyBzZXQgdmFsdWUoX28pIHsgX19jbGFzc1ByaXZhdGVGaWVsZFNldChfbSwgX1lhcmdzSW5zdGFuY2VfcGFyc2VDb250ZXh0LCBfbywgXCJmXCIpOyB9IH0pLnZhbHVlLFxuICAgICAgICB9ID0gZnJvemVuKTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9vcHRpb25zLCBcImZcIikuY29uZmlnT2JqZWN0cyA9IGNvbmZpZ09iamVjdHM7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfdXNhZ2UsIFwiZlwiKS51bmZyZWV6ZSgpO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3ZhbGlkYXRpb24sIFwiZlwiKS51bmZyZWV6ZSgpO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX2NvbW1hbmQsIFwiZlwiKS51bmZyZWV6ZSgpO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX2dsb2JhbE1pZGRsZXdhcmUsIFwiZlwiKS51bmZyZWV6ZSgpO1xuICAgIH1cbiAgICBba1ZhbGlkYXRlQXN5bmNdKHZhbGlkYXRpb24sIGFyZ3YpIHtcbiAgICAgICAgcmV0dXJuIG1heWJlQXN5bmNSZXN1bHQoYXJndiwgcmVzdWx0ID0+IHtcbiAgICAgICAgICAgIHZhbGlkYXRpb24ocmVzdWx0KTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXRJbnRlcm5hbE1ldGhvZHMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBnZXRDb21tYW5kSW5zdGFuY2U6IHRoaXNba0dldENvbW1hbmRJbnN0YW5jZV0uYmluZCh0aGlzKSxcbiAgICAgICAgICAgIGdldENvbnRleHQ6IHRoaXNba0dldENvbnRleHRdLmJpbmQodGhpcyksXG4gICAgICAgICAgICBnZXRIYXNPdXRwdXQ6IHRoaXNba0dldEhhc091dHB1dF0uYmluZCh0aGlzKSxcbiAgICAgICAgICAgIGdldExvZ2dlckluc3RhbmNlOiB0aGlzW2tHZXRMb2dnZXJJbnN0YW5jZV0uYmluZCh0aGlzKSxcbiAgICAgICAgICAgIGdldFBhcnNlQ29udGV4dDogdGhpc1trR2V0UGFyc2VDb250ZXh0XS5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgZ2V0UGFyc2VyQ29uZmlndXJhdGlvbjogdGhpc1trR2V0UGFyc2VyQ29uZmlndXJhdGlvbl0uYmluZCh0aGlzKSxcbiAgICAgICAgICAgIGdldFVzYWdlQ29uZmlndXJhdGlvbjogdGhpc1trR2V0VXNhZ2VDb25maWd1cmF0aW9uXS5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgZ2V0VXNhZ2VJbnN0YW5jZTogdGhpc1trR2V0VXNhZ2VJbnN0YW5jZV0uYmluZCh0aGlzKSxcbiAgICAgICAgICAgIGdldFZhbGlkYXRpb25JbnN0YW5jZTogdGhpc1trR2V0VmFsaWRhdGlvbkluc3RhbmNlXS5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgaGFzUGFyc2VDYWxsYmFjazogdGhpc1trSGFzUGFyc2VDYWxsYmFja10uYmluZCh0aGlzKSxcbiAgICAgICAgICAgIGlzR2xvYmFsQ29udGV4dDogdGhpc1trSXNHbG9iYWxDb250ZXh0XS5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgcG9zdFByb2Nlc3M6IHRoaXNba1Bvc3RQcm9jZXNzXS5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgcmVzZXQ6IHRoaXNba1Jlc2V0XS5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgcnVuVmFsaWRhdGlvbjogdGhpc1trUnVuVmFsaWRhdGlvbl0uYmluZCh0aGlzKSxcbiAgICAgICAgICAgIHJ1bllhcmdzUGFyc2VyQW5kRXhlY3V0ZUNvbW1hbmRzOiB0aGlzW2tSdW5ZYXJnc1BhcnNlckFuZEV4ZWN1dGVDb21tYW5kc10uYmluZCh0aGlzKSxcbiAgICAgICAgICAgIHNldEhhc091dHB1dDogdGhpc1trU2V0SGFzT3V0cHV0XS5iaW5kKHRoaXMpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBba0dldENvbW1hbmRJbnN0YW5jZV0oKSB7XG4gICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX2NvbW1hbmQsIFwiZlwiKTtcbiAgICB9XG4gICAgW2tHZXRDb250ZXh0XSgpIHtcbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfY29udGV4dCwgXCJmXCIpO1xuICAgIH1cbiAgICBba0dldEhhc091dHB1dF0oKSB7XG4gICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX2hhc091dHB1dCwgXCJmXCIpO1xuICAgIH1cbiAgICBba0dldExvZ2dlckluc3RhbmNlXSgpIHtcbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfbG9nZ2VyLCBcImZcIik7XG4gICAgfVxuICAgIFtrR2V0UGFyc2VDb250ZXh0XSgpIHtcbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfcGFyc2VDb250ZXh0LCBcImZcIikgfHwge307XG4gICAgfVxuICAgIFtrR2V0VXNhZ2VJbnN0YW5jZV0oKSB7XG4gICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3VzYWdlLCBcImZcIik7XG4gICAgfVxuICAgIFtrR2V0VmFsaWRhdGlvbkluc3RhbmNlXSgpIHtcbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfdmFsaWRhdGlvbiwgXCJmXCIpO1xuICAgIH1cbiAgICBba0hhc1BhcnNlQ2FsbGJhY2tdKCkge1xuICAgICAgICByZXR1cm4gISFfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3BhcnNlRm4sIFwiZlwiKTtcbiAgICB9XG4gICAgW2tJc0dsb2JhbENvbnRleHRdKCkge1xuICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9pc0dsb2JhbENvbnRleHQsIFwiZlwiKTtcbiAgICB9XG4gICAgW2tQb3N0UHJvY2Vzc10oYXJndiwgcG9wdWxhdGVEb3VibGVEYXNoLCBjYWxsZWRGcm9tQ29tbWFuZCwgcnVuR2xvYmFsTWlkZGxld2FyZSkge1xuICAgICAgICBpZiAoY2FsbGVkRnJvbUNvbW1hbmQpXG4gICAgICAgICAgICByZXR1cm4gYXJndjtcbiAgICAgICAgaWYgKGlzUHJvbWlzZShhcmd2KSlcbiAgICAgICAgICAgIHJldHVybiBhcmd2O1xuICAgICAgICBpZiAoIXBvcHVsYXRlRG91YmxlRGFzaCkge1xuICAgICAgICAgICAgYXJndiA9IHRoaXNba0NvcHlEb3VibGVEYXNoXShhcmd2KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJzZVBvc2l0aW9uYWxOdW1iZXJzID0gdGhpc1trR2V0UGFyc2VyQ29uZmlndXJhdGlvbl0oKVsncGFyc2UtcG9zaXRpb25hbC1udW1iZXJzJ10gfHxcbiAgICAgICAgICAgIHRoaXNba0dldFBhcnNlckNvbmZpZ3VyYXRpb25dKClbJ3BhcnNlLXBvc2l0aW9uYWwtbnVtYmVycyddID09PSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChwYXJzZVBvc2l0aW9uYWxOdW1iZXJzKSB7XG4gICAgICAgICAgICBhcmd2ID0gdGhpc1trUGFyc2VQb3NpdGlvbmFsTnVtYmVyc10oYXJndik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJ1bkdsb2JhbE1pZGRsZXdhcmUpIHtcbiAgICAgICAgICAgIGFyZ3YgPSBhcHBseU1pZGRsZXdhcmUoYXJndiwgdGhpcywgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9nbG9iYWxNaWRkbGV3YXJlLCBcImZcIikuZ2V0TWlkZGxld2FyZSgpLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFyZ3Y7XG4gICAgfVxuICAgIFtrUmVzZXRdKGFsaWFzZXMgPSB7fSkge1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX29wdGlvbnMsIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2Vfb3B0aW9ucywgXCJmXCIpIHx8IHt9LCBcImZcIik7XG4gICAgICAgIGNvbnN0IHRtcE9wdGlvbnMgPSB7fTtcbiAgICAgICAgdG1wT3B0aW9ucy5sb2NhbCA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2Vfb3B0aW9ucywgXCJmXCIpLmxvY2FsIHx8IFtdO1xuICAgICAgICB0bXBPcHRpb25zLmNvbmZpZ09iamVjdHMgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX29wdGlvbnMsIFwiZlwiKS5jb25maWdPYmplY3RzIHx8IFtdO1xuICAgICAgICBjb25zdCBsb2NhbExvb2t1cCA9IHt9O1xuICAgICAgICB0bXBPcHRpb25zLmxvY2FsLmZvckVhY2gobCA9PiB7XG4gICAgICAgICAgICBsb2NhbExvb2t1cFtsXSA9IHRydWU7XG4gICAgICAgICAgICAoYWxpYXNlc1tsXSB8fCBbXSkuZm9yRWFjaChhID0+IHtcbiAgICAgICAgICAgICAgICBsb2NhbExvb2t1cFthXSA9IHRydWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5hc3NpZ24oX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9wcmVzZXJ2ZWRHcm91cHMsIFwiZlwiKSwgT2JqZWN0LmtleXMoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9ncm91cHMsIFwiZlwiKSkucmVkdWNlKChhY2MsIGdyb3VwTmFtZSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qga2V5cyA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfZ3JvdXBzLCBcImZcIilbZ3JvdXBOYW1lXS5maWx0ZXIoa2V5ID0+ICEoa2V5IGluIGxvY2FsTG9va3VwKSk7XG4gICAgICAgICAgICBpZiAoa2V5cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgYWNjW2dyb3VwTmFtZV0gPSBrZXlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwge30pKTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9ncm91cHMsIHt9LCBcImZcIik7XG4gICAgICAgIGNvbnN0IGFycmF5T3B0aW9ucyA9IFtcbiAgICAgICAgICAgICdhcnJheScsXG4gICAgICAgICAgICAnYm9vbGVhbicsXG4gICAgICAgICAgICAnc3RyaW5nJyxcbiAgICAgICAgICAgICdza2lwVmFsaWRhdGlvbicsXG4gICAgICAgICAgICAnY291bnQnLFxuICAgICAgICAgICAgJ25vcm1hbGl6ZScsXG4gICAgICAgICAgICAnbnVtYmVyJyxcbiAgICAgICAgICAgICdoaWRkZW5PcHRpb25zJyxcbiAgICAgICAgXTtcbiAgICAgICAgY29uc3Qgb2JqZWN0T3B0aW9ucyA9IFtcbiAgICAgICAgICAgICduYXJnJyxcbiAgICAgICAgICAgICdrZXknLFxuICAgICAgICAgICAgJ2FsaWFzJyxcbiAgICAgICAgICAgICdkZWZhdWx0JyxcbiAgICAgICAgICAgICdkZWZhdWx0RGVzY3JpcHRpb24nLFxuICAgICAgICAgICAgJ2NvbmZpZycsXG4gICAgICAgICAgICAnY2hvaWNlcycsXG4gICAgICAgICAgICAnZGVtYW5kZWRPcHRpb25zJyxcbiAgICAgICAgICAgICdkZW1hbmRlZENvbW1hbmRzJyxcbiAgICAgICAgICAgICdkZXByZWNhdGVkT3B0aW9ucycsXG4gICAgICAgIF07XG4gICAgICAgIGFycmF5T3B0aW9ucy5mb3JFYWNoKGsgPT4ge1xuICAgICAgICAgICAgdG1wT3B0aW9uc1trXSA9IChfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX29wdGlvbnMsIFwiZlwiKVtrXSB8fCBbXSkuZmlsdGVyKChrKSA9PiAhbG9jYWxMb29rdXBba10pO1xuICAgICAgICB9KTtcbiAgICAgICAgb2JqZWN0T3B0aW9ucy5mb3JFYWNoKChrKSA9PiB7XG4gICAgICAgICAgICB0bXBPcHRpb25zW2tdID0gb2JqRmlsdGVyKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2Vfb3B0aW9ucywgXCJmXCIpW2tdLCBrID0+ICFsb2NhbExvb2t1cFtrXSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0bXBPcHRpb25zLmVudlByZWZpeCA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2Vfb3B0aW9ucywgXCJmXCIpLmVudlByZWZpeDtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9vcHRpb25zLCB0bXBPcHRpb25zLCBcImZcIik7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfdXNhZ2UsIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfdXNhZ2UsIFwiZlwiKVxuICAgICAgICAgICAgPyBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3VzYWdlLCBcImZcIikucmVzZXQobG9jYWxMb29rdXApXG4gICAgICAgICAgICA6IFVzYWdlKHRoaXMsIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2Vfc2hpbSwgXCJmXCIpKSwgXCJmXCIpO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3ZhbGlkYXRpb24sIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfdmFsaWRhdGlvbiwgXCJmXCIpXG4gICAgICAgICAgICA/IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfdmFsaWRhdGlvbiwgXCJmXCIpLnJlc2V0KGxvY2FsTG9va3VwKVxuICAgICAgICAgICAgOiBWYWxpZGF0aW9uKHRoaXMsIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfdXNhZ2UsIFwiZlwiKSwgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9zaGltLCBcImZcIikpLCBcImZcIik7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfY29tbWFuZCwgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9jb21tYW5kLCBcImZcIilcbiAgICAgICAgICAgID8gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9jb21tYW5kLCBcImZcIikucmVzZXQoKVxuICAgICAgICAgICAgOiBDb21tYW5kKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfdXNhZ2UsIFwiZlwiKSwgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV92YWxpZGF0aW9uLCBcImZcIiksIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfZ2xvYmFsTWlkZGxld2FyZSwgXCJmXCIpLCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3NoaW0sIFwiZlwiKSksIFwiZlwiKTtcbiAgICAgICAgaWYgKCFfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX2NvbXBsZXRpb24sIFwiZlwiKSlcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfY29tcGxldGlvbiwgQ29tcGxldGlvbih0aGlzLCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3VzYWdlLCBcImZcIiksIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfY29tbWFuZCwgXCJmXCIpLCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3NoaW0sIFwiZlwiKSksIFwiZlwiKTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9nbG9iYWxNaWRkbGV3YXJlLCBcImZcIikucmVzZXQoKTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9jb21wbGV0aW9uQ29tbWFuZCwgbnVsbCwgXCJmXCIpO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX291dHB1dCwgJycsIFwiZlwiKTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9leGl0RXJyb3IsIG51bGwsIFwiZlwiKTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9oYXNPdXRwdXQsIGZhbHNlLCBcImZcIik7XG4gICAgICAgIHRoaXMucGFyc2VkID0gZmFsc2U7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBba1JlYmFzZV0oYmFzZSwgZGlyKSB7XG4gICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3NoaW0sIFwiZlwiKS5wYXRoLnJlbGF0aXZlKGJhc2UsIGRpcik7XG4gICAgfVxuICAgIFtrUnVuWWFyZ3NQYXJzZXJBbmRFeGVjdXRlQ29tbWFuZHNdKGFyZ3MsIHNob3J0Q2lyY3VpdCwgY2FsbGVkRnJvbUNvbW1hbmQsIGNvbW1hbmRJbmRleCA9IDAsIGhlbHBPbmx5ID0gZmFsc2UpIHtcbiAgICAgICAgbGV0IHNraXBWYWxpZGF0aW9uID0gISFjYWxsZWRGcm9tQ29tbWFuZCB8fCBoZWxwT25seTtcbiAgICAgICAgYXJncyA9IGFyZ3MgfHwgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9wcm9jZXNzQXJncywgXCJmXCIpO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX29wdGlvbnMsIFwiZlwiKS5fXyA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2Vfc2hpbSwgXCJmXCIpLnkxOG4uX187XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2Vfb3B0aW9ucywgXCJmXCIpLmNvbmZpZ3VyYXRpb24gPSB0aGlzW2tHZXRQYXJzZXJDb25maWd1cmF0aW9uXSgpO1xuICAgICAgICBjb25zdCBwb3B1bGF0ZURvdWJsZURhc2ggPSAhIV9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2Vfb3B0aW9ucywgXCJmXCIpLmNvbmZpZ3VyYXRpb25bJ3BvcHVsYXRlLS0nXTtcbiAgICAgICAgY29uc3QgY29uZmlnID0gT2JqZWN0LmFzc2lnbih7fSwgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9vcHRpb25zLCBcImZcIikuY29uZmlndXJhdGlvbiwge1xuICAgICAgICAgICAgJ3BvcHVsYXRlLS0nOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcGFyc2VkID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9zaGltLCBcImZcIikuUGFyc2VyLmRldGFpbGVkKGFyZ3MsIE9iamVjdC5hc3NpZ24oe30sIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2Vfb3B0aW9ucywgXCJmXCIpLCB7XG4gICAgICAgICAgICBjb25maWd1cmF0aW9uOiB7ICdwYXJzZS1wb3NpdGlvbmFsLW51bWJlcnMnOiBmYWxzZSwgLi4uY29uZmlnIH0sXG4gICAgICAgIH0pKTtcbiAgICAgICAgY29uc3QgYXJndiA9IE9iamVjdC5hc3NpZ24ocGFyc2VkLmFyZ3YsIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfcGFyc2VDb250ZXh0LCBcImZcIikpO1xuICAgICAgICBsZXQgYXJndlByb21pc2UgPSB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IGFsaWFzZXMgPSBwYXJzZWQuYWxpYXNlcztcbiAgICAgICAgbGV0IGhlbHBPcHRTZXQgPSBmYWxzZTtcbiAgICAgICAgbGV0IHZlcnNpb25PcHRTZXQgPSBmYWxzZTtcbiAgICAgICAgT2JqZWN0LmtleXMoYXJndikuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgaWYgKGtleSA9PT0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9oZWxwT3B0LCBcImZcIikgJiYgYXJndltrZXldKSB7XG4gICAgICAgICAgICAgICAgaGVscE9wdFNldCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChrZXkgPT09IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfdmVyc2lvbk9wdCwgXCJmXCIpICYmIGFyZ3Zba2V5XSkge1xuICAgICAgICAgICAgICAgIHZlcnNpb25PcHRTZXQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgYXJndi4kMCA9IHRoaXMuJDA7XG4gICAgICAgIHRoaXMucGFyc2VkID0gcGFyc2VkO1xuICAgICAgICBpZiAoY29tbWFuZEluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3VzYWdlLCBcImZcIikuY2xlYXJDYWNoZWRIZWxwTWVzc2FnZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzW2tHdWVzc0xvY2FsZV0oKTtcbiAgICAgICAgICAgIGlmIChzaG9ydENpcmN1aXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpc1trUG9zdFByb2Nlc3NdKGFyZ3YsIHBvcHVsYXRlRG91YmxlRGFzaCwgISFjYWxsZWRGcm9tQ29tbWFuZCwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfaGVscE9wdCwgXCJmXCIpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaGVscENtZHMgPSBbX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9oZWxwT3B0LCBcImZcIildXG4gICAgICAgICAgICAgICAgICAgIC5jb25jYXQoYWxpYXNlc1tfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX2hlbHBPcHQsIFwiZlwiKV0gfHwgW10pXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoayA9PiBrLmxlbmd0aCA+IDEpO1xuICAgICAgICAgICAgICAgIGlmIChoZWxwQ21kcy5pbmNsdWRlcygnJyArIGFyZ3YuX1thcmd2Ll8ubGVuZ3RoIC0gMV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZ3YuXy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgaGVscE9wdFNldCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9pc0dsb2JhbENvbnRleHQsIGZhbHNlLCBcImZcIik7XG4gICAgICAgICAgICBjb25zdCBoYW5kbGVyS2V5cyA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfY29tbWFuZCwgXCJmXCIpLmdldENvbW1hbmRzKCk7XG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0Q29tcGxldGlvbnMgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX2NvbXBsZXRpb24sIFwiZlwiKS5jb21wbGV0aW9uS2V5IGluIGFyZ3Y7XG4gICAgICAgICAgICBjb25zdCBza2lwUmVjb21tZW5kYXRpb24gPSBoZWxwT3B0U2V0IHx8IHJlcXVlc3RDb21wbGV0aW9ucyB8fCBoZWxwT25seTtcbiAgICAgICAgICAgIGlmIChhcmd2Ll8ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhhbmRsZXJLZXlzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgZmlyc3RVbmtub3duQ29tbWFuZDtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IGNvbW1hbmRJbmRleCB8fCAwLCBjbWQ7IGFyZ3YuX1tpXSAhPT0gdW5kZWZpbmVkOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNtZCA9IFN0cmluZyhhcmd2Ll9baV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhhbmRsZXJLZXlzLmluY2x1ZGVzKGNtZCkgJiYgY21kICE9PSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX2NvbXBsZXRpb25Db21tYW5kLCBcImZcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbm5lckFyZ3YgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX2NvbW1hbmQsIFwiZlwiKS5ydW5Db21tYW5kKGNtZCwgdGhpcywgcGFyc2VkLCBpICsgMSwgaGVscE9ubHksIGhlbHBPcHRTZXQgfHwgdmVyc2lvbk9wdFNldCB8fCBoZWxwT25seSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNba1Bvc3RQcm9jZXNzXShpbm5lckFyZ3YsIHBvcHVsYXRlRG91YmxlRGFzaCwgISFjYWxsZWRGcm9tQ29tbWFuZCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoIWZpcnN0VW5rbm93bkNvbW1hbmQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbWQgIT09IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfY29tcGxldGlvbkNvbW1hbmQsIFwiZlwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0VW5rbm93bkNvbW1hbmQgPSBjbWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX2NvbW1hbmQsIFwiZlwiKS5oYXNEZWZhdWx0Q29tbWFuZCgpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3JlY29tbWVuZENvbW1hbmRzLCBcImZcIikgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0VW5rbm93bkNvbW1hbmQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICFza2lwUmVjb21tZW5kYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfdmFsaWRhdGlvbiwgXCJmXCIpLnJlY29tbWVuZENvbW1hbmRzKGZpcnN0VW5rbm93bkNvbW1hbmQsIGhhbmRsZXJLZXlzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9jb21wbGV0aW9uQ29tbWFuZCwgXCJmXCIpICYmXG4gICAgICAgICAgICAgICAgICAgIGFyZ3YuXy5pbmNsdWRlcyhfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX2NvbXBsZXRpb25Db21tYW5kLCBcImZcIikpICYmXG4gICAgICAgICAgICAgICAgICAgICFyZXF1ZXN0Q29tcGxldGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfZXhpdFByb2Nlc3MsIFwiZlwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEJsb2NraW5nKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dDb21wbGV0aW9uU2NyaXB0KCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXhpdCgwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9jb21tYW5kLCBcImZcIikuaGFzRGVmYXVsdENvbW1hbmQoKSAmJiAhc2tpcFJlY29tbWVuZGF0aW9uKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5uZXJBcmd2ID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9jb21tYW5kLCBcImZcIikucnVuQ29tbWFuZChudWxsLCB0aGlzLCBwYXJzZWQsIDAsIGhlbHBPbmx5LCBoZWxwT3B0U2V0IHx8IHZlcnNpb25PcHRTZXQgfHwgaGVscE9ubHkpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzW2tQb3N0UHJvY2Vzc10oaW5uZXJBcmd2LCBwb3B1bGF0ZURvdWJsZURhc2gsICEhY2FsbGVkRnJvbUNvbW1hbmQsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXF1ZXN0Q29tcGxldGlvbnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9leGl0UHJvY2VzcywgXCJmXCIpKVxuICAgICAgICAgICAgICAgICAgICBzZXRCbG9ja2luZyh0cnVlKTtcbiAgICAgICAgICAgICAgICBhcmdzID0gW10uY29uY2F0KGFyZ3MpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBsZXRpb25BcmdzID0gYXJncy5zbGljZShhcmdzLmluZGV4T2YoYC0tJHtfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX2NvbXBsZXRpb24sIFwiZlwiKS5jb21wbGV0aW9uS2V5fWApICsgMSk7XG4gICAgICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9jb21wbGV0aW9uLCBcImZcIikuZ2V0Q29tcGxldGlvbihjb21wbGV0aW9uQXJncywgKGVyciwgY29tcGxldGlvbnMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycilcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBZRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAoY29tcGxldGlvbnMgfHwgW10pLmZvckVhY2goY29tcGxldGlvbiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX2xvZ2dlciwgXCJmXCIpLmxvZyhjb21wbGV0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXhpdCgwKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpc1trUG9zdFByb2Nlc3NdKGFyZ3YsICFwb3B1bGF0ZURvdWJsZURhc2gsICEhY2FsbGVkRnJvbUNvbW1hbmQsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9oYXNPdXRwdXQsIFwiZlwiKSkge1xuICAgICAgICAgICAgICAgIGlmIChoZWxwT3B0U2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX2V4aXRQcm9jZXNzLCBcImZcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRCbG9ja2luZyh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgc2tpcFZhbGlkYXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dIZWxwKCdsb2cnKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5leGl0KDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh2ZXJzaW9uT3B0U2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX2V4aXRQcm9jZXNzLCBcImZcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRCbG9ja2luZyh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgc2tpcFZhbGlkYXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3VzYWdlLCBcImZcIikuc2hvd1ZlcnNpb24oJ2xvZycpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmV4aXQoMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFza2lwVmFsaWRhdGlvbiAmJiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX29wdGlvbnMsIFwiZlwiKS5za2lwVmFsaWRhdGlvbi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgc2tpcFZhbGlkYXRpb24gPSBPYmplY3Qua2V5cyhhcmd2KS5zb21lKGtleSA9PiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX29wdGlvbnMsIFwiZlwiKS5za2lwVmFsaWRhdGlvbi5pbmRleE9mKGtleSkgPj0gMCAmJiBhcmd2W2tleV0gPT09IHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFza2lwVmFsaWRhdGlvbikge1xuICAgICAgICAgICAgICAgIGlmIChwYXJzZWQuZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBZRXJyb3IocGFyc2VkLmVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIGlmICghcmVxdWVzdENvbXBsZXRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbGlkYXRpb24gPSB0aGlzW2tSdW5WYWxpZGF0aW9uXShhbGlhc2VzLCB7fSwgcGFyc2VkLmVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjYWxsZWRGcm9tQ29tbWFuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJndlByb21pc2UgPSBhcHBseU1pZGRsZXdhcmUoYXJndiwgdGhpcywgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9nbG9iYWxNaWRkbGV3YXJlLCBcImZcIikuZ2V0TWlkZGxld2FyZSgpLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBhcmd2UHJvbWlzZSA9IHRoaXNba1ZhbGlkYXRlQXN5bmNdKHZhbGlkYXRpb24sIGFyZ3ZQcm9taXNlICE9PSBudWxsICYmIGFyZ3ZQcm9taXNlICE9PSB2b2lkIDAgPyBhcmd2UHJvbWlzZSA6IGFyZ3YpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNQcm9taXNlKGFyZ3ZQcm9taXNlKSAmJiAhY2FsbGVkRnJvbUNvbW1hbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3ZQcm9taXNlID0gYXJndlByb21pc2UudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFwcGx5TWlkZGxld2FyZShhcmd2LCB0aGlzLCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX2dsb2JhbE1pZGRsZXdhcmUsIFwiZlwiKS5nZXRNaWRkbGV3YXJlKCksIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBZRXJyb3IpXG4gICAgICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV91c2FnZSwgXCJmXCIpLmZhaWwoZXJyLm1lc3NhZ2UsIGVycik7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzW2tQb3N0UHJvY2Vzc10oYXJndlByb21pc2UgIT09IG51bGwgJiYgYXJndlByb21pc2UgIT09IHZvaWQgMCA/IGFyZ3ZQcm9taXNlIDogYXJndiwgcG9wdWxhdGVEb3VibGVEYXNoLCAhIWNhbGxlZEZyb21Db21tYW5kLCB0cnVlKTtcbiAgICB9XG4gICAgW2tSdW5WYWxpZGF0aW9uXShhbGlhc2VzLCBwb3NpdGlvbmFsTWFwLCBwYXJzZUVycm9ycywgaXNEZWZhdWx0Q29tbWFuZCkge1xuICAgICAgICBjb25zdCBkZW1hbmRlZE9wdGlvbnMgPSB7IC4uLnRoaXMuZ2V0RGVtYW5kZWRPcHRpb25zKCkgfTtcbiAgICAgICAgcmV0dXJuIChhcmd2KSA9PiB7XG4gICAgICAgICAgICBpZiAocGFyc2VFcnJvcnMpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFlFcnJvcihwYXJzZUVycm9ycy5tZXNzYWdlKTtcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2VfdmFsaWRhdGlvbiwgXCJmXCIpLm5vbk9wdGlvbkNvdW50KGFyZ3YpO1xuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV92YWxpZGF0aW9uLCBcImZcIikucmVxdWlyZWRBcmd1bWVudHMoYXJndiwgZGVtYW5kZWRPcHRpb25zKTtcbiAgICAgICAgICAgIGxldCBmYWlsZWRTdHJpY3RDb21tYW5kcyA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2Vfc3RyaWN0Q29tbWFuZHMsIFwiZlwiKSkge1xuICAgICAgICAgICAgICAgIGZhaWxlZFN0cmljdENvbW1hbmRzID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV92YWxpZGF0aW9uLCBcImZcIikudW5rbm93bkNvbW1hbmRzKGFyZ3YpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2Vfc3RyaWN0LCBcImZcIikgJiYgIWZhaWxlZFN0cmljdENvbW1hbmRzKSB7XG4gICAgICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV92YWxpZGF0aW9uLCBcImZcIikudW5rbm93bkFyZ3VtZW50cyhhcmd2LCBhbGlhc2VzLCBwb3NpdGlvbmFsTWFwLCAhIWlzRGVmYXVsdENvbW1hbmQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV9zdHJpY3RPcHRpb25zLCBcImZcIikpIHtcbiAgICAgICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3ZhbGlkYXRpb24sIFwiZlwiKS51bmtub3duQXJndW1lbnRzKGFyZ3YsIGFsaWFzZXMsIHt9LCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWWFyZ3NJbnN0YW5jZV92YWxpZGF0aW9uLCBcImZcIikubGltaXRlZENob2ljZXMoYXJndik7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3ZhbGlkYXRpb24sIFwiZlwiKS5pbXBsaWNhdGlvbnMoYXJndik7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX3ZhbGlkYXRpb24sIFwiZlwiKS5jb25mbGljdGluZyhhcmd2KTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgW2tTZXRIYXNPdXRwdXRdKCkge1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9ZYXJnc0luc3RhbmNlX2hhc091dHB1dCwgdHJ1ZSwgXCJmXCIpO1xuICAgIH1cbiAgICBba1RyYWNrTWFudWFsbHlTZXRLZXlzXShrZXlzKSB7XG4gICAgICAgIGlmICh0eXBlb2Yga2V5cyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2Vfb3B0aW9ucywgXCJmXCIpLmtleVtrZXlzXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGsgb2Yga2V5cykge1xuICAgICAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1lhcmdzSW5zdGFuY2Vfb3B0aW9ucywgXCJmXCIpLmtleVtrXSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gaXNZYXJnc0luc3RhbmNlKHkpIHtcbiAgICByZXR1cm4gISF5ICYmIHR5cGVvZiB5LmdldEludGVybmFsTWV0aG9kcyA9PT0gJ2Z1bmN0aW9uJztcbn1cbiIsICIndXNlIHN0cmljdCc7XG5cbi8vIEJvb3RzdHJhcHMgeWFyZ3MgZm9yIEVTTTpcbmltcG9ydCBlc21QbGF0Zm9ybVNoaW0gZnJvbSAnLi9saWIvcGxhdGZvcm0tc2hpbXMvZXNtLm1qcyc7XG5pbXBvcnQge1lhcmdzRmFjdG9yeX0gZnJvbSAnLi9idWlsZC9saWIveWFyZ3MtZmFjdG9yeS5qcyc7XG5cbmNvbnN0IFlhcmdzID0gWWFyZ3NGYWN0b3J5KGVzbVBsYXRmb3JtU2hpbSk7XG5leHBvcnQgZGVmYXVsdCBZYXJncztcbiIsICJpbXBvcnQgKiBhcyB5YXJncyBmcm9tICd5YXJncydcclxuaW1wb3J0IHsgaGlkZUJpbiB9IGZyb20gJ3lhcmdzL2hlbHBlcnMnXHJcbmltcG9ydCAqIGFzIGZzIGZyb20gJ2ZzJztcclxuaW1wb3J0ICogYXMgcGF0aCBmcm9tICdwYXRoJztcclxuaW1wb3J0IHsgQ3J5cHRvSGVscGVyRmFjdG9yeSB9IGZyb20gJ3NyYy9zZXJ2aWNlcy9DcnlwdG9IZWxwZXJGYWN0b3J5JztcclxuaW1wb3J0IHsgSnNvbkZpbGVFbmNvZGluZyB9IGZyb20gXCJzcmMvc2VydmljZXMvRmlsZURhdGFIZWxwZXJcIjtcclxuaW1wb3J0ICogYXMgQ29uc3RhbnRzIGZyb20gJ3NyYy9zZXJ2aWNlcy9Db25zdGFudHMnO1xyXG5pbXBvcnQgKiBhcyBJblBsYWNlQ29uc3RhbnRzIGZyb20gJ3NyYy9mZWF0dXJlcy9mZWF0dXJlLWlucGxhY2UtZW5jcnlwdC9GZWF0dXJlSW5wbGFjZUNvbnN0YW50cyc7XHJcbmltcG9ydCB7IEZlYXR1cmVJbnBsYWNlVGV4dEFuYWx5c2lzIH0gZnJvbSAnc3JjL2ZlYXR1cmVzL2ZlYXR1cmUtaW5wbGFjZS1lbmNyeXB0L2ZlYXR1cmVJbnBsYWNlVGV4dEFuYWx5c2lzJztcclxuXHJcbmludGVyZmFjZSBMaXN0aW5nIHtcclxuICAgIGZlYXR1cmVUeXBlOiAnSW5QbGFjZScgfCAnV2hvbGVOb3RlJztcclxuICAgIGZ1bGxQYXRoOiBzdHJpbmc7XHJcbiAgICByZWxhdGl2ZVBhdGg6IHN0cmluZztcclxuICAgIGV4dGVuc2lvbjogc3RyaW5nO1xyXG4gICAgY29udGVudDogc3RyaW5nIHwgdW5kZWZpbmVkO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgVGVzdFJlc3VsdHtcclxuICAgIGxpc3Rpbmc6IExpc3Rpbmc7XHJcbiAgICBzdWNjZXNzOiBib29sZWFuO1xyXG4gICAgbWVzc2FnZTogc3RyaW5nO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgRGVjcnlwdFJlc3VsdHtcclxuICAgIGxpc3Rpbmc6IExpc3Rpbmc7XHJcbiAgICBzdWNjZXNzOiBib29sZWFuO1xyXG4gICAgbWVzc2FnZTogc3RyaW5nO1xyXG4gICAgb3V0RmlsZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xyXG59XHJcblxyXG5jbGFzcyBMaXN0Q29tbWFuZEhhbmRsZXIge1xyXG4gICAgXHJcblxyXG4gICAgYXN5bmMgYXJnSGFuZGxlciggZm9ybWF0IDogc3RyaW5nICkge1xyXG5cclxuICAgICAgICBjb25zdCBjd2QgPSBwcm9jZXNzLmN3ZCgpO1xyXG5cclxuICAgICAgICBsZXQgb25TdGFydCA6ICgpID0+IHZvaWQ7XHJcbiAgICAgICAgbGV0IG9uTGlzdGluZyA6IChsOkxpc3RpbmcpID0+IHZvaWQ7XHJcbiAgICAgICAgbGV0IG9uRW5kIDogKCkgPT4gdm9pZDtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBsaXN0aW5nczogTGlzdGluZ1tdID0gW107XHJcblxyXG5cclxuICAgICAgICBpZiAoIGZvcm1hdCA9PT0gJ2NzdicpIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIG9uU3RhcnQgPSAoKSA9PiBjb25zb2xlLmxvZyggJ2ZlYXR1cmUsZnVsbFBhdGgscmVsYXRpdmVQYXRoLGV4dGVuc2lvbicgKTtcclxuICAgICAgICAgICAgb25MaXN0aW5nID0gKGwpID0+IGNvbnNvbGUubG9nKCBgXCIke2wuZmVhdHVyZVR5cGV9XCIsXCIke2wuZnVsbFBhdGh9XCIsXCIke2wucmVsYXRpdmVQYXRofVwiLFwiJHtsLmV4dGVuc2lvbn1cImAgKTtcclxuICAgICAgICAgICAgb25FbmQgPSAoKSA9PiB7fTtcclxuXHJcbiAgICAgICAgfSBlbHNlIGlmIChmb3JtYXQgPT0gJ2pzb24nKSB7XHJcblxyXG4gICAgICAgICAgICBvblN0YXJ0ID0gKCkgPT4ge307XHJcbiAgICAgICAgICAgIG9uTGlzdGluZyA9IChsKSA9PiBsaXN0aW5ncy5wdXNoKCBsICk7XHJcbiAgICAgICAgICAgIG9uRW5kID0gKCkgPT4gY29uc29sZS5sb2coIEpTT04uc3RyaW5naWZ5KCBsaXN0aW5ncywgbnVsbCwgMiApICk7XHJcblxyXG4gICAgICAgIH0gZWxzZSBpZiAoZm9ybWF0ID09PSAndGFibGUnKSB7XHJcblxyXG4gICAgICAgICAgICBvblN0YXJ0ID0gKCkgPT4ge307XHJcbiAgICAgICAgICAgIG9uTGlzdGluZyA9IChsKSA9PiBsaXN0aW5ncy5wdXNoKCBsICk7XHJcbiAgICAgICAgICAgIG9uRW5kID0gKCkgPT4gY29uc29sZS50YWJsZSggbGlzdGluZ3MgKTtcclxuXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIC8vIERlZmF1bHRcclxuICAgICAgICAgICAgb25TdGFydCA9ICgpID0+IHt9O1xyXG4gICAgICAgICAgICBvbkxpc3RpbmcgPSAobCkgPT4gY29uc29sZS5sb2coIGAke2wucmVsYXRpdmVQYXRofWAgKTtcclxuICAgICAgICAgICAgb25FbmQgPSAoKSA9PiB7fTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBhd2FpdCB0aGlzLm91dHB1dChcclxuICAgICAgICAgICAgY3dkLFxyXG4gICAgICAgICAgICBvblN0YXJ0LFxyXG4gICAgICAgICAgICBvbkxpc3RpbmcsXHJcbiAgICAgICAgICAgIG9uRW5kXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgb3V0cHV0KFxyXG4gICAgICAgIGRpciA6IHN0cmluZyxcclxuICAgICAgICBzdGFydENhbGxiYWNrIDogKCkgPT4gdm9pZCxcclxuICAgICAgICBwZXJJdGVtQ2FsbGJhY2sgOiAobDpMaXN0aW5nKSA9PiB2b2lkLFxyXG4gICAgICAgIGVuZENhbGxiYWNrIDogKCkgPT4gdm9pZFxyXG4gICAgKSA6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIHN0YXJ0Q2FsbGJhY2soKTtcclxuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGwgb2YgVXRpbHMubGlzdGluZ3MoZGlyLCBmYWxzZSkpIHtcclxuICAgICAgICAgICAgcGVySXRlbUNhbGxiYWNrKGwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbmRDYWxsYmFjaygpO1xyXG4gICAgfVxyXG5cclxuXHJcbn1cclxuXHJcbmNsYXNzIFRlc3RDb21tYW5kSGFuZGxlciB7XHJcblxyXG4gICAgYXN5bmMgYXJnSGFuZGxlciggcGFzc3dvcmRzOnN0cmluZ1tdLCBvbmx5TGlzdEZhaWxzOmJvb2xlYW4gKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IGN3ZCA9IHByb2Nlc3MuY3dkKCk7XHJcblxyXG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgbGlzdGluZyBvZiBVdGlscy5saXN0aW5ncyhjd2QsIHRydWUpKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAobGlzdGluZy5mZWF0dXJlVHlwZSA9PSAnSW5QbGFjZScpe1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IHJlc3VsdCBvZiB0aGlzLnRlc3RGb3JJblBsYWNlRGVjcnlwdGlvbiggbGlzdGluZywgcGFzc3dvcmRzICkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm91dHB1dFJlc3VsdCggcmVzdWx0LCBvbmx5TGlzdEZhaWxzICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGxpc3RpbmcuZmVhdHVyZVR5cGUgPT0gJ1dob2xlTm90ZScpe1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnRlc3RGb3JXaG9sZU5vdGVEZWNyeXB0aW9uKCBsaXN0aW5nLCBwYXNzd29yZHMgKTtcclxuICAgICAgICAgICAgICAgIHRoaXMub3V0cHV0UmVzdWx0KCByZXN1bHQsIG9ubHlMaXN0RmFpbHMgKTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jICogdGVzdEZvckluUGxhY2VEZWNyeXB0aW9uKCBsaXN0aW5nOiBMaXN0aW5nLCBwYXNzd29yZHM6c3RyaW5nW10gKSA6IEFzeW5jSXRlcmFibGVJdGVyYXRvcjxUZXN0UmVzdWx0PiB7XHJcblxyXG4gICAgICAgIGlmICggbGlzdGluZy5jb250ZW50ID09IG51bGwgKSB7XHJcbiAgICAgICAgICAgIHlpZWxkIHtcclxuICAgICAgICAgICAgICAgIGxpc3RpbmcsXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdubyBjb250ZW50J1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBsaW5lcyA9IGxpc3RpbmcuY29udGVudCEuc3BsaXQoICdcXG4nICk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgZm9yIChsZXQgbGluZUlkeCA9IDA7IGxpbmVJZHggPCBsaW5lcy5sZW5ndGg7IGxpbmVJZHgrKykge1xyXG4gICAgICAgICAgICBjb25zdCBsaW5lID0gbGluZXNbbGluZUlkeF07XHJcbiAgICAgICAgICAgIGNvbnN0IGxpbmVObyA9IGxpbmVJZHggKyAxO1xyXG4gICAgICAgICAgICBjb25zdCByZUlucGxhY2VNYXRjaGVyID0gL1x1RDgzRFx1REQxMCguKj8pXHVEODNEXHVERDEwL2c7XHJcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoZXMgPSBBcnJheS5mcm9tKCBsaW5lLm1hdGNoQWxsKCByZUlucGxhY2VNYXRjaGVyICkgKTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBtYXRjaCBvZiBtYXRjaGVzKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgbWF0Y2hMb2MgPSBgbGluZSAke2xpbmVOb30sIHBvcyAke21hdGNoLmluZGV4ISsxfWA7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgZW5jcnlwdGVkVGV4dCA9IGBcdUQ4M0RcdUREMTAke21hdGNoWzFdfVx1RDgzRFx1REQxMGA7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgdHh0QW5hbHlzaXMgPSBuZXcgRmVhdHVyZUlucGxhY2VUZXh0QW5hbHlzaXMoIGVuY3J5cHRlZFRleHQgKTtcclxuICAgICAgICAgICAgICAgIGlmICghdHh0QW5hbHlzaXMuY2FuRGVjcnlwdCB8fCB0eHRBbmFseXNpcy5kZWNyeXB0YWJsZSA9PSBudWxsICl7XHJcbiAgICAgICAgICAgICAgICAgICAgeWllbGQge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0aW5nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYCR7bWF0Y2hMb2N9LCBjYW5ub3QgZGVjcnlwdGBcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBjaCA9IENyeXB0b0hlbHBlckZhY3RvcnkuQnVpbGRGcm9tRGVjcnlwdGFibGVPck51bGwoIHR4dEFuYWx5c2lzLmRlY3J5cHRhYmxlICk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIGNoID09IG51bGwgKXtcclxuICAgICAgICAgICAgICAgICAgICB5aWVsZCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RpbmcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgJHttYXRjaExvY30sIHVua25vd24gZm9ybWF0YFxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHdhc0RlY3J5cHRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgcHdJZHggPSAwOyBwd0lkeCA8IHBhc3N3b3Jkcy5sZW5ndGg7IHB3SWR4KyspIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwdyA9IHBhc3N3b3Jkc1twd0lkeF07XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHdObyA9IHB3SWR4ICsgMTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWNyeXB0ZWRUZXh0ID0gYXdhaXQgY2guZGVjcnlwdEZyb21CYXNlNjQodHh0QW5hbHlzaXMuZGVjcnlwdGFibGUuYmFzZTY0Q2lwaGVyVGV4dCwgcHcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICggZGVjcnlwdGVkVGV4dCAhPSBudWxsICl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhc0RlY3J5cHRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHlpZWxkIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RpbmcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYCR7bWF0Y2hMb2N9LCBwYXNzd29yZCAjJHtwd05vfWBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh3YXNEZWNyeXB0ZWQpe1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHRlc3RGb3JXaG9sZU5vdGVEZWNyeXB0aW9uKCBsaXN0aW5nOiBMaXN0aW5nLCBwYXNzd29yZHM6c3RyaW5nW10gKSA6IFByb21pc2U8VGVzdFJlc3VsdD4ge1xyXG4gICAgICAgIGlmKCBsaXN0aW5nLmNvbnRlbnQgPT0gbnVsbCB8fCBsaXN0aW5nLmNvbnRlbnQubGVuZ3RoID09IDAgKXtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGxpc3RpbmcsXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdubyBjb250ZW50J1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgZmlsZURhdGEgPSBKc29uRmlsZUVuY29kaW5nLmRlY29kZSggbGlzdGluZy5jb250ZW50IHx8ICcnICk7XHJcblxyXG4gICAgICAgIGNvbnN0IGNoID0gQ3J5cHRvSGVscGVyRmFjdG9yeS5CdWlsZEZyb21GaWxlRGF0YU9yTnVsbCggZmlsZURhdGEgKTtcclxuICAgICAgICBpZiAoIGNoID09IG51bGwgKXtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGxpc3RpbmcsXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdVbmtub3duIGZvcm1hdCdcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXNzd29yZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgcHcgPSBwYXNzd29yZHNbaV07XHJcbiAgICAgICAgICAgIGNvbnN0IGRlY29kZWQgPSBhd2FpdCBjaC5kZWNyeXB0RnJvbUJhc2U2NChmaWxlRGF0YS5lbmNvZGVkRGF0YSwgcHcpXHJcbiAgICAgICAgICAgIGlmICggZGVjb2RlZCAhPSBudWxsICl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxpc3RpbmcsXHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgcGFzc3dvcmQgIyR7aSsxfWBcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGxpc3RpbmcsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICBtZXNzYWdlOiAndW5hYmxlIHRvIGRlY3J5cHQnXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBvdXRwdXRSZXN1bHQocmVzdWx0OiBUZXN0UmVzdWx0LCBvbmx5TGlzdEZhaWxzOmJvb2xlYW4pIHtcclxuICAgICAgICBpZiAob25seUxpc3RGYWlscyAmJiByZXN1bHQuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKCBgJHtyZXN1bHQuc3VjY2VzcyA/ICdQQVNTRUQnIDogJ0ZBSUxFRCd9ID0+ICR7cmVzdWx0Lmxpc3RpbmcucmVsYXRpdmVQYXRofSA9PiAke3Jlc3VsdC5tZXNzYWdlfSA9PiAke3Jlc3VsdC5saXN0aW5nLmZlYXR1cmVUeXBlfWAgKTtcclxuICAgIH1cclxuXHJcbiAgICBvdXRwdXRSZXN1bHRzKHJlc3VsdHM6IFRlc3RSZXN1bHRbXSwgb25seUxpc3RGYWlsczpib29sZWFuKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCByZXN1bHQgb2YgcmVzdWx0cykge1xyXG4gICAgICAgICAgICB0aGlzLm91dHB1dFJlc3VsdCggcmVzdWx0LCBvbmx5TGlzdEZhaWxzICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBEZWNyeXB0Q29tbWFuZEhhbmRsZXJ7XHJcbiAgICBhc3luYyBhcmdIYW5kbGVyKCBwYXNzd29yZHM6c3RyaW5nW10sIG91dGRpcjpzdHJpbmcsIGRyeXJ1bjpib29sZWFuICkge1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnNvbGUubG9nKCBgZGVjcnlwdGluZyR7ZHJ5cnVuPycgKGRyeSBydW4pJzonJ30uLi5gICk7XHJcblxyXG4gICAgICAgIGNvbnN0IGN3ZCA9IHByb2Nlc3MuY3dkKCk7XHJcblxyXG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgbGlzdGluZyBvZiBVdGlscy5saXN0aW5ncyhjd2QsIHRydWUpKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAobGlzdGluZy5mZWF0dXJlVHlwZSA9PSAnSW5QbGFjZScpe1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kZWNyeXB0SW5QbGFjZUxpc3RpbmcoIGxpc3RpbmcsIHBhc3N3b3Jkcywgb3V0ZGlyLCBkcnlydW4gKTtcclxuICAgICAgICAgICAgICAgICB0aGlzLm91dHB1dFJlc3VsdCggcmVzdWx0ICk7XHJcbiAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobGlzdGluZy5mZWF0dXJlVHlwZSA9PSAnV2hvbGVOb3RlJyl7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZGVjcnlwdFdob2xlTm90ZUxpc3RpbmcoIGxpc3RpbmcsIHBhc3N3b3Jkcywgb3V0ZGlyLCBkcnlydW4gKTtcclxuICAgICAgICAgICAgICAgIHRoaXMub3V0cHV0UmVzdWx0KCByZXN1bHQgKTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGFzeW5jIGRlY3J5cHRJblBsYWNlTGlzdGluZyhsaXN0aW5nOiBMaXN0aW5nLCBwYXNzd29yZHM6IHN0cmluZ1tdLCBvdXRkaXI6IHN0cmluZywgZHJ5cnVuOiBib29sZWFuKSA6IFByb21pc2U8RGVjcnlwdFJlc3VsdD4ge1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGxpbmVzID0gbGlzdGluZy5jb250ZW50IS5zcGxpdCggJ1xcbicgKTtcclxuICAgICAgICBjb25zdCBkZWNyeXB0ZWRMaW5lcyA6IHN0cmluZ1tdID0gW107XHJcbiAgICAgICAgXHJcbiAgICAgICAgZm9yIChsZXQgbGluZUlkeCA9IDA7IGxpbmVJZHggPCBsaW5lcy5sZW5ndGg7IGxpbmVJZHgrKykge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgY29uc3QgbGluZSA9IGxpbmVzW2xpbmVJZHhdO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgY29uc3QgbGluZU5vID0gbGluZUlkeCArIDE7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjb25zdCByZUlucGxhY2VNYXRjaGVycyA9IFtcclxuICAgICAgICAgICAgICAgIC8lJVx1RDgzRFx1REQxMCguKj8pXHVEODNEXHVERDEwJSUvZyxcclxuICAgICAgICAgICAgICAgIC9cdUQ4M0RcdUREMTAoLio/KVx1RDgzRFx1REQxMC9nXHJcbiAgICAgICAgICAgIF1cclxuXHJcbiAgICAgICAgICAgIGxldCBkZWNyeXB0ZWRMaW5lID0gbGluZTtcclxuICAgICAgICAgICAgbGV0IG1hdGNoQ291bnQgPSAwO1xyXG4gICAgICAgICAgICBsZXQgZGVjcnlwdGVkQ291bnQgPSAwO1xyXG5cclxuICAgICAgICAgICAgZm9yIChjb25zdCByZUlucGxhY2VNYXRjaGVyIG9mIHJlSW5wbGFjZU1hdGNoZXJzKSB7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IG1hdGNoIG9mIGRlY3J5cHRlZExpbmUubWF0Y2hBbGwoIHJlSW5wbGFjZU1hdGNoZXIgKSApIHtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBtYXRjaENvdW50Kys7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoTG9jID0gYExpbmUgJHtsaW5lTm99LCBwb3MgJHttYXRjaC5pbmRleCErMX1gO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXRjaGVkVGV4dCA9IG1hdGNoWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVuY3J5cHRlZFRleHQgPSBgXHVEODNEXHVERDEwJHttYXRjaFsxXX1cdUQ4M0RcdUREMTBgO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0eHRBbmFseXNpcyA9IG5ldyBGZWF0dXJlSW5wbGFjZVRleHRBbmFseXNpcyggZW5jcnlwdGVkVGV4dCApO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdHh0QW5hbHlzaXMuY2FuRGVjcnlwdCB8fCB0eHRBbmFseXNpcy5kZWNyeXB0YWJsZSA9PSBudWxsICl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0aW5nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgRVJST1I6ICR7bWF0Y2hMb2N9LCBjYW5ub3QgZGVjcnlwdGAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRGaWxlOiB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoID0gQ3J5cHRvSGVscGVyRmFjdG9yeS5CdWlsZEZyb21EZWNyeXB0YWJsZU9yTnVsbCggdHh0QW5hbHlzaXMuZGVjcnlwdGFibGUgKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIGNoID09IG51bGwgKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RpbmcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBFUlJPUjogJHttYXRjaExvY30sIHVua25vd24gZm9ybWF0YCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dEZpbGU6IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRlY3J5cHRlZFRleHQgOiAgc3RyaW5nIHwgbnVsbCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgcHdJZHggPSAwOyBwd0lkeCA8IHBhc3N3b3Jkcy5sZW5ndGg7IHB3SWR4KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHcgPSBwYXNzd29yZHNbcHdJZHhdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWNyeXB0ZWRUZXh0ID0gYXdhaXQgY2guZGVjcnlwdEZyb21CYXNlNjQodHh0QW5hbHlzaXMuZGVjcnlwdGFibGUuYmFzZTY0Q2lwaGVyVGV4dCwgcHcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGRlY3J5cHRlZFRleHQgIT0gbnVsbCApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkZWNyeXB0ZWRUZXh0IT09bnVsbCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlY3J5cHRlZENvdW50ICsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWNyeXB0ZWRMaW5lID0gZGVjcnlwdGVkTGluZS5yZXBsYWNlKCBtYXRjaGVkVGV4dCwgZGVjcnlwdGVkVGV4dCApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChtYXRjaENvdW50ICE9IGRlY3J5cHRlZENvdW50KXtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGlzdGluZyxcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgRVJST1I6IE1hdGNoIGNvdW50ICR7bWF0Y2hDb3VudH0gIT0gZGVjcnlwdGVkIGNvdW50ICR7ZGVjcnlwdGVkQ291bnR9YCxcclxuICAgICAgICAgICAgICAgICAgICBvdXRGaWxlOiB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGRlY3J5cHRlZExpbmVzLnB1c2goIGRlY3J5cHRlZExpbmUgKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgb3V0RmlsZSA9IHBhdGguam9pbiggb3V0ZGlyLCBsaXN0aW5nLnJlbGF0aXZlUGF0aCApO1xyXG5cclxuICAgICAgICBpZiAoIWRyeXJ1bil7XHJcbiAgICAgICAgICAgIGNvbnN0IG91dEZpbGVEaXIgPSBwYXRoLmRpcm5hbWUoIG91dEZpbGUgKTtcclxuICAgICAgICAgICAgaWYgKCFmcy5leGlzdHNTeW5jKCBvdXRGaWxlRGlyICkpe1xyXG4gICAgICAgICAgICAgICAgZnMubWtkaXJTeW5jKCBvdXRGaWxlRGlyLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9ICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZnMud3JpdGVGaWxlU3luYyggb3V0RmlsZSwgZGVjcnlwdGVkTGluZXMuam9pbiggJ1xcbicgKSApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XHJcbiAgICAgICAgICAgIGxpc3RpbmcsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdEZWNyeXB0ZWQnLFxyXG4gICAgICAgICAgICBvdXRGaWxlOiBvdXRGaWxlXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgb3V0cHV0UmVzdWx0KHJlc3VsdDogRGVjcnlwdFJlc3VsdCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCBgJHtyZXN1bHQubWVzc2FnZX0gOiAke3Jlc3VsdC5saXN0aW5nLnJlbGF0aXZlUGF0aH0ke3Jlc3VsdC5vdXRGaWxlID09IG51bGwgPyAnJyA6ICcgPT4gYCcgKyByZXN1bHQub3V0RmlsZSArICdgJ31gICk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgZGVjcnlwdFdob2xlTm90ZUxpc3RpbmcobGlzdGluZzogTGlzdGluZywgcGFzc3dvcmRzOiBzdHJpbmdbXSwgb3V0ZGlyOiBzdHJpbmcsIGRyeXJ1bjpib29sZWFuICkgOiBQcm9taXNlPERlY3J5cHRSZXN1bHQ+IHtcclxuXHJcbiAgICAgICAgbGV0IG91dEZpbGUgPSBwYXRoLmpvaW4oIG91dGRpciwgbGlzdGluZy5yZWxhdGl2ZVBhdGggKTtcclxuXHJcbiAgICAgICAgLy8gY2hhbmdlIGV4dGVuc2lvblxyXG4gICAgICAgIGNvbnN0IGZpbGVOYW1lID0gcGF0aC5iYXNlbmFtZShvdXRGaWxlKTtcclxuICAgICAgICBjb25zdCBleHRlbnNpb24gPSBwYXRoLmV4dG5hbWUob3V0RmlsZSk7XHJcbiAgICAgICAgY29uc3QgbmV3RmlsZU5hbWUgPSBmaWxlTmFtZS5yZXBsYWNlKGV4dGVuc2lvbiwgJy5tZCcpO1xyXG5cclxuICAgICAgICAvLyBmaW5hbCBvdXRmaWxlXHJcbiAgICAgICAgb3V0RmlsZSA9IHBhdGguam9pbihwYXRoLmRpcm5hbWUob3V0RmlsZSksIG5ld0ZpbGVOYW1lKTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoIWRyeXJ1bil7XHJcbiAgICAgICAgICAgIGNvbnN0IG91dEZpbGVEaXIgPSBwYXRoLmRpcm5hbWUoIG91dEZpbGUgKTtcclxuICAgICAgICAgICAgaWYgKCFmcy5leGlzdHNTeW5jKCBvdXRGaWxlRGlyICkpe1xyXG4gICAgICAgICAgICAgICAgZnMubWtkaXJTeW5jKCBvdXRGaWxlRGlyLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9ICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKCBsaXN0aW5nLmNvbnRlbnQgPT0gbnVsbCB8fCBsaXN0aW5nLmNvbnRlbnQubGVuZ3RoID09IDAgKXtcclxuXHJcbiAgICAgICAgICAgIGlmICghZHJ5cnVuKXtcclxuICAgICAgICAgICAgICAgIGZzLndyaXRlRmlsZVN5bmMoIG91dEZpbGUsICcnICk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBsaXN0aW5nLFxyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdXQVJOOiBFbXB0eSBmaWxlJyxcclxuICAgICAgICAgICAgICAgIG91dEZpbGU6IG91dEZpbGVcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGZpbGVEYXRhID0gSnNvbkZpbGVFbmNvZGluZy5kZWNvZGUoIGxpc3RpbmcuY29udGVudCB8fCAnJyApO1xyXG5cclxuICAgICAgICBjb25zdCBjaCA9IENyeXB0b0hlbHBlckZhY3RvcnkuQnVpbGRGcm9tRmlsZURhdGFPck51bGwoIGZpbGVEYXRhICk7XHJcbiAgICAgICAgaWYgKCBjaCA9PSBudWxsICl7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBsaXN0aW5nLFxyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnRVJST1I6IFVua25vd24gZm9ybWF0JyxcclxuICAgICAgICAgICAgICAgIG91dEZpbGU6IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhc3N3b3Jkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBwdyA9IHBhc3N3b3Jkc1tpXTtcclxuICAgICAgICAgICAgY29uc3QgZGVjb2RlZCA9IGF3YWl0IGNoLmRlY3J5cHRGcm9tQmFzZTY0KGZpbGVEYXRhLmVuY29kZWREYXRhLCBwdylcclxuICAgICAgICAgICAgaWYgKCBkZWNvZGVkICE9IG51bGwgKXtcclxuICAgICAgICAgICAgICAgIGlmICghZHJ5cnVuKXtcclxuICAgICAgICAgICAgICAgICAgICBmcy53cml0ZUZpbGVTeW5jKCBvdXRGaWxlLCBkZWNvZGVkICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBsaXN0aW5nLFxyXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYERlY3J5cHRlZGAsXHJcbiAgICAgICAgICAgICAgICAgICAgb3V0RmlsZTogb3V0RmlsZVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbGlzdGluZyxcclxuICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgIG1lc3NhZ2U6IGBFUlJPUjogVW5hYmxlIHRvIGRlY3J5cHRgLFxyXG4gICAgICAgICAgICBvdXRGaWxlOiB1bmRlZmluZWRcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBVdGlsc3tcclxuICAgIHN0YXRpYyBhc3luYyAqIHdhbGsoIGRpciA6IHN0cmluZyApIDogQXN5bmNJdGVyYWJsZUl0ZXJhdG9yPHN0cmluZz4ge1xyXG4gICAgICAgIFxyXG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgZCBvZiBhd2FpdCBmcy5wcm9taXNlcy5vcGVuZGlyKGRpcikpIHtcclxuICAgICAgICAgICAgY29uc3QgZW50cnkgPSBwYXRoLmpvaW4oZGlyLCBkLm5hbWUpO1xyXG4gICAgICAgICAgICBpZiAoZC5pc0RpcmVjdG9yeSgpKSB7XHJcbiAgICAgICAgICAgICAgICB5aWVsZCogVXRpbHMud2FsayhlbnRyeSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZC5pc0ZpbGUoKSl7XHJcbiAgICAgICAgICAgICAgICB5aWVsZCBlbnRyeTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgYXN5bmMgKiBsaXN0aW5ncyggZGlyIDogc3RyaW5nLCBpbmNsdWRlQ29udGVudDogYm9vbGVhbiApIDogQXN5bmNJdGVyYWJsZUl0ZXJhdG9yPExpc3Rpbmc+IHtcclxuICAgICAgICBcclxuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IHAgb2YgVXRpbHMud2FsayggZGlyICkpIHtcclxuICAgIFxyXG4gICAgICAgICAgICBjb25zdCBleHQgPSBwYXRoLmV4dG5hbWUocCkudG9Mb3dlckNhc2UoKS5zbGljZSgxKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGV4aXQgZWFybHkgaWYgbm90IGEgcmVsZXZhbnQgZmlsZVxyXG4gICAgICAgICAgICBpZiAoICFbJ21kJywgLi4uQ29uc3RhbnRzLkVOQ1JZUFRFRF9GSUxFX0VYVEVOU0lPTlNdLmluY2x1ZGVzKCBleHQgKSApe1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnN0IHJlbGF0aXZlUGF0aCA9ICcuJyArIHBhdGguc2VwICsgcGF0aC5yZWxhdGl2ZShkaXIsIHApO1xyXG4gICAgICAgICAgICBjb25zdCBjb250ZW50ID0gKCBpbmNsdWRlQ29udGVudCB8fCBleHQgPT0gJ21kJyApID8gYXdhaXQgZnMucHJvbWlzZXMucmVhZEZpbGUoIHAsICd1dGY4JyApIDogdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gY291bGQgaGF2ZSBpbnBsYWNlIGVuY3J5cHRlZCBub3Rlc1xyXG4gICAgICAgICAgICBpZiAoIGV4dCA9PSAnbWQnICl7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICBjb250ZW50IS5pbmNsdWRlcyggSW5QbGFjZUNvbnN0YW50cy5fUFJFRklYX0FfVklTSUJMRSApXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgY29udGVudCEuaW5jbHVkZXMoIEluUGxhY2VDb25zdGFudHMuX1BSRUZJWF9CX1ZJU0lCTEUgKVxyXG4gICAgICAgICAgICAgICAgKXtcclxuICAgICAgICAgICAgICAgICAgICB5aWVsZCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZlYXR1cmVUeXBlOiAnSW5QbGFjZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGxQYXRoOiBwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWxhdGl2ZVBhdGg6IHJlbGF0aXZlUGF0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZW5zaW9uOiBleHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGluY2x1ZGVDb250ZW50ID8gY29udGVudCA6IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBtdXN0IGJlIHdob2xlIG5vdGUgZW5jcnlwdGVkXHJcbiAgICAgICAgICAgIHlpZWxkIHtcclxuICAgICAgICAgICAgICAgIGZlYXR1cmVUeXBlOiAnV2hvbGVOb3RlJyxcclxuICAgICAgICAgICAgICAgIGZ1bGxQYXRoOiBwLFxyXG4gICAgICAgICAgICAgICAgcmVsYXRpdmVQYXRoOiByZWxhdGl2ZVBhdGgsXHJcbiAgICAgICAgICAgICAgICBleHRlbnNpb246IGV4dCxcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGNvbnRlbnRcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuY29uc3Qgb3B0UGFzc3dvcmRMaXN0IDogeWFyZ3MuT3B0aW9ucyAgPSB7XHJcbiAgICBkZW1hbmRPcHRpb246IHRydWUsXHJcbiAgICBhbGlhczogWydwJywgJ3B3J10sXHJcbiAgICBkZXNjcmliZTogJ3Bhc3N3b3JkcyB0byB1c2UnLFxyXG4gICAgdHlwZTogJ2FycmF5JyxcclxufVxyXG5cclxuY29uc3Qgb3B0TGlzdGluZ0Zvcm1hdCA6IHlhcmdzLk9wdGlvbnMgPSB7XHJcbiAgICBhbGlhczogJ2YnLFxyXG4gICAgZGVzY3JpYmU6ICdmb3JtYXQgb2YgdGhlIGxpc3RpbmcnLFxyXG4gICAgdHlwZTogJ3N0cmluZycsXHJcbiAgICBjaG9pY2VzOiBbICdkZWZhdWx0JywgJ3RhYmxlJywgJ2pzb24nLCAnY3N2J10sXHJcbiAgICBkZWZhdWx0OiAnZGVmYXVsdCcsXHJcbn1cclxuXHJcblxyXG5cclxueWFyZ3MuZGVmYXVsdChoaWRlQmluKHByb2Nlc3MuYXJndikpXHJcbiAgICAudXNhZ2UoICdVc2FnZTogJDAgW2NvbW1hbmRdIFtvcHRpb25zXScgKVxyXG5cclxuICAgIC5jb21tYW5kKCAnbGlzdCcsICdsaXN0IGFsbCBlbmNyeXB0ZWQgYXJ0aWZhY3RzIHdpdGhpbiB0aGUgY3VycmVudCBkaXJlY3RvcnknLCAoeWFyZ3MpID0+IHlhcmdzLm9wdGlvbigge1xyXG4gICAgICAgIGZvcm1hdDogb3B0TGlzdGluZ0Zvcm1hdFxyXG4gICAgfSApLCAoYXJndikgPT4gbmV3IExpc3RDb21tYW5kSGFuZGxlcigpLmFyZ0hhbmRsZXIoYXJndi5mb3JtYXQgYXMgc3RyaW5nICkgKVxyXG4gICAgXHJcbiAgICAuY29tbWFuZChbJ3Rlc3QnLCAnY2hlY2snXSwgJ2NoZWNrIHRoYXQgYWxsIG5vdGVzIGNhbiBiZSBkZWNyeXB0ZWQgd2l0aCB0aGUgZ2l2ZW4gcGFzc3dvcmQgbGlzdCcsICh5YXJncykgPT4geWFyZ3Mub3B0aW9uKCAge1xyXG4gICAgICAgIHBhc3N3b3Jkczogb3B0UGFzc3dvcmRMaXN0LFxyXG4gICAgICAgIGZhaWxzOiB7XHJcbiAgICAgICAgICAgIGFsaWFzOiBbJ2YnLCAnZmFpbCddLFxyXG4gICAgICAgICAgICBkZXNjcmliZTogJ29ubHkgbGlzdCBmYWlscycsXHJcbiAgICAgICAgICAgIHR5cGU6ICdib29sZWFuJyxcclxuICAgICAgICAgICAgZGVmYXVsdDogZmFsc2VcclxuICAgICAgICB9XHJcbiAgICB9ICksIChhcmd2KSA9PiBuZXcgVGVzdENvbW1hbmRIYW5kbGVyKCkuYXJnSGFuZGxlciggYXJndi5wYXNzd29yZHMgYXMgc3RyaW5nW10sIGFyZ3YuZmFpbHMgYXMgYm9vbGVhbiApIClcclxuICAgIFxyXG4gICAgLmNvbW1hbmQoJ2RlY3J5cHQnLCAnZGVjcnlwdCBub3RlcyB0byBwbGFpbiB0ZXh0IGdpdmVuIGEgcGFzc3dvcmQgbGlzdCBhbmQgYW4gb3V0cHV0IGRpcmVjdG9yeScsICAoeWFyZ3MpID0+IHlhcmdzLm9wdGlvbiggIHtcclxuICAgICAgICBwYXNzd29yZHM6IG9wdFBhc3N3b3JkTGlzdCxcclxuICAgICAgICBvdXRkaXI6IHtcclxuICAgICAgICAgICAgYWxpYXM6IFsnbycsICdvdXQnLCAndG8nXSxcclxuICAgICAgICAgICAgZGVzY3JpYmU6ICdvdXRwdXQgZGlyZWN0b3J5JyxcclxuICAgICAgICAgICAgdHlwZTogJ3N0cmluZycsXHJcbiAgICAgICAgICAgIGRlbWFuZE9wdGlvbjogdHJ1ZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZHJ5cnVuOiB7XHJcbiAgICAgICAgICAgIGFsaWFzOiBbJ2RyJywgJ2RyeSddLFxyXG4gICAgICAgICAgICBkZXNjcmliZTogJ2RyeSBydW4nLFxyXG4gICAgICAgICAgICB0eXBlOiAnYm9vbGVhbicsXHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgfSApLCAoYXJndikgPT4gbmV3IERlY3J5cHRDb21tYW5kSGFuZGxlcigpLmFyZ0hhbmRsZXIoIGFyZ3YucGFzc3dvcmRzIGFzIHN0cmluZ1tdLCBhcmd2Lm91dGRpciBhcyBzdHJpbmcsIGFyZ3YuZHJ5cnVuICE9PSBmYWxzZSApICkgXHJcbiAgICBcclxuICAgIC5kZW1hbmRDb21tYW5kKClcclxuICAgIC5oZWxwKClcclxuICAgIC53cmFwKCBudWxsIClcclxuICAgIC5leGFtcGxlKFtcclxuICAgICAgICBbJyQwIGxpc3QnLCAnUHJvY2Vzc2VzIGFsbCAqLm1kIGFuZCAqLm1kZW5jIGZpbGVzIGFuZCBsaXN0IGFueSBlbmNyeXB0ZWQgYXJ0aWZhY3RzIHdpdGhpbiB0aGUgY3VycmVudCBkaXJlY3RvcnknXSxcclxuICAgICAgICBbJyQwIHRlc3QgLS1wYXNzd29yZHMgcHcxIHB3MicsICdjaGVjayB0aGF0IGFsbCBub3RlcyBjYW4gYmUgZGVjcnlwdGVkIHdpdGggdGhlIGdpdmVuIHBhc3N3b3JkIGxpc3QnXSxcclxuICAgICAgICBbJyQwIGRlY3J5cHQgLS1wdyBwdzEgcHcyIC0tb3V0ZGlyIFxcXFxwYXRoXFxcXHRvXFxcXG91dHB1dFxcXFwnLCAnZGVjcnlwdCBub3RlcyB0byBhbiBvdXRwdXQgZGlyZWN0b3J5J10sXHJcbiAgICAgIF0pXHJcbiAgICAucGFyc2UoKVxyXG47XHJcbiBcclxuXHJcbiIsICJjb25zdCB2ZWN0b3JTaXplXHQ9IDE2O1xyXG5jb25zdCB1dGY4RW5jb2Rlclx0PSBuZXcgVGV4dEVuY29kZXIoKTtcclxuY29uc3QgdXRmOERlY29kZXJcdD0gbmV3IFRleHREZWNvZGVyKCk7XHJcbmNvbnN0IGl0ZXJhdGlvbnNcdD0gMTAwMDtcclxuY29uc3Qgc2FsdFx0XHRcdD0gdXRmOEVuY29kZXIuZW5jb2RlKCdYSFduREFUNmVoTVZZMnpEJyk7XHJcblxyXG5leHBvcnQgY2xhc3MgQ3J5cHRvSGVscGVyIHtcclxuXHJcblx0Ly8gY29uc3RydWN0b3IoKXtcclxuXHQvLyBcdGNvbnNvbGUuZGVidWcoJ25ldyBDcnlwdG9IZWxwZXInKTtcclxuXHQvLyB9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgZGVyaXZlS2V5KHBhc3N3b3JkOnN0cmluZykgOlByb21pc2U8Q3J5cHRvS2V5PiB7XHJcblx0XHRjb25zdCBidWZmZXIgICAgID0gdXRmOEVuY29kZXIuZW5jb2RlKHBhc3N3b3JkKTtcclxuXHRcdGNvbnN0IGtleSAgICAgICAgPSBhd2FpdCBjcnlwdG8uc3VidGxlLmltcG9ydEtleSgncmF3JywgYnVmZmVyLCB7bmFtZTogJ1BCS0RGMid9LCBmYWxzZSwgWydkZXJpdmVLZXknXSk7XHJcblx0XHRjb25zdCBwcml2YXRlS2V5ID0gY3J5cHRvLnN1YnRsZS5kZXJpdmVLZXkoXHJcblx0XHRcdHtcclxuXHRcdFx0XHRuYW1lOiAnUEJLREYyJyxcclxuXHRcdFx0XHRoYXNoOiB7bmFtZTogJ1NIQS0yNTYnfSxcclxuXHRcdFx0XHRpdGVyYXRpb25zLFxyXG5cdFx0XHRcdHNhbHRcclxuXHRcdFx0fSxcclxuXHRcdFx0a2V5LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0bmFtZTogJ0FFUy1HQ00nLFxyXG5cdFx0XHRcdGxlbmd0aDogMjU2XHJcblx0XHRcdH0sXHJcblx0XHRcdGZhbHNlLFxyXG5cdFx0XHRbJ2VuY3J5cHQnLCAnZGVjcnlwdCddXHJcblx0XHQpO1xyXG5cdFx0XHJcblx0XHRyZXR1cm4gcHJpdmF0ZUtleTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBhc3luYyBlbmNyeXB0VG9CeXRlcyh0ZXh0OiBzdHJpbmcsIHBhc3N3b3JkOiBzdHJpbmcpOiBQcm9taXNlPFVpbnQ4QXJyYXk+IHtcclxuXHJcblx0XHRjb25zdCBrZXkgPSBhd2FpdCB0aGlzLmRlcml2ZUtleShwYXNzd29yZCk7XHJcblx0XHRcclxuXHRcdGNvbnN0IHRleHRCeXRlc1RvRW5jcnlwdCA9IHV0ZjhFbmNvZGVyLmVuY29kZSh0ZXh0KTtcclxuXHRcdGNvbnN0IHZlY3RvciA9IGNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkodmVjdG9yU2l6ZSkpO1xyXG5cdFx0XHJcblx0XHQvLyBlbmNyeXB0IGludG8gYnl0ZXNcclxuXHRcdGNvbnN0IGVuY3J5cHRlZEJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoXHJcblx0XHRcdGF3YWl0IGNyeXB0by5zdWJ0bGUuZW5jcnlwdChcclxuXHRcdFx0XHR7bmFtZTogJ0FFUy1HQ00nLCBpdjogdmVjdG9yfSxcclxuXHRcdFx0XHRrZXksXHJcblx0XHRcdFx0dGV4dEJ5dGVzVG9FbmNyeXB0XHJcblx0XHRcdClcclxuXHRcdCk7XHJcblx0XHRcclxuXHRcdGNvbnN0IGZpbmFsQnl0ZXMgPSBuZXcgVWludDhBcnJheSggdmVjdG9yLmJ5dGVMZW5ndGggKyBlbmNyeXB0ZWRCeXRlcy5ieXRlTGVuZ3RoICk7XHJcblx0XHRmaW5hbEJ5dGVzLnNldCggdmVjdG9yLCAwICk7XHJcblx0XHRmaW5hbEJ5dGVzLnNldCggZW5jcnlwdGVkQnl0ZXMsIHZlY3Rvci5ieXRlTGVuZ3RoICk7XHJcblxyXG5cdFx0cmV0dXJuIGZpbmFsQnl0ZXM7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGNvbnZlcnRUb1N0cmluZyggYnl0ZXMgOiBVaW50OEFycmF5ICk6IHN0cmluZyB7XHJcblx0XHRsZXQgcmVzdWx0ID0gJyc7XHJcblx0XHRmb3IgKGxldCBpZHggPSAwOyBpZHggPCBieXRlcy5sZW5ndGg7IGlkeCsrKSB7XHJcblx0XHRcdC8vIGFwcGVuZCB0byByZXN1bHRcclxuXHRcdFx0cmVzdWx0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZXNbaWR4XSk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0cHVibGljIGFzeW5jIGVuY3J5cHRUb0Jhc2U2NCh0ZXh0OiBzdHJpbmcsIHBhc3N3b3JkOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xyXG5cclxuXHRcdGNvbnN0IGZpbmFsQnl0ZXMgPSBhd2FpdCB0aGlzLmVuY3J5cHRUb0J5dGVzKHRleHQsIHBhc3N3b3JkKTtcclxuXHJcblx0XHQvL2NvbnZlcnQgYXJyYXkgdG8gYmFzZTY0XHJcblx0XHRjb25zdCBiYXNlNjRUZXh0ID0gYnRvYSggdGhpcy5jb252ZXJ0VG9TdHJpbmcoZmluYWxCeXRlcykgKTtcclxuXHJcblx0XHRyZXR1cm4gYmFzZTY0VGV4dDtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3RyaW5nVG9BcnJheShzdHI6IHN0cmluZyk6IFVpbnQ4QXJyYXkge1xyXG5cdFx0Y29uc3QgcmVzdWx0ID0gW107XHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRyZXN1bHQucHVzaChzdHIuY2hhckNvZGVBdChpKSk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gbmV3IFVpbnQ4QXJyYXkocmVzdWx0KTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBhc3luYyBkZWNyeXB0RnJvbUJ5dGVzKGVuY3J5cHRlZEJ5dGVzOiBVaW50OEFycmF5LCBwYXNzd29yZDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmd8bnVsbD4ge1xyXG5cdFx0dHJ5IHtcclxuXHJcblx0XHRcdC8vIGV4dHJhY3QgaXZcclxuXHRcdFx0Y29uc3QgdmVjdG9yID0gZW5jcnlwdGVkQnl0ZXMuc2xpY2UoMCx2ZWN0b3JTaXplKTtcclxuXHJcblx0XHRcdC8vIGV4dHJhY3QgZW5jcnlwdGVkIHRleHRcclxuXHRcdFx0Y29uc3QgZW5jcnlwdGVkVGV4dEJ5dGVzID0gZW5jcnlwdGVkQnl0ZXMuc2xpY2UodmVjdG9yU2l6ZSk7XHJcblxyXG5cdFx0XHRjb25zdCBrZXkgPSBhd2FpdCB0aGlzLmRlcml2ZUtleShwYXNzd29yZCk7XHJcblxyXG5cdFx0XHQvLyBkZWNyeXB0IGludG8gYnl0ZXNcclxuXHRcdFx0Y29uc3QgZGVjcnlwdGVkQnl0ZXMgPSBhd2FpdCBjcnlwdG8uc3VidGxlLmRlY3J5cHQoXHJcblx0XHRcdFx0e25hbWU6ICdBRVMtR0NNJywgaXY6IHZlY3Rvcn0sXHJcblx0XHRcdFx0a2V5LFxyXG5cdFx0XHRcdGVuY3J5cHRlZFRleHRCeXRlc1xyXG5cdFx0XHQpO1xyXG5cclxuXHRcdFx0Ly8gY29udmVydCBieXRlcyB0byB0ZXh0XHJcblx0XHRcdGNvbnN0IGRlY3J5cHRlZFRleHQgPSB1dGY4RGVjb2Rlci5kZWNvZGUoZGVjcnlwdGVkQnl0ZXMpO1xyXG5cdFx0XHRyZXR1cm4gZGVjcnlwdGVkVGV4dDtcclxuXHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0Ly9jb25zb2xlLmVycm9yKGUpO1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHB1YmxpYyBhc3luYyBkZWNyeXB0RnJvbUJhc2U2NChiYXNlNjRFbmNvZGVkOiBzdHJpbmcsIHBhc3N3b3JkOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZ3xudWxsPiB7XHJcblx0XHR0cnkge1xyXG5cclxuXHRcdFx0Y29uc3QgYnl0ZXNUb0RlY29kZSA9IHRoaXMuc3RyaW5nVG9BcnJheShhdG9iKGJhc2U2NEVuY29kZWQpKTtcclxuXHRcdFx0XHJcblx0XHRcdHJldHVybiBhd2FpdCB0aGlzLmRlY3J5cHRGcm9tQnl0ZXMoYnl0ZXNUb0RlY29kZSwgcGFzc3dvcmQpO1xyXG5cclxuXHRcdFx0Ly8gLy8gZXh0cmFjdCBpdlxyXG5cdFx0XHQvLyBjb25zdCB2ZWN0b3IgPSBieXRlc1RvRGVjb2RlLnNsaWNlKDAsdmVjdG9yU2l6ZSk7XHJcblxyXG5cdFx0XHQvLyAvLyBleHRyYWN0IGVuY3J5cHRlZCB0ZXh0XHJcblx0XHRcdC8vIGNvbnN0IGVuY3J5cHRlZFRleHRCeXRlcyA9IGJ5dGVzVG9EZWNvZGUuc2xpY2UodmVjdG9yU2l6ZSk7XHJcblxyXG5cdFx0XHQvLyBjb25zdCBrZXkgPSBhd2FpdCB0aGlzLmRlcml2ZUtleShwYXNzd29yZCk7XHJcblxyXG5cdFx0XHQvLyAvLyBkZWNyeXB0IGludG8gYnl0ZXNcclxuXHRcdFx0Ly8gbGV0IGRlY3J5cHRlZEJ5dGVzID0gYXdhaXQgY3J5cHRvLnN1YnRsZS5kZWNyeXB0KFxyXG5cdFx0XHQvLyBcdHtuYW1lOiAnQUVTLUdDTScsIGl2OiB2ZWN0b3J9LFxyXG5cdFx0XHQvLyBcdGtleSxcclxuXHRcdFx0Ly8gXHRlbmNyeXB0ZWRUZXh0Qnl0ZXNcclxuXHRcdFx0Ly8gKTtcclxuXHJcblx0XHRcdC8vIC8vIGNvbnZlcnQgYnl0ZXMgdG8gdGV4dFxyXG5cdFx0XHQvLyBsZXQgZGVjcnlwdGVkVGV4dCA9IHV0ZjhEZWNvZGVyLmRlY29kZShkZWNyeXB0ZWRCeXRlcyk7XHJcblx0XHRcdC8vIHJldHVybiBkZWNyeXB0ZWRUZXh0O1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHQvL2NvbnNvbGUuZXJyb3IoZSk7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcbn1cclxuXHJcblxyXG5cclxuIiwgImltcG9ydCB7IElDcnlwdG9IZWxwZXIgfSBmcm9tIFwiLi9JQ3J5cHRvSGVscGVyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ3J5cHRvSGVscGVyMjMwNCBpbXBsZW1lbnRzIElDcnlwdG9IZWxwZXIge1xyXG5cdHB1YmxpYyB2ZWN0b3JTaXplOiBudW1iZXI7XHJcblx0cHVibGljIHNhbHRTaXplOiBudW1iZXI7XHJcblx0cHVibGljIGl0ZXJhdGlvbnM6IG51bWJlcjtcclxuXHJcblx0Y29uc3RydWN0b3IoIHZlY3RvclNpemU6IG51bWJlciwgc2FsdFNpemU6IG51bWJlciwgaXRlcmF0aW9uczogbnVtYmVyICl7XHJcblx0XHQvL2NvbnNvbGUuZGVidWcoJ25ldyBDcnlwdG9IZWxwZXIyMzA0Jywge3ZlY3RvclNpemUsIHNhbHRTaXplLCBpdGVyYXRpb25zfSk7XHJcblx0XHR0aGlzLnZlY3RvclNpemUgPSB2ZWN0b3JTaXplO1xyXG5cdFx0dGhpcy5zYWx0U2l6ZSA9IHNhbHRTaXplO1xyXG5cdFx0dGhpcy5pdGVyYXRpb25zID0gaXRlcmF0aW9ucztcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgZGVyaXZlS2V5KCBwYXNzd29yZDpzdHJpbmcsIHNhbHQ6VWludDhBcnJheSApIDpQcm9taXNlPENyeXB0b0tleT4ge1xyXG5cdFx0Ly9TZWU6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9TdWJ0bGVDcnlwdG9cclxuXHRcdGNvbnN0IHV0ZjhFbmNvZGVyXHQ9IG5ldyBUZXh0RW5jb2RlcigpO1xyXG5cdFx0Y29uc3QgYnVmZmVyICAgICA9IHV0ZjhFbmNvZGVyLmVuY29kZShwYXNzd29yZCk7XHJcblx0XHRjb25zdCBrZXkgICAgICAgID0gYXdhaXQgY3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkoXHJcblx0XHRcdC8qZm9ybWF0Ki8gJ3JhdycsXHJcblx0XHRcdC8qa2V5RGF0YSovIGJ1ZmZlcixcclxuXHRcdFx0LyphbGdvcml0aG0qLyAnUEJLREYyJyxcclxuXHRcdFx0LypleHRyYWN0YWJsZSovIGZhbHNlLFxyXG5cdFx0XHQvKmtleVVzYWdlcyovIFsnZGVyaXZlS2V5J11cclxuXHRcdCk7XHJcblx0XHRjb25zdCBwcml2YXRlS2V5ID0gYXdhaXQgY3J5cHRvLnN1YnRsZS5kZXJpdmVLZXkoXHJcblx0XHRcdC8qYWxnb3JpdGhtKi8ge1xyXG5cdFx0XHRcdG5hbWU6ICdQQktERjInLFxyXG5cdFx0XHRcdGhhc2g6ICdTSEEtNTEyJyxcclxuXHRcdFx0XHRzYWx0LFxyXG5cdFx0XHRcdGl0ZXJhdGlvbnM6IHRoaXMuaXRlcmF0aW9ucyxcclxuXHRcdFx0fSxcclxuXHRcdFx0LypiYXNlS2V5Ki8ga2V5LFxyXG5cdFx0XHQvKmRlcml2ZWRLZXlBbGdvcml0aG0qLyB7XHJcblx0XHRcdFx0bmFtZTogJ0FFUy1HQ00nLFxyXG5cdFx0XHRcdGxlbmd0aDogMjU2XHJcblx0XHRcdH0sXHJcblx0XHRcdC8qZXh0cmFjdGFibGUqLyBmYWxzZSxcclxuXHRcdFx0LyprZXlVc2FnZXMqLyBbJ2VuY3J5cHQnLCAnZGVjcnlwdCddXHJcblx0XHQpO1xyXG5cdFx0XHJcblx0XHRyZXR1cm4gcHJpdmF0ZUtleTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgZW5jcnlwdFRvQnl0ZXMoIHRleHQ6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZyApOiBQcm9taXNlPFVpbnQ4QXJyYXk+IHtcclxuXHJcblx0XHRjb25zdCBzYWx0ID0gY3J5cHRvLmdldFJhbmRvbVZhbHVlcyggbmV3IFVpbnQ4QXJyYXkodGhpcy5zYWx0U2l6ZSkgKTtcclxuXHJcblx0XHRjb25zdCBrZXkgPSBhd2FpdCB0aGlzLmRlcml2ZUtleSggcGFzc3dvcmQsIHNhbHQgKTtcclxuXHRcdFxyXG5cdFx0Y29uc3QgdXRmOEVuY29kZXJcdD0gbmV3IFRleHRFbmNvZGVyKCk7XHJcblx0XHRjb25zdCB0ZXh0Qnl0ZXNUb0VuY3J5cHQgPSB1dGY4RW5jb2Rlci5lbmNvZGUodGV4dCk7XHJcblx0XHRjb25zdCB2ZWN0b3IgPSBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KHRoaXMudmVjdG9yU2l6ZSkpO1xyXG5cdFx0XHJcblx0XHQvLyBlbmNyeXB0IGludG8gYnl0ZXNcclxuXHRcdGNvbnN0IGVuY3J5cHRlZEJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoXHJcblx0XHRcdGF3YWl0IGNyeXB0by5zdWJ0bGUuZW5jcnlwdChcclxuXHRcdFx0XHQvKmFsZ29yaXRobSovIHtcclxuXHRcdFx0XHRcdG5hbWU6ICdBRVMtR0NNJyxcclxuXHRcdFx0XHRcdGl2OiB2ZWN0b3JcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdC8qa2V5Ki8ga2V5LFxyXG5cdFx0XHRcdC8qZGF0YSovIHRleHRCeXRlc1RvRW5jcnlwdFxyXG5cdFx0XHQpXHJcblx0XHQpO1xyXG5cdFx0XHJcblx0XHRjb25zdCBmaW5hbEJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoIHZlY3Rvci5ieXRlTGVuZ3RoICsgc2FsdC5ieXRlTGVuZ3RoICsgZW5jcnlwdGVkQnl0ZXMuYnl0ZUxlbmd0aCApO1xyXG5cdFx0ZmluYWxCeXRlcy5zZXQoIHZlY3RvciwgMCApO1xyXG5cdFx0ZmluYWxCeXRlcy5zZXQoIHNhbHQsIHZlY3Rvci5ieXRlTGVuZ3RoICk7XHJcblx0XHRmaW5hbEJ5dGVzLnNldCggZW5jcnlwdGVkQnl0ZXMsIHZlY3Rvci5ieXRlTGVuZ3RoICsgc2FsdC5ieXRlTGVuZ3RoICk7XHJcblxyXG5cdFx0cmV0dXJuIGZpbmFsQnl0ZXM7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGNvbnZlcnRUb1N0cmluZyggYnl0ZXMgOiBVaW50OEFycmF5ICk6IHN0cmluZyB7XHJcblx0XHRsZXQgcmVzdWx0ID0gJyc7XHJcblx0XHRmb3IgKGxldCBpZHggPSAwOyBpZHggPCBieXRlcy5sZW5ndGg7IGlkeCsrKSB7XHJcblx0XHRcdC8vIGFwcGVuZCB0byByZXN1bHRcclxuXHRcdFx0cmVzdWx0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZXNbaWR4XSk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0cHVibGljIGFzeW5jIGVuY3J5cHRUb0Jhc2U2NCh0ZXh0OiBzdHJpbmcsIHBhc3N3b3JkOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xyXG5cclxuXHRcdGNvbnN0IGZpbmFsQnl0ZXMgPSBhd2FpdCB0aGlzLmVuY3J5cHRUb0J5dGVzKHRleHQsIHBhc3N3b3JkKTtcclxuXHJcblx0XHQvL2NvbnZlcnQgYXJyYXkgdG8gYmFzZTY0XHJcblx0XHRjb25zdCBiYXNlNjRUZXh0ID0gYnRvYSggdGhpcy5jb252ZXJ0VG9TdHJpbmcoZmluYWxCeXRlcykgKTtcclxuXHJcblx0XHRyZXR1cm4gYmFzZTY0VGV4dDtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3RyaW5nVG9BcnJheShzdHI6IHN0cmluZyk6IFVpbnQ4QXJyYXkge1xyXG5cdFx0Y29uc3QgcmVzdWx0ID0gW107XHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRyZXN1bHQucHVzaChzdHIuY2hhckNvZGVBdChpKSk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gbmV3IFVpbnQ4QXJyYXkocmVzdWx0KTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgZGVjcnlwdEZyb21CeXRlcyhcclxuXHRcdGVuY3J5cHRlZEJ5dGVzOiBVaW50OEFycmF5LFxyXG5cdFx0cGFzc3dvcmQ6IHN0cmluZ1xyXG5cdCk6IFByb21pc2U8c3RyaW5nfG51bGw+IHtcclxuXHRcdHRyeSB7XHJcblxyXG5cdFx0XHRsZXQgb2Zmc2V0OiBudW1iZXI7XHJcblx0XHRcdGxldCBuZXh0T2Zmc2V0IDogbnVtYmVyfHVuZGVmaW5lZDtcclxuXHJcblx0XHRcdC8vIGV4dHJhY3QgaXZcclxuXHRcdFx0b2Zmc2V0ID0gMDtcclxuXHRcdFx0bmV4dE9mZnNldCA9IG9mZnNldCArIHRoaXMudmVjdG9yU2l6ZTtcclxuXHRcdFx0Y29uc3QgdmVjdG9yID0gZW5jcnlwdGVkQnl0ZXMuc2xpY2Uob2Zmc2V0LCBuZXh0T2Zmc2V0KTtcclxuXHJcblx0XHRcdC8vIGV4dHJhY3Qgc2FsdFxyXG5cdFx0XHRvZmZzZXQgPSBuZXh0T2Zmc2V0O1xyXG5cdFx0XHRuZXh0T2Zmc2V0ID0gb2Zmc2V0ICsgdGhpcy5zYWx0U2l6ZTtcclxuXHRcdFx0Y29uc3Qgc2FsdCA9IGVuY3J5cHRlZEJ5dGVzLnNsaWNlKG9mZnNldCwgbmV4dE9mZnNldCk7XHJcblxyXG5cdFx0XHQvLyBleHRyYWN0IGVuY3J5cHRlZCB0ZXh0XHJcblx0XHRcdG9mZnNldCA9IG5leHRPZmZzZXQ7XHJcblx0XHRcdG5leHRPZmZzZXQgPSB1bmRlZmluZWQ7XHJcblx0XHRcdGNvbnN0IGVuY3J5cHRlZFRleHRCeXRlcyA9IGVuY3J5cHRlZEJ5dGVzLnNsaWNlKG9mZnNldCk7XHJcblxyXG5cdFx0XHRjb25zdCBrZXkgPSBhd2FpdCB0aGlzLmRlcml2ZUtleShwYXNzd29yZCwgc2FsdCk7XHJcblxyXG5cdFx0XHQvLyBkZWNyeXB0IGludG8gYnl0ZXNcclxuXHRcdFx0Y29uc3QgZGVjcnlwdGVkQnl0ZXMgPSBhd2FpdCBjcnlwdG8uc3VidGxlLmRlY3J5cHQoXHJcblx0XHRcdFx0LyphbGdvcml0aG0qLyB7XHJcblx0XHRcdFx0XHRuYW1lOiAnQUVTLUdDTScsXHJcblx0XHRcdFx0XHRpdjogdmVjdG9yXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHQvKmtleSovIGtleSxcclxuXHRcdFx0XHQvKmRhdGEqLyBlbmNyeXB0ZWRUZXh0Qnl0ZXNcclxuXHRcdFx0KTtcclxuXHJcblx0XHRcdC8vIGNvbnZlcnQgYnl0ZXMgdG8gdGV4dFxyXG5cdFx0XHRjb25zdCB1dGY4RGVjb2Rlclx0PSBuZXcgVGV4dERlY29kZXIoKTtcclxuXHRcdFx0Y29uc3QgZGVjcnlwdGVkVGV4dCA9IHV0ZjhEZWNvZGVyLmRlY29kZShkZWNyeXB0ZWRCeXRlcyk7XHJcblx0XHRcdHJldHVybiBkZWNyeXB0ZWRUZXh0O1xyXG5cclxuXHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0Ly9jb25zb2xlLmVycm9yKGUpO1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHB1YmxpYyBhc3luYyBkZWNyeXB0RnJvbUJhc2U2NCggYmFzZTY0RW5jb2RlZDogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nICk6IFByb21pc2U8c3RyaW5nfG51bGw+IHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdGNvbnN0IGJ5dGVzVG9EZWNvZGUgPSB0aGlzLnN0cmluZ1RvQXJyYXkoYXRvYihiYXNlNjRFbmNvZGVkKSk7XHJcblx0XHRcdHJldHVybiBhd2FpdCB0aGlzLmRlY3J5cHRGcm9tQnl0ZXMoIGJ5dGVzVG9EZWNvZGUsIHBhc3N3b3JkICk7XHJcblx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcbn0iLCAiZXhwb3J0IGNvbnN0IGFsZ29yaXRobU9ic29sZXRlID0ge1xyXG5cdG5hbWU6ICdBRVMtR0NNJyxcclxuXHRpdjogbmV3IFVpbnQ4QXJyYXkoWzE5NiwgMTkwLCAyNDAsIDE5MCwgMTg4LCA3OCwgNDEsIDEzMiwgMTUsIDIyMCwgODQsIDIxMV0pLFxyXG5cdHRhZ0xlbmd0aDogMTI4XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDcnlwdG9IZWxwZXJPYnNvbGV0ZSB7XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgYnVpbGRLZXkocGFzc3dvcmQ6IHN0cmluZykge1xyXG5cdFx0Y29uc3QgdXRmOEVuY29kZSA9IG5ldyBUZXh0RW5jb2RlcigpO1xyXG5cdFx0Y29uc3QgcGFzc3dvcmRCeXRlcyA9IHV0ZjhFbmNvZGUuZW5jb2RlKHBhc3N3b3JkKTtcclxuXHJcblx0XHRjb25zdCBwYXNzd29yZERpZ2VzdCA9IGF3YWl0IGNyeXB0by5zdWJ0bGUuZGlnZXN0KHsgbmFtZTogJ1NIQS0yNTYnIH0sIHBhc3N3b3JkQnl0ZXMpO1xyXG5cclxuXHRcdGNvbnN0IGtleSA9IGF3YWl0IGNyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KFxyXG5cdFx0XHQncmF3JyxcclxuXHRcdFx0cGFzc3dvcmREaWdlc3QsXHJcblx0XHRcdGFsZ29yaXRobU9ic29sZXRlLFxyXG5cdFx0XHRmYWxzZSxcclxuXHRcdFx0WydlbmNyeXB0JywgJ2RlY3J5cHQnXVxyXG5cdFx0KTtcclxuXHJcblx0XHRyZXR1cm4ga2V5O1xyXG5cdH1cclxuXHRcclxuXHQvKipcclxuICBcdCogQGRlcHJlY2F0ZWRcclxuIFx0Ki9cclxuXHRwdWJsaWMgYXN5bmMgZW5jcnlwdFRvQmFzZTY0KHRleHQ6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XHJcblx0XHRjb25zdCBrZXkgPSBhd2FpdCB0aGlzLmJ1aWxkS2V5KHBhc3N3b3JkKTtcclxuXHJcblx0XHRjb25zdCB1dGY4RW5jb2RlID0gbmV3IFRleHRFbmNvZGVyKCk7XHJcblx0XHRjb25zdCBieXRlc1RvRW5jcnlwdCA9IHV0ZjhFbmNvZGUuZW5jb2RlKHRleHQpO1xyXG5cclxuXHRcdC8vIGVuY3J5cHQgaW50byBieXRlc1xyXG5cdFx0Y29uc3QgZW5jcnlwdGVkQnl0ZXMgPSBuZXcgVWludDhBcnJheShhd2FpdCBjcnlwdG8uc3VidGxlLmVuY3J5cHQoXHJcblx0XHRcdGFsZ29yaXRobU9ic29sZXRlLCBrZXksIGJ5dGVzVG9FbmNyeXB0XHJcblx0XHQpKTtcclxuXHJcblx0XHQvL2NvbnZlcnQgYXJyYXkgdG8gYmFzZTY0XHJcblx0XHRjb25zdCBiYXNlNjRUZXh0ID0gYnRvYShTdHJpbmcuZnJvbUNoYXJDb2RlKC4uLmVuY3J5cHRlZEJ5dGVzKSk7XHJcblxyXG5cdFx0cmV0dXJuIGJhc2U2NFRleHQ7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHN0cmluZ1RvQXJyYXkoc3RyOiBzdHJpbmcpOiBVaW50OEFycmF5IHtcclxuXHRcdGNvbnN0IHJlc3VsdCA9IFtdO1xyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0cmVzdWx0LnB1c2goc3RyLmNoYXJDb2RlQXQoaSkpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG5ldyBVaW50OEFycmF5KHJlc3VsdCk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgYXN5bmMgZGVjcnlwdEZyb21CYXNlNjQoYmFzZTY0RW5jb2RlZDogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmd8bnVsbD4ge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Ly8gY29udmVydCBiYXNlIDY0IHRvIGFycmF5XHJcblx0XHRcdGNvbnN0IGJ5dGVzVG9EZWNyeXB0ID0gdGhpcy5zdHJpbmdUb0FycmF5KGF0b2IoYmFzZTY0RW5jb2RlZCkpO1xyXG5cclxuXHRcdFx0Y29uc3Qga2V5ID0gYXdhaXQgdGhpcy5idWlsZEtleShwYXNzd29yZCk7XHJcblxyXG5cdFx0XHQvLyBkZWNyeXB0IGludG8gYnl0ZXNcclxuXHRcdFx0Y29uc3QgZGVjcnlwdGVkQnl0ZXMgPSBhd2FpdCBjcnlwdG8uc3VidGxlLmRlY3J5cHQoYWxnb3JpdGhtT2Jzb2xldGUsIGtleSwgYnl0ZXNUb0RlY3J5cHQpO1xyXG5cclxuXHRcdFx0Ly8gY29udmVydCBieXRlcyB0byB0ZXh0XHJcblx0XHRcdGNvbnN0IHV0ZjhEZWNvZGUgPSBuZXcgVGV4dERlY29kZXIoKTtcclxuXHRcdFx0Y29uc3QgZGVjcnlwdGVkVGV4dCA9IHV0ZjhEZWNvZGUuZGVjb2RlKGRlY3J5cHRlZEJ5dGVzKTtcclxuXHRcdFx0cmV0dXJuIGRlY3J5cHRlZFRleHQ7XHJcblx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcbn1cclxuIiwgImltcG9ydCB7IEZpbGVEYXRhIH0gZnJvbSBcIi4vRmlsZURhdGFIZWxwZXJcIjtcclxuaW1wb3J0IHsgRGVjcnlwdGFibGUgfSBmcm9tIFwic3JjL2ZlYXR1cmVzL2ZlYXR1cmUtaW5wbGFjZS1lbmNyeXB0L0RlY3J5cHRhYmxlXCI7XHJcbmltcG9ydCB7IENyeXB0b0hlbHBlciB9IGZyb20gXCIuL0NyeXB0b0hlbHBlclwiO1xyXG5pbXBvcnQgeyBJQ3J5cHRvSGVscGVyIH0gZnJvbSBcIi4vSUNyeXB0b0hlbHBlclwiO1xyXG5pbXBvcnQgeyBDcnlwdG9IZWxwZXIyMzA0IH0gZnJvbSBcIi4vQ3J5cHRvSGVscGVyMjMwNFwiO1xyXG5pbXBvcnQgeyBDcnlwdG9IZWxwZXJPYnNvbGV0ZSB9IGZyb20gXCIuL0NyeXB0b0hlbHBlck9ic29sZXRlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ3J5cHRvSGVscGVyRmFjdG9yeXtcclxuXHJcblx0cHVibGljIHN0YXRpYyBCdWlsZERlZmF1bHQoKTogSUNyeXB0b0hlbHBlcntcclxuXHRcdHJldHVybiBuZXcgQ3J5cHRvSGVscGVyMjMwNCggMTYsIDE2LCAyMTAwMDAgKTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzdGF0aWMgQnVpbGRGcm9tRmlsZURhdGFPclRocm93KCBkYXRhOiBGaWxlRGF0YSApIDogSUNyeXB0b0hlbHBlciB7XHJcblx0XHRjb25zdCByZXN1bHQgPSBDcnlwdG9IZWxwZXJGYWN0b3J5LkJ1aWxkRnJvbUZpbGVEYXRhT3JOdWxsKGRhdGEpO1xyXG5cdFx0aWYgKCByZXN1bHQgIT0gbnVsbCApe1xyXG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdFx0fVxyXG5cdFx0dGhyb3cgbmV3IEVycm9yKCBgVW5hYmxlIHRvIGRldGVybWluZSBJQ3J5cHRvSGVscGVyIGZvciBGaWxlIHZlciAke2RhdGEudmVyc2lvbn1gKTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzdGF0aWMgQnVpbGRGcm9tRmlsZURhdGFPck51bGwoIGRhdGE6IEZpbGVEYXRhICkgOiBJQ3J5cHRvSGVscGVyIHwgbnVsbCB7XHJcblx0XHRpZiAoIGRhdGEudmVyc2lvbiA9PSAnMS4wJyApe1xyXG5cdFx0XHRyZXR1cm4gbmV3IENyeXB0b0hlbHBlcigpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIG5vdGVcdFx0XHRcdHYyLjBcdENyeXB0b0hlbHBlcjIzMDRcclxuXHRcdGlmICggZGF0YS52ZXJzaW9uID09ICcyLjAnICl7XHJcblx0XHRcdHJldHVybiBuZXcgQ3J5cHRvSGVscGVyMjMwNCggMTYsIDE2LCAyMTAwMDAgICk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc3RhdGljIEJ1aWxkRnJvbURlY3J5cHRhYmxlT3JUaHJvdyggZGVjcnlwdGFibGU6IERlY3J5cHRhYmxlICkgOiBJQ3J5cHRvSGVscGVyIHtcclxuXHRcdGNvbnN0IHJlc3VsdCA9IENyeXB0b0hlbHBlckZhY3RvcnkuQnVpbGRGcm9tRGVjcnlwdGFibGVPck51bGwoIGRlY3J5cHRhYmxlICk7XHJcblxyXG5cdFx0aWYgKHJlc3VsdCAhPSBudWxsKXtcclxuXHRcdFx0cmV0dXJuIHJlc3VsdDtcclxuXHRcdH1cclxuXHRcdHRocm93IG5ldyBFcnJvciggYFVuYWJsZSB0byBkZXRlcm1pbmUgSUNyeXB0b0hlbHBlciBmb3IgRGVjcnlwdGFibGUgdmVyICR7ZGVjcnlwdGFibGUudmVyc2lvbn1gKTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzdGF0aWMgQnVpbGRGcm9tRGVjcnlwdGFibGVPck51bGwoIGRlY3J5cHRhYmxlOiBEZWNyeXB0YWJsZSApIDogSUNyeXB0b0hlbHBlciB8IG51bGwge1xyXG5cdFx0Ly8gVmVyc2lvbnNcclxuXHRcdC8vIGlucGxhY2Ugb3JpZ2luYWxcdF9QUkVGSVhfT0JTT0xFVEUgPSAnJSVcdUQ4M0RcdUREMTAgJyAgQ3J5cHRvSGVscGVyT2Jzb2xldGVcclxuXHRcdFxyXG5cdFx0Ly8gaW5wbGFjZSBhbHBoYVx0X1BSRUZJWF9BID0gJyUlXHVEODNEXHVERDEwXHUwM0IxICdcdFx0Q3J5cHRvSGVscGVyXHJcblx0XHQvLyBcdFx0XHRcdFx0X1BSRUZJWF9BX1ZJU0lCTEUgPSAnXHVEODNEXHVERDEwXHUwM0IxICdcdENyeXB0b0hlbHBlclxyXG5cclxuXHRcdC8vIGlucGxhY2UgYmV0YSBcdF9QUkVGSVhfQiA9ICclJVx1RDgzRFx1REQxMFx1MDNCMiAnXHRcdENyeXB0b0hlbHBlcjIzMDQoIDE2LCAxNiwgMjEwMDAwIClcclxuXHRcdC8vXHRcdFx0XHRcdF9QUkVGSVhfQl9WSVNJQkxFID0gJ1x1RDgzRFx1REQxMFx1MDNCMiAnXHRDcnlwdG9IZWxwZXIyMzA0KCAxNiwgMTYsIDIxMDAwMCApXHJcblx0XHRcclxuXHRcdGlmICggZGVjcnlwdGFibGUudmVyc2lvbiA9PSAwICl7XHJcblx0XHRcdHJldHVybiBuZXcgQ3J5cHRvSGVscGVyT2Jzb2xldGUoKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIGRlY3J5cHRhYmxlLnZlcnNpb24gPT0gMSApe1xyXG5cdFx0XHRyZXR1cm4gbmV3IENyeXB0b0hlbHBlcigpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggZGVjcnlwdGFibGUudmVyc2lvbiA9PSAyICl7XHJcblx0XHRcdHJldHVybiBuZXcgQ3J5cHRvSGVscGVyMjMwNCggMTYsIDE2LCAyMTAwMDAgKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblxyXG59IiwgImltcG9ydCB7IENyeXB0b0hlbHBlckZhY3RvcnkgfSBmcm9tIFwiLi9DcnlwdG9IZWxwZXJGYWN0b3J5XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRmlsZURhdGEge1xyXG5cdFxyXG5cdHB1YmxpYyB2ZXJzaW9uID0gJzEuMCc7XHJcblx0cHVibGljIGhpbnQ6IHN0cmluZztcclxuXHRwdWJsaWMgZW5jb2RlZERhdGE6c3RyaW5nO1xyXG5cclxuXHRjb25zdHJ1Y3RvciggdmVyc2lvbjpzdHJpbmcsIGhpbnQ6c3RyaW5nLCBlbmNvZGVkRGF0YTpzdHJpbmcgKXtcclxuXHRcdHRoaXMudmVyc2lvbiA9IHZlcnNpb247XHJcblx0XHR0aGlzLmhpbnQgPSBoaW50O1xyXG5cdFx0dGhpcy5lbmNvZGVkRGF0YSA9IGVuY29kZWREYXRhO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEZpbGVEYXRhSGVscGVye1xyXG5cclxuXHRwdWJsaWMgc3RhdGljIERFRkFVTFRfVkVSU0lPTiA9ICcyLjAnO1xyXG5cclxuXHRwdWJsaWMgc3RhdGljIGFzeW5jIGVuY29kZSggcGFzczogc3RyaW5nLCBoaW50OnN0cmluZywgdGV4dDpzdHJpbmcgKSA6IFByb21pc2U8RmlsZURhdGE+e1xyXG5cdFx0Y29uc3QgY3J5cHRvID0gQ3J5cHRvSGVscGVyRmFjdG9yeS5CdWlsZERlZmF1bHQoKTtcclxuXHRcdGNvbnN0IGVuY3J5cHRlZERhdGEgPSBhd2FpdCBjcnlwdG8uZW5jcnlwdFRvQmFzZTY0KHRleHQsIHBhc3MpO1xyXG5cdFx0cmV0dXJuIG5ldyBGaWxlRGF0YSggRmlsZURhdGFIZWxwZXIuREVGQVVMVF9WRVJTSU9OLCBoaW50LCBlbmNyeXB0ZWREYXRhKTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzdGF0aWMgYXN5bmMgZGVjcnlwdCggZGF0YTogRmlsZURhdGEsIHBhc3M6c3RyaW5nICkgOiBQcm9taXNlPHN0cmluZ3xudWxsPntcclxuXHRcdGlmICggZGF0YS5lbmNvZGVkRGF0YSA9PSAnJyApe1xyXG5cdFx0XHRyZXR1cm4gJyc7XHJcblx0XHR9XHJcblx0XHRjb25zdCBjcnlwdG8gPSBDcnlwdG9IZWxwZXJGYWN0b3J5LkJ1aWxkRnJvbUZpbGVEYXRhT3JUaHJvdyggZGF0YSApO1xyXG5cdFx0cmV0dXJuIGF3YWl0IGNyeXB0by5kZWNyeXB0RnJvbUJhc2U2NCggZGF0YS5lbmNvZGVkRGF0YSwgcGFzcyApO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEpzb25GaWxlRW5jb2Rpbmcge1xyXG5cclxuXHRwdWJsaWMgc3RhdGljIGVuY29kZSggZGF0YTogRmlsZURhdGEgKSA6IHN0cmluZ3tcclxuXHRcdC8vY29uc29sZS5kZWJ1ZyggJ0pzb25GaWxlRW5jb2RpbmcuZW5jb2RlJywge2RhdGF9ICk7XHJcblx0XHRyZXR1cm4gSlNPTi5zdHJpbmdpZnkoZGF0YSwgbnVsbCwgMik7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc3RhdGljIGRlY29kZSggZW5jb2RlZFRleHQ6c3RyaW5nICkgOiBGaWxlRGF0YSB7XHJcblx0XHQvL2NvbnNvbGUuZGVidWcoJ0pzb25GaWxlRW5jb2RpbmcuZGVjb2RlJyx7ZW5jb2RlZFRleHR9KTtcclxuXHRcdGlmICggZW5jb2RlZFRleHQgPT09ICcnICl7XHJcblx0XHRcdHJldHVybiBuZXcgRmlsZURhdGEoIEZpbGVEYXRhSGVscGVyLkRFRkFVTFRfVkVSU0lPTiwgJycsICcnICk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gSlNPTi5wYXJzZSggZW5jb2RlZFRleHQgKSBhcyBGaWxlRGF0YTtcclxuXHR9XHJcbn0iLCAiY29uc3QgRU5DUllQVEVEX0ZJTEVfRVhURU5TSU9OX0VOQ1JZUFRFRCA9ICdlbmNyeXB0ZWQnO1xyXG5jb25zdCBFTkNSWVBURURfRklMRV9FWFRFTlNJT05fTURFTkMgPSAnbWRlbmMnO1xyXG5cclxuZXhwb3J0IGNvbnN0IEVOQ1JZUFRFRF9GSUxFX0VYVEVOU0lPTl9ERUZBVUxUID0gRU5DUllQVEVEX0ZJTEVfRVhURU5TSU9OX01ERU5DO1xyXG5cclxuXHJcbmV4cG9ydCBjb25zdCBFTkNSWVBURURfRklMRV9FWFRFTlNJT05TID0gW1xyXG5cdEVOQ1JZUFRFRF9GSUxFX0VYVEVOU0lPTl9NREVOQyxcclxuXHRFTkNSWVBURURfRklMRV9FWFRFTlNJT05fRU5DUllQVEVEXHJcbl07IiwgIlxyXG5leHBvcnQgY29uc3QgX1BSRUZJWF9CID0gJyUlXHVEODNEXHVERDEwXHUwM0IyICc7XHJcbmV4cG9ydCBjb25zdCBfUFJFRklYX0JfVklTSUJMRSA9ICdcdUQ4M0RcdUREMTBcdTAzQjIgJztcclxuXHJcbmV4cG9ydCBjb25zdCBfUFJFRklYX0EgPSAnJSVcdUQ4M0RcdUREMTBcdTAzQjEgJztcclxuZXhwb3J0IGNvbnN0IF9QUkVGSVhfQV9WSVNJQkxFID0gJ1x1RDgzRFx1REQxMFx1MDNCMSAnO1xyXG5leHBvcnQgY29uc3QgX1BSRUZJWF9PQlNPTEVURSA9ICclJVx1RDgzRFx1REQxMCAnO1xyXG5leHBvcnQgY29uc3QgX1BSRUZJWF9PQlNPTEVURV9WSVNJQkxFID0gJ1x1RDgzRFx1REQxMCAnO1xyXG5cclxuZXhwb3J0IGNvbnN0IF9QUkVGSVhfRU5DT0RFX0RFRkFVTFQgPSBfUFJFRklYX0I7XHJcbmV4cG9ydCBjb25zdCBfUFJFRklYX0VOQ09ERV9ERUZBVUxUX1ZJU0lCTEUgPSBfUFJFRklYX0JfVklTSUJMRTtcclxuXHJcbi8vIFNob3VsZCBiZSBsaXN0ZWQgYnkgZXZhbHVhdGlvbiBwcmlvcml0eVxyXG5leHBvcnQgY29uc3QgX1BSRUZJWEVTID0gW1xyXG5cdF9QUkVGSVhfQixcclxuXHRfUFJFRklYX0JfVklTSUJMRSxcclxuXHRfUFJFRklYX0EsXHJcblx0X1BSRUZJWF9BX1ZJU0lCTEUsXHJcblx0X1BSRUZJWF9PQlNPTEVURSxcclxuXHRfUFJFRklYX09CU09MRVRFX1ZJU0lCTEVcclxuXTtcclxuXHJcbmV4cG9ydCBjb25zdCBfU1VGRklYX1dJVEhfQ09NTUVOVCA9ICcgXHVEODNEXHVERDEwJSUnO1xyXG5leHBvcnQgY29uc3QgX1NVRkZJWF9OT19DT01NRU5UID0gJyBcdUQ4M0RcdUREMTAnO1xyXG5cclxuLy8gU2hvdWxkIGJlIGxpc3RlZCBieSBldmFsdWF0aW9uIHByaW9yaXR5XHJcbmV4cG9ydCBjb25zdCBfU1VGRklYRVMgPSBbXHJcblx0X1NVRkZJWF9XSVRIX0NPTU1FTlQsXHJcblx0X1NVRkZJWF9OT19DT01NRU5UXHJcbl1cclxuXHJcbmV4cG9ydCBjb25zdCBfSElOVCA9ICdcdUQ4M0RcdURDQTEnOyIsICJleHBvcnQgY2xhc3MgRGVjcnlwdGFibGV7XHJcblx0dmVyc2lvbjogbnVtYmVyO1xyXG5cdGJhc2U2NENpcGhlclRleHQ6c3RyaW5nO1xyXG5cdGhpbnQ6c3RyaW5nO1xyXG59IiwgImltcG9ydCB7IERlY3J5cHRhYmxlIH0gZnJvbSBcIi4vRGVjcnlwdGFibGVcIjtcclxuaW1wb3J0IHsgX0hJTlQsIF9QUkVGSVhFUywgX1BSRUZJWF9BLCBfUFJFRklYX0FfVklTSUJMRSwgX1BSRUZJWF9CLCBfUFJFRklYX0JfVklTSUJMRSwgX1BSRUZJWF9PQlNPTEVURSwgX1BSRUZJWF9PQlNPTEVURV9WSVNJQkxFLCBfU1VGRklYRVMgfSBmcm9tIFwiLi9GZWF0dXJlSW5wbGFjZUNvbnN0YW50c1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEZlYXR1cmVJbnBsYWNlVGV4dEFuYWx5c2lze1xyXG5cdHByb2Nlc3NlZFRleHQ6c3RyaW5nO1xyXG5cdGlzRW1wdHk6IGJvb2xlYW47XHJcblx0XHJcblx0cHJlZml4OiBzdHJpbmc7XHJcblx0c3VmZml4OiBzdHJpbmc7XHJcblxyXG5cdGhhc09ic29sZXRlRW5jcnlwdGVkUHJlZml4OiBib29sZWFuO1xyXG5cdGhhc0VuY3J5cHRlZFByZWZpeDogYm9vbGVhbjtcclxuXHRoYXNFbmNyeXB0ZWRTdWZmaXg6IGJvb2xlYW47XHJcblx0Y2FuRGVjcnlwdDogYm9vbGVhbjtcclxuXHRjYW5FbmNyeXB0OiBib29sZWFuO1xyXG5cdGNvbnRhaW5zRW5jcnlwdGVkTWFya2VyczogYm9vbGVhbjtcclxuXHRkZWNyeXB0YWJsZT8gOiBEZWNyeXB0YWJsZTtcclxuXHJcblx0Y29uc3RydWN0b3IodGV4dDogc3RyaW5nKXtcclxuXHRcdHRoaXMucHJvY2Vzcyh0ZXh0KTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgcHJvY2VzcyggdGV4dDogc3RyaW5nICkgOiB2b2lke1xyXG5cdFx0Ly9jb25zb2xlLmRlYnVnKCdTZWxlY3Rpb25BbmFseXNpcy5wcm9jZXNzJywge3RleHR9KTtcclxuXHRcdFxyXG5cdFx0dGhpcy5wcm9jZXNzZWRUZXh0ID0gdGV4dDtcclxuXHJcblx0XHR0aGlzLmlzRW1wdHkgPSB0ZXh0Lmxlbmd0aCA9PT0gMDtcclxuXHJcblx0XHR0aGlzLnByZWZpeCA9IF9QUkVGSVhFUy5maW5kKCAocHJlZml4KSA9PiB0ZXh0LnN0YXJ0c1dpdGgocHJlZml4KSApID8/ICcnO1xyXG5cdFx0dGhpcy5zdWZmaXggPSBfU1VGRklYRVMuZmluZCggKHN1ZmZpeCkgPT4gdGV4dC5lbmRzV2l0aChzdWZmaXgpICkgPz8gJyc7XHJcblx0XHRcclxuXHRcdC8vY29uc29sZS5kZWJ1Zygge3ByZWZpeDp0aGlzLnByZWZpeCwgc3VmZml4OnRoaXMuc3VmZml4fSApO1xyXG5cdFx0XHJcblx0XHR0aGlzLmhhc0VuY3J5cHRlZFByZWZpeCA9IHRoaXMucHJlZml4Lmxlbmd0aCA+IDA7XHJcblx0XHR0aGlzLmhhc0VuY3J5cHRlZFN1ZmZpeCA9IHRoaXMuc3VmZml4Lmxlbmd0aCA+IDA7XHJcblxyXG5cdFx0dGhpcy5oYXNPYnNvbGV0ZUVuY3J5cHRlZFByZWZpeCA9IHRoaXMucHJlZml4ID09PSBfUFJFRklYX09CU09MRVRFIHx8IHRoaXMucHJlZml4ID09PSBfUFJFRklYX09CU09MRVRFX1ZJU0lCTEU7XHJcblxyXG5cdFx0dGhpcy5jb250YWluc0VuY3J5cHRlZE1hcmtlcnMgPSBbLi4uX1BSRUZJWEVTLCAuLi5fU1VGRklYRVNdLnNvbWUoIChtYXJrZXIpID0+IHRleHQuaW5jbHVkZXMobWFya2VyICkpO1xyXG5cclxuXHRcdHRoaXMuY2FuRGVjcnlwdCA9IHRoaXMuaGFzRW5jcnlwdGVkUHJlZml4ICYmIHRoaXMuaGFzRW5jcnlwdGVkU3VmZml4O1xyXG5cdFx0dGhpcy5jYW5FbmNyeXB0ID0gIXRoaXMuaGFzRW5jcnlwdGVkUHJlZml4ICYmICF0aGlzLmNvbnRhaW5zRW5jcnlwdGVkTWFya2VycztcclxuXHRcdFxyXG5cdFx0aWYgKHRoaXMuY2FuRGVjcnlwdCl7XHJcblx0XHRcdGNvbnN0IGRlY3J5cHRhYmxlID0gdGhpcy5wYXJzZURlY3J5cHRhYmxlQ29udGVudCh0ZXh0KTtcclxuXHRcdFx0Ly9jb25zb2xlLmRlYnVnKCB7ZGVjcnlwdGFibGV9ICk7XHJcblx0XHRcdGlmICggZGVjcnlwdGFibGUgIT0gbnVsbCApe1xyXG5cdFx0XHRcdHRoaXMuZGVjcnlwdGFibGUgPSBkZWNyeXB0YWJsZTtcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0dGhpcy5jYW5EZWNyeXB0ID0gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgcGFyc2VEZWNyeXB0YWJsZUNvbnRlbnQodGV4dDogc3RyaW5nKSA6IERlY3J5cHRhYmxlIHwgbnVsbCB7XHJcblx0XHRjb25zdCByZXN1bHQgPSBuZXcgRGVjcnlwdGFibGUoKTtcclxuXHJcblx0XHRpZiAoXHJcblx0XHRcdCF0aGlzLmhhc0VuY3J5cHRlZFByZWZpeFxyXG5cdFx0XHR8fCAhdGhpcy5oYXNFbmNyeXB0ZWRTdWZmaXhcclxuXHRcdCl7XHJcblx0XHRcdHJldHVybiBudWxsOyAvLyBpbnZhbGlkIGZvcm1hdFxyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRpZiAoIHRoaXMuaGFzT2Jzb2xldGVFbmNyeXB0ZWRQcmVmaXggKXtcclxuXHRcdFx0cmVzdWx0LnZlcnNpb24gPSAwO1xyXG5cdFx0fWVsc2UgaWYgKCB0aGlzLnByZWZpeCA9PSBfUFJFRklYX0IgfHwgdGhpcy5wcmVmaXggPT0gX1BSRUZJWF9CX1ZJU0lCTEUgKXtcclxuXHRcdFx0cmVzdWx0LnZlcnNpb24gPSAyO1xyXG5cdFx0fWVsc2UgaWYgKCB0aGlzLnByZWZpeCA9PSBfUFJFRklYX0EgfHwgdGhpcy5wcmVmaXggPT0gX1BSRUZJWF9BX1ZJU0lCTEUgKXtcclxuXHRcdFx0cmVzdWx0LnZlcnNpb24gPSAxO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIHJlbW92ZSBtYXJrZXJzIGZyb20gc3RhcnQgYW5kIGVuZFx0XHJcblx0XHRjb25zdCBjb250ZW50ID0gdGV4dC5zdWJzdHJpbmcodGhpcy5wcmVmaXgubGVuZ3RoLCB0ZXh0Lmxlbmd0aCAtIHRoaXMuc3VmZml4Lmxlbmd0aCk7XHJcblx0XHQvL2NvbnNvbGUuZGVidWcoe2NvbnRlbnR9KTtcclxuXHJcblx0XHRpZiAoIFsuLi5fUFJFRklYRVMsIC4uLl9TVUZGSVhFU10uc29tZSggKG1hcmtlcikgPT4gY29udGVudC5pbmNsdWRlcyggbWFya2VyICkpICl7XHJcblx0XHRcdC8vIGNvbnRlbnQsIGl0c2VsZiBoYXMgbWFya2Vyc1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBjaGVjayBpZiB0aGVyZSBpcyBhIGhpbnRcclxuXHRcdGlmIChjb250ZW50LnN1YnN0cmluZygwLF9ISU5ULmxlbmd0aCkgPT0gX0hJTlQpe1xyXG5cdFx0XHRjb25zdCBlbmRIaW50TWFya2VyID0gY29udGVudC5pbmRleE9mKF9ISU5ULF9ISU5ULmxlbmd0aCk7XHJcblx0XHRcdGlmIChlbmRIaW50TWFya2VyPDApe1xyXG5cdFx0XHRcdHJldHVybiBudWxsOyAvLyBpbnZhbGlkIGZvcm1hdFxyXG5cdFx0XHR9XHJcblx0XHRcdHJlc3VsdC5oaW50ID0gY29udGVudC5zdWJzdHJpbmcoX0hJTlQubGVuZ3RoLGVuZEhpbnRNYXJrZXIpXHJcblx0XHRcdHJlc3VsdC5iYXNlNjRDaXBoZXJUZXh0ID0gY29udGVudC5zdWJzdHJpbmcoZW5kSGludE1hcmtlcitfSElOVC5sZW5ndGgpO1xyXG5cdFx0fWVsc2V7XHJcblx0XHRcdHJlc3VsdC5iYXNlNjRDaXBoZXJUZXh0ID0gY29udGVudDtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHJcblx0fVxyXG59Il0sCiAgIm1hcHBpbmdzIjogImtTQUVBLDJEQ0RBLEdBQU0sSUFBUSxDQUNWLE1BQU8sR0FDUCxPQUFRLEVBQ1osRUFDTSxHQUFNLEVBQ04sR0FBUSxFQUNSLEdBQVMsRUFDVCxHQUFPLEVBQ0EsR0FBTixLQUFTLENBQ1osWUFBWSxFQUFNLENBQ2QsR0FBSSxHQUNKLEtBQUssTUFBUSxFQUFLLE1BQ2xCLEtBQUssS0FBUSxHQUFLLEVBQUssUUFBVSxNQUFRLElBQU8sT0FBUyxFQUFLLEdBQzlELEtBQUssS0FBTyxDQUFDLENBQ2pCLENBQ0EsUUFBUSxFQUFNLENBQ1YsR0FBTSxHQUFPLEtBQUssSUFBSSxHQUFHLENBQUksRUFDN0IsRUFBSyxLQUFPLEVBQ2hCLENBQ0EsYUFBYyxDQUNWLEtBQUssS0FBTyxDQUFDLENBQ2pCLENBQ0EsT0FBTyxFQUFNLENBSVQsR0FISSxFQUFLLFNBQVcsR0FDaEIsS0FBSyxJQUFJLEVBQUUsRUFFWCxLQUFLLE1BQVEsS0FBSyxxQkFBcUIsR0FBRyxDQUFJLEdBQUssTUFBTyxHQUFLLElBQU8sU0FDdEUsTUFBTyxNQUFLLGVBQWUsRUFBSyxFQUFFLEVBRXRDLEdBQU0sR0FBTyxFQUFLLElBQUksR0FDZCxNQUFPLElBQVEsU0FDUixLQUFLLGNBQWMsQ0FBRyxFQUUxQixDQUNWLEVBQ0QsWUFBSyxLQUFLLEtBQUssQ0FBSSxFQUNaLENBQ1gsQ0FDQSx3QkFBd0IsRUFBTSxDQUMxQixNQUFPLEdBQUssU0FBVyxHQUFLLE1BQU8sR0FBSyxJQUFPLFVBQzNDLFNBQVMsS0FBSyxFQUFLLEVBQUUsQ0FDN0IsQ0FDQSxlQUFlLEVBQUssQ0FDaEIsR0FBTSxHQUFPLEVBQUksTUFBTTtBQUFBLENBQUksRUFBRSxJQUFJLEdBQU8sRUFBSSxNQUFNLEdBQUksQ0FBQyxFQUNuRCxFQUFrQixFQUt0QixTQUFLLFFBQVEsR0FBVyxDQUNwQixBQUFJLEVBQVEsT0FBUyxHQUFLLEdBQU0sWUFBWSxFQUFRLEVBQUUsRUFBSSxHQUN0RCxHQUFrQixLQUFLLElBQUksS0FBSyxNQUFNLEtBQUssTUFBUSxFQUFHLEVBQUcsR0FBTSxZQUFZLEVBQVEsRUFBRSxDQUFDLEVBRTlGLENBQUMsRUFJRCxFQUFLLFFBQVEsR0FBVyxDQUNwQixLQUFLLElBQUksR0FBRyxFQUFRLElBQUksQ0FBQyxFQUFHLElBQ2pCLEVBQ0gsS0FBTSxFQUFFLEtBQUssRUFDYixRQUFTLEtBQUssZUFBZSxDQUFDLEVBQzlCLE1BQVEsSUFBTSxHQUFLLEVBQVEsT0FBUyxFQUFLLEVBQWtCLE1BQy9ELEVBQ0gsQ0FBQyxDQUNOLENBQUMsRUFDTSxLQUFLLEtBQUssS0FBSyxLQUFLLE9BQVMsRUFDeEMsQ0FDQSxjQUFjLEVBQU0sQ0FDaEIsTUFBTyxDQUNILE9BQ0EsUUFBUyxLQUFLLGVBQWUsQ0FBSSxDQUNyQyxDQUNKLENBQ0EsZUFBZSxFQUFLLENBRWhCLEdBQU0sR0FBUyxHQUFNLFVBQVUsQ0FBRyxFQUNsQyxNQUFPLENBQUMsRUFBRyxFQUFPLE1BQU0sTUFBTSxFQUFFLEdBQUcsT0FBUSxFQUFHLEVBQU8sTUFBTSxNQUFNLEVBQUUsR0FBRyxNQUFNLENBQ2hGLENBQ0EsVUFBVyxDQUNQLEdBQU0sR0FBUSxDQUFDLEVBQ2YsWUFBSyxLQUFLLFFBQVEsR0FBTyxDQUNyQixLQUFLLFlBQVksRUFBSyxDQUFLLENBQy9CLENBQUMsRUFHTSxFQUNGLE9BQU8sR0FBUSxDQUFDLEVBQUssTUFBTSxFQUMzQixJQUFJLEdBQVEsRUFBSyxJQUFJLEVBQ3JCLEtBQUs7QUFBQSxDQUFJLENBQ2xCLENBQ0EsWUFBWSxFQUFLLEVBQU8sQ0FDcEIsWUFBSyxVQUFVLENBQUcsRUFBRSxRQUFRLENBQUMsRUFBTSxJQUFNLENBQ3JDLEdBQUksR0FBTSxHQUNWLEVBQUssUUFBUSxDQUFDLEVBQUssSUFBTSxDQUNyQixHQUFNLENBQUUsU0FBVSxFQUFJLEdBQ2hCLEVBQVksS0FBSyxjQUFjLEVBQUksRUFBRSxFQUN2QyxFQUFLLEVBS1QsR0FKSSxFQUFZLEdBQU0sWUFBWSxDQUFHLEdBQ2pDLElBQU0sSUFBSSxPQUFPLEVBQVksR0FBTSxZQUFZLENBQUcsQ0FBQyxHQUduRCxFQUFJLEdBQUcsT0FBUyxFQUFJLEdBQUcsUUFBVSxRQUFVLEtBQUssS0FBTSxDQUN0RCxHQUFNLEdBQUssR0FBTSxFQUFJLEdBQUcsT0FDeEIsRUFBSyxFQUFHLEVBQUksQ0FBUyxFQUNqQixHQUFNLFlBQVksQ0FBRSxFQUFJLEdBQ3hCLElBQU0sSUFBSSxPQUFRLElBQVMsR0FBSyxHQUFNLFlBQVksQ0FBRSxFQUFJLENBQUMsRUFFakUsQ0FFQSxHQUFNLEdBQVUsRUFBSSxHQUFHLFNBQVcsQ0FBQyxFQUFHLEVBQUcsRUFBRyxDQUFDLEVBQzdDLEFBQUksRUFBUSxLQUNSLElBQU8sSUFBSSxPQUFPLEVBQVEsR0FBSyxHQUVuQyxHQUFPLEdBQVUsRUFBSSxHQUFJLEVBQUksSUFBSSxFQUNqQyxHQUFPLEVBQ1AsR0FBTyxHQUFVLEVBQUksR0FBSSxFQUFJLElBQUksRUFDN0IsRUFBUSxLQUNSLElBQU8sSUFBSSxPQUFPLEVBQVEsR0FBTSxHQUloQyxJQUFNLEdBQUssRUFBTSxPQUFTLEdBQzFCLEdBQU0sS0FBSyxhQUFhLEVBQUssRUFBTSxFQUFNLE9BQVMsRUFBRSxFQUU1RCxDQUFDLEVBRUQsRUFBTSxLQUFLLENBQ1AsS0FBTSxFQUFJLFFBQVEsTUFBTyxFQUFFLEVBQzNCLEtBQU0sRUFBSSxJQUNkLENBQUMsQ0FDTCxDQUFDLEVBQ00sQ0FDWCxDQUdBLGFBQWEsRUFBUSxFQUFjLENBQy9CLEdBQU0sR0FBUSxFQUFPLE1BQU0sS0FBSyxFQUMxQixFQUFvQixFQUFRLEVBQU0sR0FBRyxPQUFTLEVBQzlDLEVBQVMsRUFBYSxLQUN0QixFQUFrQixHQUFNLFlBQVksRUFBTyxVQUFVLENBQUMsRUFDNUQsTUFBSyxHQUFhLEtBS2IsS0FBSyxLQUlOLEVBQW9CLEVBQ2IsRUFFWCxHQUFhLE9BQVMsR0FDZixFQUFPLFVBQVUsRUFBSSxJQUFJLE9BQU8sRUFBb0IsQ0FBZSxFQUFJLEVBQU8sU0FBUyxHQVAxRixHQUFhLE9BQVMsR0FDZixFQUFTLEdBTlQsQ0FhZixDQUNBLFVBQVUsRUFBSyxDQUNYLEdBQU0sR0FBUSxDQUFDLEVBQ1QsRUFBUyxLQUFLLGFBQWEsQ0FBRyxFQUNoQyxFQUdKLFNBQUksUUFBUSxDQUFDLEVBQUssSUFBTSxDQUVwQixFQUFJLE1BQVEsRUFBTyxHQUNuQixBQUFJLEtBQUssS0FDTCxFQUFVLEdBQU0sS0FBSyxFQUFJLEtBQU0sS0FBSyxjQUFjLENBQUcsRUFBRyxDQUFFLEtBQU0sRUFBSyxDQUFDLEVBQUUsTUFBTTtBQUFBLENBQUksRUFHbEYsRUFBVSxFQUFJLEtBQUssTUFBTTtBQUFBLENBQUksRUFFN0IsRUFBSSxRQUNKLEdBQVEsUUFBUSxJQUFNLElBQUksT0FBTyxLQUFLLGNBQWMsQ0FBRyxFQUFJLENBQUMsRUFBSSxHQUFHLEVBQ25FLEVBQVEsS0FBSyxJQUFNLElBQUksT0FBTyxLQUFLLGNBQWMsQ0FBRyxFQUFJLENBQUMsRUFBSSxHQUFHLEdBR2hFLEVBQUksU0FDSixHQUFRLFFBQVEsR0FBRyxHQUFJLE9BQU0sRUFBSSxRQUFRLEtBQVEsQ0FBQyxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQzVELEVBQVEsS0FBSyxHQUFHLEdBQUksT0FBTSxFQUFJLFFBQVEsS0FBVyxDQUFDLEVBQUUsS0FBSyxFQUFFLENBQUMsR0FFaEUsRUFBUSxRQUFRLENBQUMsRUFBSyxJQUFNLENBQ3hCLEFBQUssRUFBTSxJQUNQLEVBQU0sS0FBSyxDQUFDLENBQUMsRUFFakIsR0FBTSxHQUFPLEVBQU0sR0FDbkIsT0FBUyxHQUFJLEVBQUcsRUFBSSxFQUFHLElBQ25CLEFBQUksRUFBSyxLQUFPLFFBQ1osRUFBSyxLQUFLLEVBQUUsRUFHcEIsRUFBSyxLQUFLLENBQUcsQ0FDakIsQ0FBQyxDQUNMLENBQUMsRUFDTSxDQUNYLENBQ0EsY0FBYyxFQUFLLENBQ2YsR0FBSSxHQUFZLEVBQUksT0FBUyxFQUM3QixNQUFJLEdBQUksU0FDSixJQUFjLEdBQUksUUFBUSxLQUFTLEdBQU0sR0FBSSxRQUFRLEtBQVUsSUFFL0QsRUFBSSxRQUNKLElBQWEsR0FFVixDQUNYLENBQ0EsYUFBYSxFQUFLLENBQ2QsR0FBSSxDQUFDLEtBQUssS0FDTixNQUFPLEdBQUksSUFBSSxHQUNKLEVBQUksT0FBUyxHQUFNLFlBQVksRUFBSSxJQUFJLENBQ2pELEVBRUwsR0FBSSxHQUFRLEVBQUksT0FDWixFQUFpQixLQUFLLE1BRXBCLEVBQVMsRUFBSSxJQUFJLEdBQU8sQ0FDMUIsR0FBSSxFQUFJLE1BQ0osV0FDQSxHQUFrQixFQUFJLE1BQ2YsRUFBSSxLQUduQixDQUFDLEVBRUssRUFBYSxFQUFRLEtBQUssTUFBTSxFQUFpQixDQUFLLEVBQUksRUFDaEUsTUFBTyxHQUFPLElBQUksQ0FBQyxFQUFHLElBQ2QsSUFBTSxPQUNDLEtBQUssSUFBSSxFQUFZLEdBQVUsRUFBSSxFQUFFLENBQUMsRUFFMUMsQ0FDVixDQUNMLENBQ0osRUFDQSxZQUFtQixFQUFLLEVBQUksRUFBTyxDQUMvQixNQUFJLEdBQUksT0FDQSxhQUFhLEtBQUssQ0FBRSxFQUNiLEdBRVAsRUFBRyxLQUFLLEVBQUUsU0FBVyxFQUNkLEVBRUosS0FFSixFQUNYLENBR0EsWUFBbUIsRUFBSyxDQUNwQixHQUFNLEdBQVUsRUFBSSxTQUFXLENBQUMsRUFDMUIsRUFBVyxFQUFLLEdBQVEsS0FBUyxHQUFNLEdBQVEsS0FBVSxHQUMvRCxNQUFJLEdBQUksT0FDRyxFQUFXLEVBRWYsQ0FDWCxDQUNBLGFBQTBCLENBRXRCLE1BQUksT0FBTyxVQUFZLFVBQVksUUFBUSxRQUFVLFFBQVEsT0FBTyxRQUN6RCxRQUFRLE9BQU8sUUFFbkIsRUFDWCxDQUNBLFlBQW9CLEVBQUssRUFBTyxDQUM1QixFQUFNLEVBQUksS0FBSyxFQUNmLEdBQU0sR0FBVyxHQUFNLFlBQVksQ0FBRyxFQUN0QyxNQUFJLEdBQVcsRUFDSixJQUFJLE9BQU8sRUFBUSxDQUFRLEVBQUksRUFFbkMsQ0FDWCxDQUNBLFlBQXFCLEVBQUssRUFBTyxDQUM3QixFQUFNLEVBQUksS0FBSyxFQUNmLEdBQU0sR0FBVyxHQUFNLFlBQVksQ0FBRyxFQUV0QyxNQUFJLElBQVksRUFDTCxFQUVKLElBQUksT0FBUSxFQUFRLEdBQWEsQ0FBQyxFQUFJLENBQ2pELENBQ0EsR0FBSSxJQUNHLFlBQWUsRUFBTSxFQUFRLENBQ2hDLFVBQVEsRUFDRCxHQUFJLElBQUcsQ0FDVixNQUFRLElBQVMsS0FBMEIsT0FBUyxFQUFLLFFBQVUsR0FBZSxFQUNsRixLQUFNLEdBQVMsS0FBMEIsT0FBUyxFQUFLLElBQzNELENBQUMsQ0FDTCxDQ3ZSQSxHQUFNLElBQU8sR0FBSSxRQUFPLHdGQUNzQixHQUFHLEVBQzFDLFlBQW1CLEVBQUssQ0FDM0IsTUFBTyxHQUFJLFFBQVEsR0FBTSxFQUFFLENBQy9CLENBQ08sWUFBYyxFQUFLLEVBQU8sQ0FDN0IsR0FBTSxDQUFDLEVBQU8sR0FBTyxFQUFJLE1BQU0sRUFBSSxHQUFLLENBQUMsR0FBSSxFQUFFLEVBQy9DLEVBQU0sR0FBVSxDQUFHLEVBQ25CLEdBQUksR0FBVSxHQUNkLE9BQVMsR0FBSSxFQUFHLEVBQUksRUFBSSxPQUFRLElBQzVCLEFBQUksSUFBTSxHQUFNLEVBQUksSUFBVyxHQUMzQixJQUFXO0FBQUEsR0FFZixHQUFXLEVBQUksT0FBTyxDQUFDLEVBRTNCLE1BQUksSUFBUyxHQUNULEdBQVUsR0FBRyxJQUFRLElBQVUsS0FFNUIsQ0FDWCxDQ3RCZSxZQUFhLEVBQU0sQ0FDaEMsTUFBTyxJQUFNLEVBQU0sQ0FDakIsWUFBYSxBQUFDLEdBQ0wsQ0FBQyxHQUFHLENBQUcsRUFBRSxPQUVsQixhQUNBLE9BQ0YsQ0FBQyxDQUNILENDWkEsOENBQ0EsaURBRWUsWUFBVSxFQUFPLEVBQVUsQ0FDekMsR0FBSSxHQUFNLEdBQVEsSUFBSyxDQUFLLEVBQ3hCLEVBTUosSUFKSyxBQUZZLEdBQVMsQ0FBRyxFQUVsQixZQUFZLEdBQ3RCLEdBQU0sR0FBUSxDQUFHLEtBR0wsQ0FFWixHQURBLEVBQU0sRUFBUyxFQUFLLEdBQVksQ0FBRyxDQUFDLEVBQ2hDLEVBQUssTUFBTyxJQUFRLEVBQUssQ0FBRyxFQUVoQyxHQURBLEVBQU0sR0FBUSxFQUFNLENBQUcsRUFDbkIsSUFBUSxFQUFLLEtBQ2xCLENBQ0QsQ0paQSxnQ0FDQSxtQ0FDQSxxQ0tFQSwrQkFDQSxnRENWQSxBQUtPLFlBQW1CLEVBQUssQ0FPM0IsR0FISyxBQURlLElBQVEsRUFBSSxZQUFZLEdBQUssSUFBUSxFQUFJLFlBQVksR0FFckUsR0FBTSxFQUFJLFlBQVksR0FFdEIsRUFBSSxRQUFRLEdBQUcsSUFBTSxJQUFNLEVBQUksUUFBUSxHQUFHLElBQU0sR0FDaEQsTUFBTyxHQUVOLENBQ0QsR0FBSSxHQUFZLEdBQ1osRUFBZSxHQUNiLEVBQWlCLEVBQUksTUFBTSxLQUFLLEVBQ3RDLE9BQVMsR0FBSSxFQUFpQixFQUFlLEdBQUcsT0FBUyxFQUFHLEVBQUksRUFBSSxPQUFRLElBQUssQ0FDN0UsR0FBSSxHQUFNLEVBQUksT0FBTyxDQUFDLEVBQ3RCLEFBQUksR0FDQSxHQUFlLEdBQ2YsRUFBTSxFQUFJLFlBQVksR0FFMUIsQUFBSSxJQUFNLEdBQU0sS0FBUSxLQUFPLElBQVEsS0FDbkMsRUFBZSxHQUVWLElBQVEsS0FBTyxJQUFRLEtBQzVCLElBQWEsRUFFckIsQ0FDQSxNQUFPLEVBQ1gsQ0FDSixDQUNPLFlBQW9CLEVBQUssRUFBWSxDQUN4QyxHQUFNLEdBQVksRUFBSSxZQUFZLEVBQ2xDLEVBQWEsR0FBYyxJQUMzQixHQUFJLEdBQWUsR0FDbkIsT0FBUyxHQUFJLEVBQUcsRUFBSSxFQUFJLE9BQVEsSUFBSyxDQUNqQyxHQUFNLEdBQVcsRUFBVSxPQUFPLENBQUMsRUFDN0IsRUFBWSxFQUFJLE9BQU8sQ0FBQyxFQUM5QixBQUFJLElBQWEsR0FBYSxFQUFJLEVBQzlCLEdBQWdCLEdBQUcsSUFBYSxFQUFVLE9BQU8sQ0FBQyxJQUdsRCxHQUFnQixDQUV4QixDQUNBLE1BQU8sRUFDWCxDQUNPLFlBQXlCLEVBQUcsQ0FDL0IsTUFBSSxJQUFNLEtBQ0MsR0FFUCxNQUFPLElBQU0sVUFHYixpQkFBaUIsS0FBSyxDQUFDLEVBQ2hCLEdBRVAsU0FBUyxLQUFLLENBQUMsRUFDUixHQUNKLDRDQUE0QyxLQUFLLENBQUMsQ0FDN0QsQ0NoRUEsQUFNTyxZQUEyQixFQUFXLENBQ3pDLEdBQUksTUFBTSxRQUFRLENBQVMsRUFDdkIsTUFBTyxHQUFVLElBQUksR0FBSyxNQUFPLElBQU0sU0FBVyxFQUFJLEdBQUssQ0FBQyxFQUVoRSxFQUFZLEVBQVUsS0FBSyxFQUMzQixHQUFJLEdBQUksRUFDSixFQUFRLEtBQ1IsRUFBSSxLQUNKLEVBQVUsS0FDUixFQUFPLENBQUMsRUFDZCxPQUFTLEdBQUssRUFBRyxFQUFLLEVBQVUsT0FBUSxJQUFNLENBSTFDLEdBSEEsRUFBUSxFQUNSLEVBQUksRUFBVSxPQUFPLENBQUUsRUFFbkIsSUFBTSxLQUFPLENBQUMsRUFBUyxDQUN2QixBQUFNLElBQVUsS0FDWixJQUVKLFFBQ0osQ0FHQSxBQUFJLElBQU0sRUFDTixFQUFVLEtBRUosS0FBTSxLQUFPLElBQU0sTUFBUSxDQUFDLEdBQ2xDLEdBQVUsR0FFVCxFQUFLLElBQ04sR0FBSyxHQUFLLElBQ2QsRUFBSyxJQUFNLENBQ2YsQ0FDQSxNQUFPLEVBQ1gsQ0N2Q0EsQUFLTyxHQUFJLElBQ1gsQUFBQyxVQUFVLEVBQXlCLENBQ2hDLEVBQXdCLFFBQWEsVUFDckMsRUFBd0IsT0FBWSxTQUNwQyxFQUF3QixPQUFZLFNBQ3BDLEVBQXdCLE1BQVcsT0FDdkMsR0FBRyxJQUE0QixJQUEwQixDQUFDLEVBQUUsRUNYNUQsQUFRQSxHQUFJLElBQ1MsR0FBTixLQUFrQixDQUNyQixZQUFZLEVBQVEsQ0FDaEIsR0FBUSxDQUNaLENBQ0EsTUFBTSxFQUFXLEVBQVMsQ0FDdEIsR0FBTSxHQUFPLE9BQU8sT0FBTyxDQUN2QixNQUFPLE9BQ1AsTUFBTyxPQUNQLFFBQVMsT0FDVCxPQUFRLE9BQ1IsY0FBZSxPQUNmLGNBQWUsT0FDZixPQUFRLE9BQ1IsTUFBTyxPQUNQLFFBQVMsT0FDVCxVQUFXLE9BQ1gsS0FBTSxPQUNOLFVBQVcsT0FDWCxPQUFRLE9BQ1IsT0FBUSxPQUNSLEdBQUksT0FDSixJQUFLLE1BQ1QsRUFBRyxDQUFPLEVBR0osRUFBTyxHQUFrQixDQUFTLEVBR2xDLEVBQWdCLE1BQU8sSUFBYyxTQUVyQyxFQUFVLEdBQWUsT0FBTyxPQUFPLE9BQU8sT0FBTyxJQUFJLEVBQUcsRUFBSyxLQUFLLENBQUMsRUFDdkUsRUFBZ0IsT0FBTyxPQUFPLENBQ2hDLG1CQUFvQixHQUNwQix1QkFBd0IsR0FDeEIsaUJBQWtCLEdBQ2xCLGVBQWdCLEdBQ2hCLDRCQUE2QixHQUM3QiwyQkFBNEIsR0FDNUIsZ0JBQWlCLEdBQ2pCLHFCQUFzQixHQUN0QixxQkFBc0IsR0FDdEIsa0JBQW1CLE1BQ25CLGdCQUFpQixHQUNqQiwyQkFBNEIsR0FDNUIsYUFBYyxHQUNkLHNCQUF1QixHQUN2QixzQkFBdUIsR0FDdkIsZ0JBQWlCLEdBQ2pCLGVBQWdCLEdBQ2hCLDBCQUEyQixFQUMvQixFQUFHLEVBQUssYUFBYSxFQUNmLEVBQVcsT0FBTyxPQUFPLE9BQU8sT0FBTyxJQUFJLEVBQUcsRUFBSyxPQUFPLEVBQzFELEVBQWdCLEVBQUssZUFBaUIsQ0FBQyxFQUN2QyxFQUFZLEVBQUssVUFDakIsRUFBaUIsRUFBYyxjQUMvQixFQUFlLEVBQWlCLEtBQU8sSUFDdkMsRUFBYSxPQUFPLE9BQU8sSUFBSSxFQUMvQixFQUFZLE9BQU8sT0FBTyxJQUFJLEVBRTlCLEVBQUssRUFBSyxJQUFNLEdBQU0sT0FDdEIsRUFBUSxDQUNWLFFBQVMsT0FBTyxPQUFPLElBQUksRUFDM0IsT0FBUSxPQUFPLE9BQU8sSUFBSSxFQUMxQixNQUFPLE9BQU8sT0FBTyxJQUFJLEVBQ3pCLFFBQVMsT0FBTyxPQUFPLElBQUksRUFDM0IsUUFBUyxPQUFPLE9BQU8sSUFBSSxFQUMzQixPQUFRLE9BQU8sT0FBTyxJQUFJLEVBQzFCLFVBQVcsT0FBTyxPQUFPLElBQUksRUFDN0IsUUFBUyxPQUFPLE9BQU8sSUFBSSxFQUMzQixNQUFPLE9BQU8sT0FBTyxJQUFJLEVBQ3pCLFVBQVcsT0FBTyxPQUFPLElBQUksRUFDN0IsS0FBTSxDQUFDLENBQ1gsRUFDTSxFQUFXLGtDQUNYLEVBQWlCLEdBQUksUUFBTyxNQUFRLEVBQWMsbUJBQXFCLE1BQU0sRUFDbkYsQ0FBQyxFQUFFLE9BQU8sRUFBSyxPQUFTLENBQUMsQ0FBQyxFQUFFLE9BQU8sT0FBTyxFQUFFLFFBQVEsU0FBVSxFQUFLLENBQy9ELEdBQU0sR0FBTSxNQUFPLElBQVEsU0FBVyxFQUFJLElBQU0sRUFFMUMsRUFBYSxPQUFPLEtBQUssQ0FBRyxFQUFFLElBQUksU0FBVSxFQUFLLENBTW5ELE1BQU8sQUFMZSxDQUNsQixRQUFTLFFBQ1QsT0FBUSxVQUNSLE9BQVEsU0FDWixFQUNxQixFQUN6QixDQUFDLEVBQUUsT0FBTyxPQUFPLEVBQUUsSUFBSSxFQUV2QixBQUFJLEdBQ0EsR0FBTSxHQUFZLEdBQU8sSUFFN0IsRUFBTSxPQUFPLEdBQU8sR0FDcEIsRUFBTSxLQUFLLEtBQUssQ0FBRyxDQUN2QixDQUFDLEVBQ0QsQ0FBQyxFQUFFLE9BQU8sRUFBSyxTQUFXLENBQUMsQ0FBQyxFQUFFLE9BQU8sT0FBTyxFQUFFLFFBQVEsU0FBVSxFQUFLLENBQ2pFLEVBQU0sTUFBTSxHQUFPLEdBQ25CLEVBQU0sS0FBSyxLQUFLLENBQUcsQ0FDdkIsQ0FBQyxFQUNELENBQUMsRUFBRSxPQUFPLEVBQUssUUFBVSxDQUFDLENBQUMsRUFBRSxPQUFPLE9BQU8sRUFBRSxRQUFRLFNBQVUsRUFBSyxDQUNoRSxFQUFNLFFBQVEsR0FBTyxHQUNyQixFQUFNLEtBQUssS0FBSyxDQUFHLENBQ3ZCLENBQUMsRUFDRCxDQUFDLEVBQUUsT0FBTyxFQUFLLFFBQVUsQ0FBQyxDQUFDLEVBQUUsT0FBTyxPQUFPLEVBQUUsUUFBUSxTQUFVLEVBQUssQ0FDaEUsRUFBTSxRQUFRLEdBQU8sR0FDckIsRUFBTSxLQUFLLEtBQUssQ0FBRyxDQUN2QixDQUFDLEVBQ0QsQ0FBQyxFQUFFLE9BQU8sRUFBSyxPQUFTLENBQUMsQ0FBQyxFQUFFLE9BQU8sT0FBTyxFQUFFLFFBQVEsU0FBVSxFQUFLLENBQy9ELEVBQU0sT0FBTyxHQUFPLEdBQ3BCLEVBQU0sS0FBSyxLQUFLLENBQUcsQ0FDdkIsQ0FBQyxFQUNELENBQUMsRUFBRSxPQUFPLEVBQUssV0FBYSxDQUFDLENBQUMsRUFBRSxPQUFPLE9BQU8sRUFBRSxRQUFRLFNBQVUsRUFBSyxDQUNuRSxFQUFNLFVBQVUsR0FBTyxHQUN2QixFQUFNLEtBQUssS0FBSyxDQUFHLENBQ3ZCLENBQUMsRUFDRyxNQUFPLEdBQUssTUFBUyxVQUNyQixPQUFPLFFBQVEsRUFBSyxJQUFJLEVBQUUsUUFBUSxDQUFDLENBQUMsRUFBSyxLQUFXLENBQ2hELEFBQUksTUFBTyxJQUFVLFVBQ2pCLEdBQU0sTUFBTSxHQUFPLEVBQ25CLEVBQU0sS0FBSyxLQUFLLENBQUcsRUFFM0IsQ0FBQyxFQUVELE1BQU8sR0FBSyxRQUFXLFVBQ3ZCLE9BQU8sUUFBUSxFQUFLLE1BQU0sRUFBRSxRQUFRLENBQUMsQ0FBQyxFQUFLLEtBQVcsQ0FDbEQsQUFBSSxNQUFPLElBQVUsWUFDakIsR0FBTSxVQUFVLEdBQU8sRUFDdkIsRUFBTSxLQUFLLEtBQUssQ0FBRyxFQUUzQixDQUFDLEVBRUQsTUFBTyxHQUFLLE9BQVcsS0FDdkIsQ0FBSSxNQUFNLFFBQVEsRUFBSyxNQUFNLEdBQUssTUFBTyxHQUFLLFFBQVcsU0FFckQsQ0FBQyxFQUFFLE9BQU8sRUFBSyxNQUFNLEVBQUUsT0FBTyxPQUFPLEVBQUUsUUFBUSxTQUFVLEVBQUssQ0FDMUQsRUFBTSxRQUFRLEdBQU8sRUFDekIsQ0FBQyxFQUVJLE1BQU8sR0FBSyxRQUFXLFVBQzVCLE9BQU8sUUFBUSxFQUFLLE1BQU0sRUFBRSxRQUFRLENBQUMsQ0FBQyxFQUFLLEtBQVcsQ0FDbEQsQUFBSSxPQUFPLElBQVUsV0FBYSxNQUFPLElBQVUsYUFDL0MsR0FBTSxRQUFRLEdBQU8sRUFFN0IsQ0FBQyxHQUtULEdBQWMsRUFBSyxJQUFLLEVBQVMsRUFBSyxRQUFTLEVBQU0sTUFBTSxFQUUzRCxPQUFPLEtBQUssQ0FBUSxFQUFFLFFBQVEsU0FBVSxFQUFLLENBQ3pDLEFBQUMsR0FBTSxRQUFRLElBQVEsQ0FBQyxHQUFHLFFBQVEsU0FBVSxFQUFPLENBQ2hELEVBQVMsR0FBUyxFQUFTLEVBQy9CLENBQUMsQ0FDTCxDQUFDLEVBQ0QsR0FBSSxHQUFRLEtBQ1osR0FBbUIsRUFDbkIsR0FBSSxHQUFXLENBQUMsRUFDVixFQUFPLE9BQU8sT0FBTyxPQUFPLE9BQU8sSUFBSSxFQUFHLENBQUUsRUFBRyxDQUFDLENBQUUsQ0FBQyxFQUluRCxHQUFhLENBQUMsRUFDcEIsT0FBUyxHQUFJLEVBQUcsRUFBSSxFQUFLLE9BQVEsSUFBSyxDQUNsQyxHQUFNLEdBQU0sRUFBSyxHQUNYLEVBQWUsRUFBSSxRQUFRLFNBQVUsS0FBSyxFQUM1QyxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsR0FFSixHQUFJLElBQVEsTUFBUSxLQUFLLEtBQUssQ0FBRyxHQUFLLEVBQXFCLENBQUcsRUFDMUQsR0FBZSxDQUFHLFVBR2IsRUFBYSxNQUFNLFlBQVksRUFBRyxDQUV2QyxHQUFlLENBQUcsRUFDbEIsUUFFSixTQUNTLEVBQUksTUFBTSxRQUFRLEdBQU0sQ0FBQyxFQUFjLHdCQUEwQixFQUFJLE1BQU0sT0FBTyxFQUl2RixFQUFJLEVBQUksTUFBTSx3QkFBd0IsRUFFbEMsSUFBTSxNQUFRLE1BQU0sUUFBUSxDQUFDLEdBQUssRUFBRSxRQUFVLEdBQzlDLENBQUksRUFBZ0IsRUFBRSxHQUFJLEVBQU0sTUFBTSxFQUNsQyxFQUFJLEdBQVMsRUFBRyxFQUFFLEdBQUksRUFBTSxFQUFFLEVBQUUsRUFFL0IsQUFBSSxFQUFnQixFQUFFLEdBQUksRUFBTSxLQUFLLElBQU0sR0FFNUMsRUFBSSxHQUFTLEVBQUcsRUFBRSxHQUFJLEVBQU0sRUFBRSxFQUFFLEVBR2hDLEVBQU8sRUFBRSxHQUFJLEVBQUUsR0FBSSxFQUFJLFdBSTFCLEVBQUksTUFBTSxDQUFjLEdBQUssRUFBYyxvQkFDaEQsRUFBSSxFQUFJLE1BQU0sQ0FBYyxFQUN4QixJQUFNLE1BQVEsTUFBTSxRQUFRLENBQUMsR0FBSyxFQUFFLFFBQVUsR0FDOUMsR0FBTSxFQUFFLEdBQ1IsRUFBTyxFQUFLLEVBQWdCLEVBQUssRUFBTSxNQUFNLEVBQUksQ0FBQyxFQUFLLEVBQUksRUFBSyxXQUkvRCxFQUFJLE1BQU0sT0FBTyxHQUFNLENBQUMsRUFBYyx3QkFBMEIsRUFBSSxNQUFNLFNBQVMsRUFDeEYsRUFBSSxFQUFJLE1BQU0sVUFBVSxFQUNwQixJQUFNLE1BQVEsTUFBTSxRQUFRLENBQUMsR0FBSyxFQUFFLFFBQVUsR0FDOUMsR0FBTSxFQUFFLEdBQ1IsQUFBSSxFQUFnQixFQUFLLEVBQU0sTUFBTSxFQUVqQyxFQUFJLEdBQVMsRUFBRyxFQUFLLENBQUksRUFFeEIsQUFBSSxFQUFnQixFQUFLLEVBQU0sS0FBSyxJQUFNLEdBRzNDLEVBQUksR0FBUyxFQUFHLEVBQUssQ0FBSSxFQUd6QixHQUFPLEVBQUssRUFBSSxHQUNoQixBQUFJLElBQVMsUUFBYyxFQUFDLEVBQUssTUFBTSxJQUFJLEdBQ3ZDLEVBQUssTUFBTSxDQUFRLElBQ25CLENBQUMsRUFBZ0IsRUFBSyxFQUFNLEtBQUssR0FDakMsQ0FBQyxFQUFnQixFQUFLLEVBQU0sTUFBTSxHQUk3QixpQkFBaUIsS0FBSyxDQUFJLEVBSC9CLEdBQU8sRUFBSyxDQUFJLEVBQ2hCLEtBT0EsRUFBTyxFQUFLLEVBQWEsQ0FBRyxDQUFDLFlBTXBDLEVBQUksTUFBTSxVQUFVLEVBQ3pCLEVBQUksRUFBSSxNQUFNLHNCQUFzQixFQUNoQyxJQUFNLE1BQVEsTUFBTSxRQUFRLENBQUMsR0FBSyxFQUFFLFFBQVUsR0FDOUMsRUFBTyxFQUFFLEdBQUksRUFBRSxFQUFFLFVBSWhCLEVBQUksTUFBTSxTQUFTLEdBQUssQ0FBQyxFQUFJLE1BQU0sQ0FBUSxFQUNoRCxFQUFPLEVBQUssRUFBSSxHQUNoQixFQUFJLEVBQUksTUFBTSxXQUFXLEVBQ3JCLElBQU0sTUFBUSxNQUFNLFFBQVEsQ0FBQyxHQUFLLEVBQUUsUUFBVSxHQUM5QyxHQUFNLEVBQUUsR0FDUixBQUFJLElBQVMsUUFBYSxDQUFDLEVBQUssTUFBTSxJQUFJLEdBQ3RDLENBQUMsRUFBZ0IsRUFBSyxFQUFNLEtBQUssR0FDakMsQ0FBQyxFQUFnQixFQUFLLEVBQU0sTUFBTSxFQUNsQyxHQUFPLEVBQUssQ0FBSSxFQUNoQixLQUdBLEVBQU8sRUFBSyxFQUFhLENBQUcsQ0FBQyxXQUloQyxFQUFJLE1BQU0sU0FBUyxHQUFLLENBQUMsRUFBSSxNQUFNLENBQVEsRUFBRyxDQUNuRCxFQUFVLEVBQUksTUFBTSxFQUFHLEVBQUUsRUFBRSxNQUFNLEVBQUUsRUFDbkMsRUFBUyxHQUNULE9BQVMsSUFBSSxFQUFHLEdBQUksRUFBUSxPQUFRLEtBQUssQ0FFckMsR0FEQSxFQUFPLEVBQUksTUFBTSxHQUFJLENBQUMsRUFDbEIsRUFBUSxHQUFJLElBQU0sRUFBUSxHQUFJLEtBQU8sSUFBSyxDQUMxQyxHQUFRLEVBQUksTUFBTSxHQUFJLENBQUMsRUFDdkIsRUFBTSxFQUFRLElBQ2QsQUFBSSxFQUFnQixFQUFLLEVBQU0sTUFBTSxFQUVqQyxFQUFJLEdBQVMsRUFBRyxFQUFLLEVBQU0sRUFBSyxFQUUvQixBQUFJLEVBQWdCLEVBQUssRUFBTSxLQUFLLElBQU0sR0FFM0MsRUFBSSxHQUFTLEVBQUcsRUFBSyxFQUFNLEVBQUssRUFHaEMsRUFBTyxFQUFLLEVBQUssRUFFckIsRUFBUyxHQUNULEtBQ0osQ0FDQSxHQUFJLElBQVMsSUFBSyxDQUNkLEVBQU8sRUFBUSxJQUFJLENBQUksRUFDdkIsUUFDSixDQUVBLEdBQUksV0FBVyxLQUFLLEVBQVEsR0FBRSxHQUMxQiwyQkFBMkIsS0FBSyxDQUFJLEdBQ3BDLEVBQWdCLEVBQU0sRUFBTSxLQUFLLElBQU0sR0FBTyxDQUM5QyxFQUFPLEVBQVEsSUFBSSxDQUFJLEVBQ3ZCLEVBQVMsR0FDVCxLQUNKLENBQ0EsR0FBSSxFQUFRLEdBQUksSUFBTSxFQUFRLEdBQUksR0FBRyxNQUFNLElBQUksRUFBRyxDQUM5QyxFQUFPLEVBQVEsSUFBSSxDQUFJLEVBQ3ZCLEVBQVMsR0FDVCxLQUNKLEtBRUksR0FBTyxFQUFRLElBQUksRUFBYSxFQUFRLEdBQUUsQ0FBQyxDQUVuRCxDQUNBLEVBQU0sRUFBSSxNQUFNLEVBQUUsRUFBRSxHQUNoQixDQUFDLEdBQVUsSUFBUSxLQUNuQixDQUFJLEVBQWdCLEVBQUssRUFBTSxNQUFNLEVBRWpDLEVBQUksR0FBUyxFQUFHLEVBQUssQ0FBSSxFQUV4QixBQUFJLEVBQWdCLEVBQUssRUFBTSxLQUFLLElBQU0sR0FHM0MsRUFBSSxHQUFTLEVBQUcsRUFBSyxDQUFJLEVBR3pCLEdBQU8sRUFBSyxFQUFJLEdBQ2hCLEFBQUksSUFBUyxRQUFjLEVBQUMsY0FBYyxLQUFLLENBQUksR0FDL0MsRUFBSyxNQUFNLENBQVEsSUFDbkIsQ0FBQyxFQUFnQixFQUFLLEVBQU0sS0FBSyxHQUNqQyxDQUFDLEVBQWdCLEVBQUssRUFBTSxNQUFNLEdBSTdCLGlCQUFpQixLQUFLLENBQUksRUFIL0IsR0FBTyxFQUFLLENBQUksRUFDaEIsS0FPQSxFQUFPLEVBQUssRUFBYSxDQUFHLENBQUMsR0FJN0MsU0FDUyxFQUFJLE1BQU0sVUFBVSxHQUN6QixFQUFJLE1BQU0sQ0FBUSxHQUNsQixFQUFnQixFQUFJLE1BQU0sQ0FBQyxFQUFHLEVBQU0sS0FBSyxFQUV6QyxFQUFNLEVBQUksTUFBTSxDQUFDLEVBQ2pCLEVBQU8sRUFBSyxFQUFhLENBQUcsQ0FBQyxVQUV4QixJQUFRLEtBQU0sQ0FDbkIsRUFBVyxFQUFLLE1BQU0sRUFBSSxDQUFDLEVBQzNCLEtBQ0osU0FDUyxFQUFjLHNCQUF1QixDQUMxQyxFQUFXLEVBQUssTUFBTSxDQUFDLEVBQ3ZCLEtBQ0osS0FFSSxJQUFlLENBQUcsQ0FFMUIsQ0FPQSxFQUFhLEVBQU0sRUFBSSxFQUN2QixFQUFhLEVBQU0sRUFBSyxFQUN4QixFQUFVLENBQUksRUFDZCxHQUFpQixFQUNqQixFQUF3QixFQUFNLEVBQU0sUUFBUyxFQUFVLEVBQUksRUFDM0QsR0FBZSxDQUFJLEVBQ2YsRUFBYyx3QkFDZCxHQUFtQixDQUFJLEVBRTNCLE9BQU8sS0FBSyxFQUFNLE1BQU0sRUFBRSxRQUFRLFNBQVUsRUFBSyxDQUM3QyxBQUFLLEdBQU8sRUFBTSxFQUFJLE1BQU0sR0FBRyxDQUFDLEdBQzVCLEVBQU8sRUFBSyxDQUFDLENBQ3JCLENBQUMsRUFFRyxHQUFrQixFQUFTLFFBQzNCLEdBQUssR0FBZ0IsQ0FBQyxHQUMxQixFQUFTLFFBQVEsU0FBVSxFQUFLLENBQzVCLEVBQUssR0FBYyxLQUFLLENBQUcsQ0FDL0IsQ0FBQyxFQUNHLEVBQWMseUJBQTJCLEVBQWMsaUJBQ3ZELE9BQU8sS0FBSyxDQUFJLEVBQUUsT0FBTyxHQUFPLElBQVEsTUFBUSxFQUFJLFNBQVMsR0FBRyxDQUFDLEVBQUUsUUFBUSxHQUFPLENBQzlFLE1BQU8sR0FBSyxFQUNoQixDQUFDLEVBRUQsRUFBYyxrQkFFZCxDQUFDLEVBQUUsT0FBTyxHQUFHLE9BQU8sS0FBSyxDQUFPLEVBQUUsSUFBSSxHQUFLLEVBQVEsRUFBRSxDQUFDLEVBQUUsUUFBUSxHQUFTLENBQ3JFLEFBQUksRUFBYyx5QkFBMkIsRUFBTSxTQUFTLEdBQUcsR0FDM0QsTUFBTyxHQUFLLEVBQU0sTUFBTSxHQUFHLEVBQUUsSUFBSSxHQUFRLEdBQVUsQ0FBSSxDQUFDLEVBQUUsS0FBSyxHQUFHLEdBRXRFLE1BQU8sR0FBSyxFQUNoQixDQUFDLEVBR0wsWUFBd0IsRUFBSyxDQUN6QixHQUFNLEdBQXFCLEVBQWtCLElBQUssQ0FBRyxFQUNyRCxBQUFJLE9BQU8sSUFBdUIsVUFBWSxNQUFPLElBQXVCLFdBQ3hFLEVBQUssRUFBRSxLQUFLLENBQWtCLENBRXRDLENBR0EsWUFBa0IsRUFBRyxFQUFLLEVBQU0sRUFBbUIsQ0FDL0MsR0FBSSxHQUNBLEVBQVEsRUFBZ0IsRUFBSyxFQUFNLEtBQUssRUFJNUMsR0FEQSxFQUFRLE1BQU8sSUFBVSxVQUFZLE1BQU0sQ0FBSyxFQUFJLEVBQUksRUFDcEQsSUFBVSxFQUNWLE1BQUssSUFBWSxDQUFpQixHQUM5QixHQUFRLE1BQU0sRUFBRyw4QkFBK0IsQ0FBRyxDQUFDLEdBRXhELEVBQU8sRUFBSyxFQUFhLENBQUcsQ0FBQyxFQUN0QixFQUVYLEdBQUksR0FBWSxHQUFZLENBQWlCLEVBQUksRUFBSSxFQUNyRCxHQUFJLEVBQWMsc0JBRWQsQUFBSSxFQUFLLE9BQVUsR0FBSSxHQUFLLEVBQVksR0FDcEMsR0FBUSxNQUFNLEVBQUcscUNBQXNDLENBQUcsQ0FBQyxHQUUvRCxFQUFZLE1BRVgsQ0FHRCxJQUFLLEVBQUssRUFBSSxFQUFHLEVBQUssRUFBSyxRQUNuQixFQUFDLEVBQUssR0FBSSxNQUFNLFVBQVUsR0FBSyxFQUFLLEdBQUksTUFBTSxDQUFRLEdBQUssRUFBcUIsRUFBSyxFQUFHLEdBRDdELElBRTNCLElBSVIsQUFBSSxFQUFZLEdBQ1osR0FBUSxNQUFNLEVBQUcscUNBQXNDLENBQUcsQ0FBQyxFQUNuRSxDQUNBLEdBQUksR0FBVyxLQUFLLElBQUksRUFBVyxDQUFLLEVBS3hDLElBSkksQ0FBQyxHQUFZLENBQWlCLEdBQUssRUFBVyxHQUM5QyxHQUFPLEVBQUssQ0FBaUIsRUFDN0IsS0FFQyxFQUFLLEVBQUksRUFBRyxFQUFNLEVBQVcsRUFBSSxFQUFJLElBQ3RDLEVBQU8sRUFBSyxFQUFLLEVBQUcsRUFFeEIsTUFBUSxHQUFJLENBQ2hCLENBSUEsWUFBa0IsRUFBRyxFQUFLLEVBQU0sRUFBbUIsQ0FDL0MsR0FBSSxHQUFZLENBQUMsRUFDYixFQUFPLEdBQXFCLEVBQUssRUFBSSxHQUVuQyxFQUFhLEVBQWdCLEVBQUssRUFBTSxLQUFLLEVBQ25ELEdBQUksRUFBZ0IsRUFBSyxFQUFNLEtBQUssR0FBSyxDQUFFLGlCQUFpQixLQUFLLENBQUksRUFDakUsRUFBVSxLQUFLLEVBQUksVUFFZCxHQUFZLENBQUksR0FDcEIsR0FBWSxDQUFpQixHQUFLLEtBQUssS0FBSyxDQUFJLEdBQUssQ0FBQyxFQUFTLEtBQUssQ0FBSSxHQUFLLENBQUMsRUFBcUIsQ0FBSSxHQUd4RyxHQUFJLEVBQVMsS0FBUyxPQUFXLENBQzdCLEdBQU0sR0FBUyxFQUFTLEdBQ3hCLEVBQVksTUFBTSxRQUFRLENBQU0sRUFBSSxFQUFTLENBQUMsQ0FBTSxDQUN4RCxNQUVDLENBRUQsQUFBSyxHQUFZLENBQWlCLEdBQzlCLEVBQVUsS0FBSyxFQUFhLEVBQUssRUFBbUIsRUFBSSxDQUFDLEVBRTdELE9BQVMsR0FBSyxFQUFJLEVBQUcsRUFBSyxFQUFLLFFBQ3RCLEdBQUMsRUFBYyxrQkFBb0IsRUFBVSxPQUFTLEdBQ3RELEdBQWMsTUFBTyxJQUFlLFVBQVksRUFBVSxRQUFVLEdBRXpFLEdBQU8sRUFBSyxHQUNSLEtBQUssS0FBSyxDQUFJLEdBQUssQ0FBQyxFQUFTLEtBQUssQ0FBSSxHQUFLLENBQUMsRUFBcUIsQ0FBSSxJQUx0QyxJQU9uQyxFQUFJLEVBQ0osRUFBVSxLQUFLLEVBQWEsRUFBSyxFQUFNLENBQWEsQ0FBQyxDQUU3RCxDQUlBLE1BQUksT0FBTyxJQUFlLFVBQWMsSUFBYyxFQUFVLE9BQVMsR0FDcEUsTUFBTSxDQUFVLEdBQUssRUFBVSxTQUFXLElBQzNDLEdBQVEsTUFBTSxFQUFHLHFDQUFzQyxDQUFHLENBQUMsR0FFL0QsRUFBTyxFQUFLLENBQVMsRUFDZCxDQUNYLENBQ0EsV0FBZ0IsRUFBSyxFQUFLLEVBQW9CLEVBQWUsQ0FDekQsR0FBSSxJQUFJLEtBQUssQ0FBRyxHQUFLLEVBQWMsd0JBQXlCLENBQ3hELEdBQU0sR0FBUSxFQUFJLE1BQU0sR0FBRyxFQUFFLElBQUksU0FBVSxFQUFNLENBQzdDLE1BQU8sSUFBVSxDQUFJLENBQ3pCLENBQUMsRUFBRSxLQUFLLEdBQUcsRUFDWCxFQUFZLEVBQUssQ0FBSyxDQUMxQixDQUNBLEdBQU0sR0FBUSxFQUFhLEVBQUssRUFBSyxDQUFpQixFQUNoRCxFQUFXLEVBQUksTUFBTSxHQUFHLEVBQzlCLEdBQU8sRUFBTSxFQUFVLENBQUssRUFFeEIsRUFBTSxRQUFRLElBQ2QsRUFBTSxRQUFRLEdBQUssUUFBUSxTQUFVLEVBQUcsQ0FDcEMsR0FBTSxHQUFnQixFQUFFLE1BQU0sR0FBRyxFQUNqQyxHQUFPLEVBQU0sRUFBZSxDQUFLLENBQ3JDLENBQUMsRUFHRCxFQUFTLE9BQVMsR0FBSyxFQUFjLGlCQUVwQyxHQUFNLFFBQVEsRUFBUyxLQUFPLENBQUMsR0FBRyxRQUFRLFNBQVUsRUFBRyxDQUNwRCxHQUFJLEdBQWdCLEVBQUUsTUFBTSxHQUFHLEVBRXpCLEVBQUksQ0FBQyxFQUFFLE9BQU8sQ0FBUSxFQUM1QixFQUFFLE1BQU0sRUFDUixFQUFnQixFQUFjLE9BQU8sQ0FBQyxFQUdoQyxHQUFNLFFBQVEsSUFBUSxDQUFDLEdBQUcsU0FBUyxFQUFjLEtBQUssR0FBRyxDQUFDLEdBQzVELEdBQU8sRUFBTSxFQUFlLENBQUssQ0FFekMsQ0FBQyxFQUdELEVBQWdCLEVBQUssRUFBTSxTQUFTLEdBQUssQ0FBQyxFQUFnQixFQUFLLEVBQU0sTUFBTSxHQUUzRSxBQURhLENBQUMsQ0FBRyxFQUFFLE9BQU8sRUFBTSxRQUFRLElBQVEsQ0FBQyxDQUFDLEVBQzdDLFFBQVEsU0FBVSxFQUFLLENBQ3hCLE9BQU8sZUFBZSxHQUFZLEVBQUssQ0FDbkMsV0FBWSxHQUNaLEtBQU0sQ0FDRixNQUFPLEVBQ1gsRUFDQSxJQUFJLEVBQU8sQ0FDUCxFQUFNLE1BQU8sSUFBVSxTQUFXLEdBQU0sVUFBVSxDQUFLLEVBQUksQ0FDL0QsQ0FDSixDQUFDLENBQ0wsQ0FBQyxDQUVULENBQ0EsV0FBcUIsRUFBSyxFQUFPLENBQzdCLEFBQU0sRUFBTSxRQUFRLElBQVEsRUFBTSxRQUFRLEdBQUssUUFDM0MsR0FBTSxRQUFRLEdBQU8sQ0FBQyxDQUFLLEVBQzNCLEVBQVcsR0FBUyxJQUVsQixFQUFNLFFBQVEsSUFBVSxFQUFNLFFBQVEsR0FBTyxRQUMvQyxFQUFZLEVBQU8sQ0FBRyxDQUU5QixDQUNBLFdBQXNCLEVBQUssRUFBSyxFQUFtQixDQUUvQyxBQUFJLEdBQ0EsR0FBTSxHQUFZLENBQUcsR0FHckIsR0FBZ0IsRUFBSyxFQUFNLEtBQUssR0FBSyxFQUFnQixFQUFLLEVBQU0sTUFBTSxJQUNsRSxNQUFPLElBQVEsVUFDZixHQUFNLElBQVEsUUFFdEIsR0FBSSxHQUFRLE1BQU0sUUFBUSxDQUFHLEVBQ3ZCLEVBQUksSUFBSSxTQUFVLEVBQUcsQ0FBRSxNQUFPLEdBQWtCLEVBQUssQ0FBQyxDQUFHLENBQUMsRUFDMUQsRUFBa0IsRUFBSyxDQUFHLEVBRWhDLE1BQUksR0FBZ0IsRUFBSyxFQUFNLE1BQU0sR0FBTSxJQUFZLENBQUssR0FBSyxNQUFPLElBQVUsWUFDOUUsR0FBUSxHQUFVLEdBR2xCLEVBQWdCLEVBQUssRUFBTSxTQUFTLEdBQUssRUFBZ0IsRUFBSyxFQUFNLE1BQU0sR0FDMUUsQ0FBSSxNQUFNLFFBQVEsQ0FBRyxFQUNqQixFQUFRLEVBQUksSUFBSSxBQUFDLEdBQWlCLEdBQU0sVUFBVSxDQUFHLENBQUksRUFFekQsRUFBUSxHQUFNLFVBQVUsQ0FBRyxHQUU1QixDQUNYLENBQ0EsV0FBMkIsRUFBSyxFQUFPLENBQ25DLE1BQUksQ0FBQyxFQUFjLDZCQUErQixJQUFRLEtBRXRELENBQUMsRUFBZ0IsRUFBSyxFQUFNLE9BQU8sR0FBSyxDQUFDLEVBQWdCLEVBQUssRUFBTSxLQUFLLEdBQUssQ0FBQyxNQUFNLFFBQVEsQ0FBSyxHQUU5RixDQUR1QixHQUFnQixDQUFLLEdBQUssRUFBYyxrQkFBcUIsT0FBTyxjQUFjLEtBQUssTUFBTSxXQUFXLEdBQUcsR0FBTyxDQUFDLENBQUMsR0FDcEgsQ0FBQyxHQUFZLENBQUssR0FBSyxFQUFnQixFQUFLLEVBQU0sT0FBTyxJQUNoRixHQUFRLE9BQU8sQ0FBSyxHQUdyQixDQUNYLENBR0EsV0FBbUIsRUFBTSxDQUNyQixHQUFNLEdBQWUsT0FBTyxPQUFPLElBQUksRUFHdkMsRUFBd0IsRUFBYyxFQUFNLFFBQVMsQ0FBUSxFQUM3RCxPQUFPLEtBQUssRUFBTSxPQUFPLEVBQUUsUUFBUSxTQUFVLEVBQVcsQ0FDcEQsR0FBTSxHQUFhLEVBQUssSUFBYyxFQUFhLEdBQ25ELEdBQUksRUFDQSxHQUFJLENBQ0EsR0FBSSxHQUFTLEtBQ1AsRUFBcUIsR0FBTSxRQUFRLEdBQU0sSUFBSSxFQUFHLENBQVUsRUFDMUQsRUFBZ0IsRUFBTSxRQUFRLEdBQ3BDLEdBQUksTUFBTyxJQUFrQixXQUFZLENBQ3JDLEdBQUksQ0FDQSxFQUFTLEVBQWMsQ0FBa0IsQ0FDN0MsT0FDTyxFQUFQLENBQ0ksRUFBUyxDQUNiLENBQ0EsR0FBSSxZQUFrQixPQUFPLENBQ3pCLEVBQVEsRUFDUixNQUNKLENBQ0osS0FFSSxHQUFTLEdBQU0sUUFBUSxDQUFrQixFQUU3QyxFQUFnQixDQUFNLENBQzFCLE9BQ08sRUFBUCxDQUdJLEFBQUksRUFBRyxPQUFTLG1CQUNaLEVBQVEsRUFDSCxFQUFLLElBQ1YsR0FBUSxNQUFNLEVBQUcsK0JBQWdDLENBQVUsQ0FBQyxFQUNwRSxDQUVSLENBQUMsQ0FDTCxDQUdBLFdBQXlCLEVBQVEsRUFBTSxDQUNuQyxPQUFPLEtBQUssQ0FBTSxFQUFFLFFBQVEsU0FBVSxFQUFLLENBQ3ZDLEdBQU0sR0FBUSxFQUFPLEdBQ2YsRUFBVSxFQUFPLEVBQU8sSUFBTSxFQUFNLEVBSTFDLEFBQUksTUFBTyxJQUFVLFVBQVksSUFBVSxNQUFRLENBQUMsTUFBTSxRQUFRLENBQUssR0FBSyxFQUFjLGdCQUV0RixFQUFnQixFQUFPLENBQU8sRUFLMUIsRUFBQyxHQUFPLEVBQU0sRUFBUSxNQUFNLEdBQUcsQ0FBQyxHQUFNLEVBQWdCLEVBQVMsRUFBTSxNQUFNLEdBQUssRUFBYyxvQkFDOUYsRUFBTyxFQUFTLENBQUssQ0FHakMsQ0FBQyxDQUNMLENBRUEsYUFBNEIsQ0FDeEIsQUFBSSxNQUFPLEdBQWtCLEtBQ3pCLEVBQWMsUUFBUSxTQUFVLEVBQWMsQ0FDMUMsRUFBZ0IsQ0FBWSxDQUNoQyxDQUFDLENBRVQsQ0FDQSxXQUFzQixFQUFNLEVBQVksQ0FDcEMsR0FBSSxNQUFPLEdBQWMsSUFDckIsT0FDSixHQUFNLEdBQVMsTUFBTyxJQUFjLFNBQVcsRUFBWSxHQUNyRCxFQUFNLEdBQU0sSUFBSSxFQUN0QixPQUFPLEtBQUssQ0FBRyxFQUFFLFFBQVEsU0FBVSxFQUFRLENBQ3ZDLEdBQUksSUFBVyxJQUFNLEVBQU8sWUFBWSxFQUFRLENBQUMsSUFBTSxFQUFHLENBRXRELEdBQU0sR0FBTyxFQUFPLE1BQU0sSUFBSSxFQUFFLElBQUksU0FBVSxFQUFLLEVBQUcsQ0FDbEQsTUFBSSxLQUFNLEdBQ04sR0FBTSxFQUFJLFVBQVUsRUFBTyxNQUFNLEdBRTlCLEdBQVUsQ0FBRyxDQUN4QixDQUFDLEVBQ0QsQUFBTSxJQUFjLEVBQU0sUUFBUSxFQUFLLEtBQUssR0FBRyxJQUFPLENBQUMsSUFBZSxDQUFDLEdBQU8sRUFBTSxDQUFJLEdBQ3BGLEVBQU8sRUFBSyxLQUFLLEdBQUcsRUFBRyxFQUFJLEVBQU8sQ0FFMUMsQ0FDSixDQUFDLENBQ0wsQ0FDQSxZQUF3QixFQUFNLENBQzFCLEdBQUksR0FDRSxFQUFVLEdBQUksS0FDcEIsT0FBTyxLQUFLLENBQUksRUFBRSxRQUFRLFNBQVUsRUFBSyxDQUNyQyxHQUFJLENBQUMsRUFBUSxJQUFJLENBQUcsR0FDaEIsR0FBUyxFQUFnQixFQUFLLEVBQU0sU0FBUyxFQUN6QyxNQUFPLElBQVcsWUFDbEIsR0FBSSxDQUNBLEdBQU0sR0FBUSxFQUFrQixFQUFLLEVBQU8sRUFBSyxFQUFJLENBQUMsRUFDdEQsQUFBQyxDQUFDLEVBQUUsT0FBTyxFQUFNLFFBQVEsSUFBUSxDQUFDLEVBQUcsQ0FBRyxFQUFHLFFBQVEsR0FBTyxDQUN0RCxFQUFRLElBQUksQ0FBRyxFQUNmLEVBQUssR0FBTyxDQUNoQixDQUFDLENBQ0wsT0FDTyxFQUFQLENBQ0ksRUFBUSxDQUNaLENBR1osQ0FBQyxDQUNMLENBQ0EsWUFBNEIsRUFBTSxDQUM5QixTQUFNLEtBQUssUUFBUSxBQUFDLEdBQVEsQ0FFeEIsQUFBSSxDQUFDLEVBQUksUUFBUSxHQUFHLEdBRWhCLE1BQU8sR0FBSyxHQUFTLEtBQ3JCLEdBQUssR0FBTyxPQUNwQixDQUFDLEVBQ00sQ0FDWCxDQUNBLFdBQWlDLEVBQUssRUFBUyxFQUFVLEVBQVMsR0FBTyxDQUNyRSxPQUFPLEtBQUssQ0FBUSxFQUFFLFFBQVEsU0FBVSxFQUFLLENBQ3pDLEFBQUssR0FBTyxFQUFLLEVBQUksTUFBTSxHQUFHLENBQUMsR0FDM0IsSUFBTyxFQUFLLEVBQUksTUFBTSxHQUFHLEVBQUcsRUFBUyxFQUFJLEVBQ3JDLEdBQ0EsR0FBVSxHQUFPLElBQ3BCLEdBQVEsSUFBUSxDQUFDLEdBQUcsUUFBUSxTQUFVLEVBQUcsQ0FDdEMsQUFBSSxHQUFPLEVBQUssRUFBRSxNQUFNLEdBQUcsQ0FBQyxHQUU1QixHQUFPLEVBQUssRUFBRSxNQUFNLEdBQUcsRUFBRyxFQUFTLEVBQUksQ0FDM0MsQ0FBQyxFQUVULENBQUMsQ0FDTCxDQUNBLFlBQWdCLEVBQUssRUFBTSxDQUN2QixHQUFJLEdBQUksRUFDUixBQUFLLEVBQWMsaUJBQ2YsR0FBTyxDQUFDLEVBQUssS0FBSyxHQUFHLENBQUMsR0FDMUIsRUFBSyxNQUFNLEVBQUcsRUFBRSxFQUFFLFFBQVEsU0FBVSxFQUFLLENBQ3JDLEVBQUssRUFBRSxJQUFRLENBQUMsQ0FDcEIsQ0FBQyxFQUNELEdBQU0sR0FBTSxFQUFLLEVBQUssT0FBUyxHQUMvQixNQUFJLE9BQU8sSUFBTSxTQUNOLEdBRUEsSUFBTyxFQUN0QixDQUNBLFlBQWdCLEVBQUssRUFBTSxFQUFPLENBQzlCLEdBQUksR0FBSSxFQUNSLEFBQUssRUFBYyxpQkFDZixHQUFPLENBQUMsRUFBSyxLQUFLLEdBQUcsQ0FBQyxHQUMxQixFQUFLLE1BQU0sRUFBRyxFQUFFLEVBQUUsUUFBUSxTQUFVLEdBQUssQ0FHckMsR0FBTSxHQUFZLEVBQUcsRUFDakIsTUFBTyxJQUFNLFVBQVksRUFBRSxNQUFTLFFBQ3BDLEdBQUUsSUFBTyxDQUFDLEdBRWQsQUFBSSxNQUFPLEdBQUUsS0FBUyxVQUFZLE1BQU0sUUFBUSxFQUFFLEdBQUksRUFFbEQsQ0FBSSxNQUFNLFFBQVEsRUFBRSxHQUFJLEVBQ3BCLEVBQUUsSUFBSyxLQUFLLENBQUMsQ0FBQyxFQUdkLEVBQUUsSUFBTyxDQUFDLEVBQUUsSUFBTSxDQUFDLENBQUMsRUFHeEIsRUFBSSxFQUFFLElBQUssRUFBRSxJQUFLLE9BQVMsSUFHM0IsRUFBSSxFQUFFLEdBRWQsQ0FBQyxFQUdELEdBQU0sR0FBTSxHQUFZLEVBQUssRUFBSyxPQUFTLEVBQUUsRUFDdkMsRUFBYyxFQUFnQixFQUFLLEtBQUssR0FBRyxFQUFHLEVBQU0sTUFBTSxFQUMxRCxFQUFlLE1BQU0sUUFBUSxDQUFLLEVBQ3BDLEVBQVksRUFBYyw2QkFFOUIsQUFBSSxDQUFDLEdBQWEsRUFBZ0IsRUFBSyxFQUFNLEtBQUssR0FDOUMsR0FBWSxHQUNQLEVBQUMsR0FBWSxFQUFFLEVBQUksR0FBSyxFQUFNLE1BQU0sS0FBUyxHQUFPLE1BQU0sUUFBUSxFQUFFLEVBQUksR0FBSyxFQUFFLEdBQUssU0FBVyxFQUFNLE1BQU0sS0FDNUcsR0FBRSxHQUFPLFNBR2pCLEFBQUksSUFBVSxHQUFVLEVBQ3BCLEVBQUUsR0FBTyxHQUFVLEVBQUUsRUFBSSxFQUV4QixBQUFJLE1BQU0sUUFBUSxFQUFFLEVBQUksRUFDekIsQUFBSSxHQUFhLEdBQWUsRUFDNUIsRUFBRSxHQUFPLEVBQWMsNEJBQThCLEVBQUUsR0FBSyxPQUFPLENBQUssRUFBSyxPQUFNLFFBQVEsRUFBRSxHQUFLLEVBQUUsRUFBSSxFQUFFLEdBQU8sQ0FBQyxFQUFFLEVBQUksR0FBRyxPQUFPLENBQUMsQ0FBSyxDQUFDLEVBRXhJLEFBQUksQ0FBQyxHQUFhLFFBQVEsQ0FBVyxJQUFNLFFBQVEsQ0FBWSxFQUNoRSxFQUFFLEdBQU8sRUFHVCxFQUFFLEdBQU8sRUFBRSxHQUFLLE9BQU8sQ0FBQyxDQUFLLENBQUMsRUFHakMsQUFBSSxFQUFFLEtBQVMsUUFBYSxFQUM3QixFQUFFLEdBQU8sRUFBZSxFQUFRLENBQUMsQ0FBSyxFQUVyQyxBQUFJLEdBQWEsQ0FBRSxHQUFFLEtBQVMsUUFDL0IsRUFBZ0IsRUFBSyxFQUFNLE1BQU0sR0FDakMsRUFBZ0IsRUFBSyxFQUFNLEtBQUssR0FDaEMsRUFBRSxHQUFPLENBQUMsRUFBRSxHQUFNLENBQUssRUFHdkIsRUFBRSxHQUFPLENBRWpCLENBRUEsZUFBMEIsRUFBTSxDQUM1QixFQUFLLFFBQVEsU0FBVSxFQUFLLENBQ3hCLE9BQU8sS0FBSyxHQUFPLENBQUMsQ0FBQyxFQUFFLFFBQVEsU0FBVSxFQUFLLENBSTFDLEFBQUksRUFBTSxRQUFRLElBRWxCLEdBQU0sUUFBUSxHQUFPLENBQUMsRUFBRSxPQUFPLEVBQVEsSUFBUSxDQUFDLENBQUMsRUFFakQsRUFBTSxRQUFRLEdBQUssT0FBTyxDQUFHLEVBQUUsUUFBUSxTQUFVLEVBQUcsQ0FDaEQsR0FBSSxJQUFJLEtBQUssQ0FBQyxHQUFLLEVBQWMsd0JBQXlCLENBQ3RELEdBQU0sR0FBSSxHQUFVLENBQUMsRUFDckIsQUFBSSxJQUFNLEdBQU8sRUFBTSxRQUFRLEdBQUssUUFBUSxDQUFDLElBQU0sSUFDL0MsR0FBTSxRQUFRLEdBQUssS0FBSyxDQUFDLEVBQ3pCLEVBQVcsR0FBSyxHQUV4QixDQUNKLENBQUMsRUFFRCxFQUFNLFFBQVEsR0FBSyxPQUFPLENBQUcsRUFBRSxRQUFRLFNBQVUsRUFBRyxDQUNoRCxHQUFJLEVBQUUsT0FBUyxHQUFLLFFBQVEsS0FBSyxDQUFDLEdBQUssRUFBYyx3QkFBeUIsQ0FDMUUsR0FBTSxHQUFJLEdBQVcsRUFBRyxHQUFHLEVBQzNCLEFBQUksSUFBTSxHQUFPLEVBQU0sUUFBUSxHQUFLLFFBQVEsQ0FBQyxJQUFNLElBQy9DLEdBQU0sUUFBUSxHQUFLLEtBQUssQ0FBQyxFQUN6QixFQUFXLEdBQUssR0FFeEIsQ0FDSixDQUFDLEVBQ0QsRUFBTSxRQUFRLEdBQUssUUFBUSxTQUFVLEVBQUcsQ0FDcEMsRUFBTSxRQUFRLEdBQUssQ0FBQyxDQUFHLEVBQUUsT0FBTyxFQUFNLFFBQVEsR0FBSyxPQUFPLFNBQVUsRUFBRyxDQUNuRSxNQUFPLEtBQU0sQ0FDakIsQ0FBQyxDQUFDLENBQ04sQ0FBQyxFQUNMLENBQUMsQ0FDTCxDQUFDLENBQ0wsQ0FDQSxXQUF5QixFQUFLLEVBQU0sQ0FDaEMsR0FBTSxHQUFVLENBQUMsRUFBRSxPQUFPLEVBQU0sUUFBUSxJQUFRLENBQUMsRUFBRyxDQUFHLEVBQ2pELEVBQU8sT0FBTyxLQUFLLENBQUksRUFDdkIsRUFBVyxFQUFRLEtBQUssR0FBTyxFQUFLLFNBQVMsQ0FBRyxDQUFDLEVBQ3ZELE1BQU8sR0FBVyxFQUFLLEdBQVksRUFDdkMsQ0FDQSxZQUFvQixFQUFLLENBQ3JCLEdBQU0sR0FBWSxPQUFPLEtBQUssQ0FBSyxFQUVuQyxNQUFPLEFBRFMsQ0FBQyxFQUFFLE9BQU8sRUFBVSxJQUFJLEdBQUssRUFBTSxFQUFFLENBQUMsRUFDdkMsS0FBSyxTQUFVLEVBQU0sQ0FDaEMsTUFBTyxPQUFNLFFBQVEsQ0FBSSxFQUFJLEVBQUssU0FBUyxDQUFHLEVBQUksRUFBSyxFQUMzRCxDQUFDLENBQ0wsQ0FDQSxXQUEwQixLQUFRLEVBQVUsQ0FFeEMsTUFBTyxBQURTLENBQUMsRUFBRSxPQUFPLEdBQUcsQ0FBUSxFQUN0QixLQUFLLFNBQVUsRUFBUyxDQUNuQyxHQUFNLEdBQVEsRUFBSSxNQUFNLENBQU8sRUFDL0IsTUFBTyxJQUFTLEdBQVcsRUFBTSxFQUFFLENBQ3ZDLENBQUMsQ0FDTCxDQUVBLFdBQTBCLEVBQUssQ0FFM0IsR0FBSSxFQUFJLE1BQU0sQ0FBUSxHQUFLLENBQUMsRUFBSSxNQUFNLFNBQVMsRUFDM0MsTUFBTyxHQUVYLEdBQUksR0FBYyxHQUNkLEVBQ0UsRUFBVSxFQUFJLE1BQU0sQ0FBQyxFQUFFLE1BQU0sRUFBRSxFQUNyQyxPQUFTLEdBQUksRUFBRyxFQUFJLEVBQVEsT0FBUSxJQUFLLENBRXJDLEdBREEsRUFBTyxFQUFJLE1BQU0sRUFBSSxDQUFDLEVBQ2xCLENBQUMsR0FBVyxFQUFRLEVBQUUsRUFBRyxDQUN6QixFQUFjLEdBQ2QsS0FDSixDQUNBLEdBQUssRUFBUSxFQUFJLElBQU0sRUFBUSxFQUFJLEtBQU8sS0FDdEMsSUFBUyxLQUNSLFdBQVcsS0FBSyxFQUFRLEVBQUUsR0FBSywyQkFBMkIsS0FBSyxDQUFJLEdBQ25FLEVBQVEsRUFBSSxJQUFNLEVBQVEsRUFBSSxHQUFHLE1BQU0sSUFBSSxFQUM1QyxLQUVSLENBQ0EsTUFBTyxFQUNYLENBQ0EsV0FBOEIsRUFBSyxDQUMvQixNQUFPLEdBQWMsNEJBQThCLEVBQWdCLENBQUcsQ0FDMUUsQ0FDQSxXQUF5QixFQUFLLENBTzFCLE1BTkEsR0FBTSxFQUFJLFFBQVEsU0FBVSxJQUFJLEVBRTVCLEVBQUksTUFBTSxDQUFRLEdBSWxCLEVBQWlCLENBQUcsRUFDYixHQWFKLENBQUMsRUFBaUIsRUFWRix1QkFVdUIsRUFSM0IsZUFFUSxnQkFFQSxrQkFFVyxtQkFFeUcsQ0FDbkosQ0FHQSxXQUFzQixFQUFLLENBQ3ZCLE1BQUksQ0FBQyxFQUFnQixFQUFLLEVBQU0sS0FBSyxHQUNqQyxDQUFDLEVBQWdCLEVBQUssRUFBTSxNQUFNLEdBQ2xDLEdBQUcsS0FBUyxHQUNMLEVBQVMsR0FHVCxFQUFlLEdBQVUsQ0FBRyxDQUFDLENBRTVDLENBRUEsV0FBd0IsRUFBTSxDQU8xQixNQUFPLEFBTkssQ0FDUixDQUFDLEdBQXdCLFNBQVUsR0FDbkMsQ0FBQyxHQUF3QixRQUFTLEdBQ2xDLENBQUMsR0FBd0IsUUFBUyxPQUNsQyxDQUFDLEdBQXdCLE9BQVEsQ0FBQyxDQUN0QyxFQUNXLEVBQ2YsQ0FFQSxZQUFtQixFQUFLLENBQ3BCLEdBQUksR0FBTyxHQUF3QixRQUNuQyxNQUFJLEdBQWdCLEVBQUssRUFBTSxPQUFPLEVBQ2xDLEVBQU8sR0FBd0IsT0FDOUIsQUFBSSxFQUFnQixFQUFLLEVBQU0sT0FBTyxFQUN2QyxFQUFPLEdBQXdCLE9BQzlCLEFBQUksRUFBZ0IsRUFBSyxFQUFNLEtBQUssRUFDckMsRUFBTyxHQUF3QixRQUMxQixFQUFnQixFQUFLLEVBQU0sTUFBTSxHQUN0QyxHQUFPLEdBQXdCLE9BQzVCLENBQ1gsQ0FDQSxZQUFxQixFQUFLLENBQ3RCLE1BQU8sS0FBUSxNQUNuQixDQUVBLGFBQThCLENBRTFCLE9BQU8sS0FBSyxFQUFNLE1BQU0sRUFBRSxLQUFLLEdBQ3ZCLEVBQWdCLEVBQUssRUFBTSxNQUFNLEVBQ2pDLEdBQVEsTUFBTSxFQUFHLDZEQUE4RCxDQUFHLENBQUMsRUFDNUUsSUFFRixFQUFnQixFQUFLLEVBQU0sS0FBSyxFQUNyQyxHQUFRLE1BQU0sRUFBRyw0REFBNkQsQ0FBRyxDQUFDLEVBQzNFLElBRUosRUFDVixDQUNMLENBQ0EsTUFBTyxDQUNILFFBQVMsT0FBTyxPQUFPLENBQUMsRUFBRyxFQUFNLE9BQU8sRUFDeEMsS0FBTSxPQUFPLE9BQU8sR0FBWSxDQUFJLEVBQ3BDLGNBQWUsRUFDZixVQUFXLE9BQU8sT0FBTyxDQUFDLEVBQUcsQ0FBUyxFQUN0QyxNQUFPLEVBQ1AsV0FBWSxPQUFPLE9BQU8sQ0FBQyxFQUFHLENBQVUsQ0FDNUMsQ0FDSixDQUNKLEVBR0EsWUFBd0IsRUFBUyxDQUM3QixHQUFNLEdBQWMsQ0FBQyxFQUNmLEVBQVcsT0FBTyxPQUFPLElBQUksRUFDL0IsRUFBUyxHQVFiLElBTEEsT0FBTyxLQUFLLENBQU8sRUFBRSxRQUFRLFNBQVUsRUFBSyxDQUN4QyxFQUFZLEtBQUssQ0FBQyxFQUFFLE9BQU8sRUFBUSxHQUFNLENBQUcsQ0FBQyxDQUNqRCxDQUFDLEVBR00sR0FBUSxDQUNYLEVBQVMsR0FDVCxPQUFTLEdBQUksRUFBRyxFQUFJLEVBQVksT0FBUSxJQUNwQyxPQUFTLEdBQUssRUFBSSxFQUFHLEVBQUssRUFBWSxPQUFRLElBSTFDLEdBQUksQUFIYyxFQUFZLEdBQUcsT0FBTyxTQUFVLEVBQUcsQ0FDakQsTUFBTyxHQUFZLEdBQUksUUFBUSxDQUFDLElBQU0sRUFDMUMsQ0FBQyxFQUNhLE9BQVEsQ0FDbEIsRUFBWSxHQUFLLEVBQVksR0FBRyxPQUFPLEVBQVksRUFBRyxFQUN0RCxFQUFZLE9BQU8sRUFBSSxDQUFDLEVBQ3hCLEVBQVMsR0FDVCxLQUNKLENBR1osQ0FHQSxTQUFZLFFBQVEsU0FBVSxFQUFZLENBQ3RDLEVBQWEsRUFBVyxPQUFPLFNBQVUsRUFBRyxFQUFHLEVBQU0sQ0FDakQsTUFBTyxHQUFLLFFBQVEsQ0FBQyxJQUFNLENBQy9CLENBQUMsRUFDRCxHQUFNLEdBQVksRUFBVyxJQUFJLEVBQ2pDLEFBQUksSUFBYyxRQUFhLE1BQU8sSUFBYyxVQUNoRCxHQUFTLEdBQWEsRUFFOUIsQ0FBQyxFQUNNLENBQ1gsQ0FJQSxZQUFtQixFQUFNLENBQ3JCLE1BQU8sS0FBUyxPQUFZLEVBQU8sRUFBSSxDQUMzQyxDQUdBLFlBQXFCLEVBQUssQ0FDdEIsTUFBSSxLQUFRLFlBQ0QsY0FDSixDQUNYLENBQ0EsWUFBcUIsRUFBSyxDQUN0QixNQUFRLE9BQU8sSUFBUSxVQUNsQixHQUFJLEtBQU8sS0FBTyxFQUFJLEtBQU8sTUFDOUIsRUFBSSxFQUFJLE9BQVMsS0FBTyxFQUFJLEdBQzFCLEVBQUksVUFBVSxFQUFHLEVBQUksT0FBUyxDQUFDLEVBQy9CLENBQ1YsQ0p2Z0NBLG1DQWJBLEFBUUEsR0FBSSxJQUFJLEdBQUksR0FRTixHQUFrQixTQUFXLFFBQVEsS0FBTyxRQUFRLElBQUksdUJBQ3hELE9BQU8sUUFBUSxJQUFJLHNCQUFzQixFQUN6QyxHQUNBLEdBQWUsSUFBTSxJQUFLLFNBQVksS0FBNkIsT0FBUyxRQUFRLFlBQWMsTUFBUSxLQUFPLE9BQVMsT0FBUyxHQUFHLFFBQVUsTUFBUSxLQUFPLE9BQVMsR0FBTSxJQUFLLFNBQVksS0FBNkIsT0FBUyxRQUFRLFdBQWEsTUFBUSxLQUFPLE9BQVMsT0FBUyxHQUFHLE1BQU0sQ0FBQyxFQUMzUyxHQUFJLElBRUksQUFEVSxPQUFPLEdBQVksTUFBTSxVQUFVLEVBQUUsRUFBRSxFQUN6QyxHQUNSLEtBQU0sT0FBTSxzREFBc0Qsc0dBQWtILEVBSTVMLEdBQU0sSUFBTSxRQUFVLFFBQVEsSUFBTSxDQUFDLEVBQy9CLEdBQVMsR0FBSSxJQUFZLENBQzNCLElBQUssUUFBUSxJQUNiLElBQUssSUFDTSxHQUVYLFVBQ0EsYUFDQSxXQUdBLFFBQVMsQUFBQyxHQUFTLENBQ2YsR0FBSSxNQUFPLElBQVksSUFDbkIsTUFBTyxJQUFRLEdBRWQsR0FBSSxFQUFLLE1BQU0sU0FBUyxFQUV6QixNQUFPLE1BQUssTUFBTSxHQUFhLEVBQU0sTUFBTSxDQUFDLEVBRzVDLEtBQU0sT0FBTSw4Q0FBOEMsQ0FFbEUsQ0FDSixDQUFDLEVBQ0ssR0FBYyxTQUFnQixFQUFNLEVBQU0sQ0FFNUMsTUFBTyxBQURRLElBQU8sTUFBTSxFQUFLLE1BQU0sRUFBRyxDQUFJLEVBQ2hDLElBQ2xCLEVBQ0EsR0FBWSxTQUFXLFNBQVUsRUFBTSxFQUFNLENBQ3pDLE1BQU8sSUFBTyxNQUFNLEVBQUssTUFBTSxFQUFHLENBQUksQ0FDMUMsRUFDQSxHQUFZLFVBQVksR0FDeEIsR0FBWSxXQUFhLEdBQ3pCLEdBQVksZ0JBQWtCLEdBQzlCLEdBQU8sSUFBUSxHTHBEZiwwRlVUQSxhQUFrQyxDQUM5QixNQUFJLElBQXFCLEVBQ2QsRUFDSixDQUNYLENBQ0EsYUFBZ0MsQ0FDNUIsTUFBTyxJQUFjLEdBQUssQ0FBQyxRQUFRLFVBQ3ZDLENBQ0EsYUFBeUIsQ0FDckIsTUFBTyxDQUFDLENBQUMsUUFBUSxTQUFTLFFBQzlCLENBQ08sWUFBaUIsRUFBTSxDQUMxQixNQUFPLEdBQUssTUFBTSxHQUF1QixFQUFJLENBQUMsQ0FDbEQsQ0FDTyxhQUE2QixDQUNoQyxNQUFPLFNBQVEsS0FBSyxHQUF1QixFQUMvQyxDQ2hCTyxHQUFNLEdBQU4sYUFBcUIsTUFBTSxDQUM5QixZQUFZLEVBQUssQ0FDYixNQUFNLEdBQU8sYUFBYSxFQUMxQixLQUFLLEtBQU8sU0FDUixNQUFNLG1CQUNOLE1BQU0sa0JBQWtCLEtBQU0sQ0FBTSxDQUU1QyxDQUNKLEVDUkEsa0VBQ0EsK0JBQ0EsZ0NBQ0EsR0FBTyxJQUFRLENBQ1gsR0FBSSxDQUNBLGdCQUNBLFlBQ0osRUFDQSxVQUNBLFdBQ0EsT0FBUSxBQUFDLEdBQVMsQ0FDZCxHQUFJLENBQ0EsTUFBTyxJQUFTLENBQUksRUFBRSxPQUFPLENBQ2pDLE1BQ0EsQ0FDSSxNQUFPLEVBQ1gsQ0FDSixDQUNKLEVDbEJBLEdBQUksSUFDRSxHQUFOLEtBQVcsQ0FDUCxZQUFZLEVBQU0sQ0FFZCxFQUFPLEdBQVEsQ0FBQyxFQUNoQixLQUFLLFVBQVksRUFBSyxXQUFhLFlBQ25DLEtBQUssWUFBYyxNQUFPLEdBQUssYUFBZ0IsVUFBWSxFQUFLLFlBQWMsR0FDOUUsS0FBSyxPQUFTLEVBQUssUUFBVSxLQUM3QixLQUFLLG1CQUFxQixNQUFPLEdBQUssb0JBQXVCLFVBQVksRUFBSyxtQkFBcUIsR0FFbkcsS0FBSyxNQUFRLE9BQU8sT0FBTyxJQUFJLEVBQy9CLEtBQUssV0FBYSxDQUFDLENBQ3ZCLENBQ0EsTUFBTSxFQUFNLENBQ1IsR0FBSSxNQUFPLFdBQVUsSUFBTyxTQUN4QixNQUFPLE1BQUssZUFBZSxVQUFVLEdBQUksR0FBRyxTQUFTLEVBRXpELEdBQU0sR0FBTSxFQUFLLE1BQU0sRUFDbkIsRUFBSyxVQUFZLENBQUUsRUFDdkIsTUFBSSxPQUFPLEdBQUssRUFBSyxPQUFTLElBQU8sWUFDakMsR0FBSyxFQUFLLElBQUksR0FDbEIsRUFBSyxHQUFNLFVBQVksQ0FBRSxFQUNwQixLQUFLLE1BQU0sS0FBSyxTQUNqQixLQUFLLGdCQUFnQixFQUV6QixBQUFJLENBQUMsS0FBSyxNQUFNLEtBQUssUUFBUSxJQUFRLEtBQUssWUFDdEMsTUFBSyxNQUFNLEtBQUssUUFBUSxHQUFPLEVBSS9CLEtBQUssY0FBYyxDQUNmLFVBQVcsS0FBSyxVQUNoQixPQUFRLEtBQUssT0FDYixJQUNKLENBQUMsR0FHRCxFQUFHLEVBRUEsR0FBSyxPQUFPLE1BQU0sR0FBSyxPQUFRLENBQUMsS0FBSyxNQUFNLEtBQUssUUFBUSxJQUFRLENBQUcsRUFBRSxPQUFPLENBQUksQ0FBQyxDQUM1RixDQUNBLEtBQU0sQ0FDRixHQUFNLEdBQU8sTUFBTSxVQUFVLE1BQU0sS0FBSyxTQUFTLEVBQzNDLEVBQVcsRUFBSyxNQUFNLEVBQ3RCLEVBQVMsRUFBSyxNQUFNLEVBQ3BCLEVBQVcsRUFBSyxNQUFNLEVBQ3hCLEVBQUssVUFBWSxDQUFFLEVBQ3ZCLEFBQUksTUFBTyxHQUFLLEVBQUssT0FBUyxJQUFPLFlBQ2pDLEdBQUssRUFBSyxJQUFJLEdBQ2IsS0FBSyxNQUFNLEtBQUssU0FDakIsS0FBSyxnQkFBZ0IsRUFDekIsR0FBSSxHQUFNLElBQWEsRUFBSSxFQUFXLEVBQ3RDLEFBQUksS0FBSyxNQUFNLEtBQUssUUFBUSxJQUV4QixHQUFNLEFBRFEsS0FBSyxNQUFNLEtBQUssUUFBUSxHQUMxQixJQUFhLEVBQUksTUFBUSxVQUd6QyxBQUFJLENBQUMsS0FBSyxNQUFNLEtBQUssUUFBUSxJQUFhLEtBQUssWUFDM0MsTUFBSyxNQUFNLEtBQUssUUFBUSxHQUFZLENBQ2hDLElBQUssRUFDTCxNQUFPLENBQ1gsRUFJQSxLQUFLLGNBQWMsQ0FDZixVQUFXLEtBQUssVUFDaEIsT0FBUSxLQUFLLE9BQ2IsSUFDSixDQUFDLEdBR0QsRUFBRyxFQUlQLEdBQU0sR0FBUyxDQUFDLENBQUcsRUFDbkIsTUFBSSxDQUFDLEVBQUksUUFBUSxJQUFJLEdBQ2pCLEVBQU8sS0FBSyxDQUFRLEVBQ2pCLEdBQUssT0FBTyxNQUFNLEdBQUssT0FBUSxFQUFPLE9BQU8sQ0FBSSxDQUFDLENBQzdELENBQ0EsVUFBVSxFQUFRLENBQ2QsS0FBSyxPQUFTLENBQ2xCLENBQ0EsV0FBWSxDQUNSLE1BQU8sTUFBSyxNQUNoQixDQUNBLGFBQWEsRUFBSyxDQUNkLEFBQUssS0FBSyxNQUFNLEtBQUssU0FDakIsS0FBSyxnQkFBZ0IsRUFDekIsT0FBVyxLQUFPLEdBQ2QsQUFBSSxPQUFPLFVBQVUsZUFBZSxLQUFLLEVBQUssQ0FBRyxHQUM3QyxNQUFLLE1BQU0sS0FBSyxRQUFRLEdBQU8sRUFBSSxHQUcvQyxDQUNBLGVBQWUsS0FBVSxFQUFNLENBQzNCLEdBQUksR0FBTSxHQUNWLFNBQU0sUUFBUSxTQUFVLEVBQU0sRUFBRyxDQUM3QixHQUFNLEdBQU0sRUFBSyxFQUFJLEdBQ3JCLEdBQU8sRUFDSCxNQUFPLEdBQVEsS0FDZixJQUFPLEtBRWYsQ0FBQyxFQUNNLEtBQUssR0FBRyxNQUFNLEtBQU0sQ0FBQyxDQUFHLEVBQUUsT0FBTyxDQUFDLEVBQUUsTUFBTSxLQUFLLEVBQU0sQ0FBQyxDQUFDLENBQUMsQ0FDbkUsQ0FDQSxjQUFjLEVBQU0sQ0FDaEIsS0FBSyxXQUFXLEtBQUssQ0FBSSxFQUNyQixLQUFLLFdBQVcsU0FBVyxHQUMzQixLQUFLLG1CQUFtQixDQUNoQyxDQUNBLG9CQUFxQixDQUNqQixHQUFNLEdBQVEsS0FDUixFQUFPLEtBQUssV0FBVyxHQUV2QixFQUFZLEVBQUssVUFDakIsRUFBUyxFQUFLLE9BQ2QsRUFBSyxFQUFLLEdBQ1YsRUFBZSxLQUFLLG1CQUFtQixFQUFXLENBQU0sRUFDeEQsRUFBbUIsS0FBSyxVQUFVLEtBQUssTUFBTSxHQUFTLEtBQU0sQ0FBQyxFQUNuRSxHQUFLLEdBQUcsVUFBVSxFQUFjLEVBQWtCLFFBQVMsU0FBVSxFQUFLLENBQ3RFLEVBQU0sV0FBVyxNQUFNLEVBQ25CLEVBQU0sV0FBVyxPQUFTLEdBQzFCLEVBQU0sbUJBQW1CLEVBQzdCLEVBQUcsQ0FBRyxDQUNWLENBQUMsQ0FDTCxDQUNBLGlCQUFrQixDQUNkLEdBQUksR0FBZSxDQUFDLEVBQ2QsRUFBZSxLQUFLLG1CQUFtQixLQUFLLFVBQVcsS0FBSyxNQUFNLEVBQ3hFLEdBQUksQ0FFQSxBQUFJLEdBQUssR0FBRyxjQUNSLEdBQWUsS0FBSyxNQUFNLEdBQUssR0FBRyxhQUFhLEVBQWMsT0FBTyxDQUFDLEVBRTdFLE9BQ08sRUFBUCxDQUlJLEdBSEksWUFBZSxjQUNmLEdBQUksUUFBVSxtQkFBcUIsR0FFbkMsRUFBSSxPQUFTLFNBQ2IsRUFBZSxDQUFDLE1BRWhCLE1BQU0sRUFDZCxDQUNBLEtBQUssTUFBTSxLQUFLLFFBQVUsQ0FDOUIsQ0FDQSxtQkFBbUIsRUFBVyxFQUFRLENBQ2xDLEdBQUksR0FBTyxHQUFLLFFBQVEsRUFBVyxLQUFNLEVBQVMsT0FBTyxFQUN6RCxHQUFJLEtBQUssb0JBQXNCLENBQUMsS0FBSyxnQkFBZ0IsQ0FBSSxHQUFLLENBQUMsRUFBTyxZQUFZLEdBQUcsRUFBRyxDQUVwRixHQUFNLEdBQWUsR0FBSyxRQUFRLEVBQVcsS0FBTSxFQUFPLE1BQU0sR0FBRyxFQUFFLEdBQUssT0FBTyxFQUNqRixBQUFJLEtBQUssZ0JBQWdCLENBQVksR0FDakMsR0FBTyxFQUNmLENBQ0EsTUFBTyxFQUNYLENBQ0EsZ0JBQWdCLEVBQU0sQ0FDbEIsTUFBTyxJQUFLLE9BQU8sQ0FBSSxDQUMzQixDQUNKLEVBQ08sWUFBYyxFQUFNLEVBQU8sQ0FDOUIsR0FBTyxFQUNQLEdBQU0sR0FBTyxHQUFJLElBQUssQ0FBSSxFQUMxQixNQUFPLENBQ0gsR0FBSSxFQUFLLEdBQUcsS0FBSyxDQUFJLEVBQ3JCLElBQUssRUFBSyxJQUFJLEtBQUssQ0FBSSxFQUN2QixVQUFXLEVBQUssVUFBVSxLQUFLLENBQUksRUFDbkMsVUFBVyxFQUFLLFVBQVUsS0FBSyxDQUFJLEVBQ25DLGFBQWMsRUFBSyxhQUFhLEtBQUssQ0FBSSxFQUN6QyxPQUFRLEVBQUssTUFDakIsQ0FDSixDQzFLQSxHQUFNLElBQU8sQUFBQyxHQUNMLEdBQU0sRUFBTSxFQUFJLEVBR2xCLEdBQVEsR2RPZixHQUFNLElBQWdCLGtDQUNoQixHQUEwQiwrREFFNUIsR0FDSixHQUFJLENBQ0YsR0FBWSxHQUFjLFlBQVksR0FBRyxDQUMzQyxNQUFFLENBQ0EsR0FBWSxRQUFRLElBQUksQ0FDMUIsQ0FDQSxHQUFNLElBQWUsR0FBVSxVQUFVLEVBQUcsR0FBVSxZQUFZLGNBQWMsQ0FBQyxFQUUxRSxHQUFRLENBQ2IsT0FBUSxDQUNOLGtCQUNBLGNBQ0YsRUFDQSxTQUNBLE9BQVEsR0FDUixPQUFRLEFBQUMsR0FDQSxRQUFRLElBQUksR0FFckIsV0FDQSxjQUFlLElBQU0sQ0FDbkIsS0FBTSxJQUFJLEdBQU8sRUFBdUIsQ0FDMUMsRUFDQSxxQkFDQSxhQUFjLElBQWdCLFFBQVEsSUFBSSxFQUMxQyxVQUNBLEtBQU0sQ0FDSixZQUNBLFdBQ0EsV0FDQSxZQUNBLFVBQ0YsRUFDQSxRQUFTLENBQ1AsS0FBTSxJQUFNLFFBQVEsS0FDcEIsSUFBSyxRQUFRLElBQ2IsWUFBYSxDQUFDLEVBQVMsSUFBUyxRQUFRLFlBQVksRUFBUyxDQUFJLEVBQ2pFLFNBQVUsSUFBTSxRQUFRLFNBQ3hCLEtBQU0sUUFBUSxLQUNkLFNBQVUsUUFBUSxTQUNsQixXQUFZLE1BQU8sU0FBUSxPQUFPLFFBQVksSUFBYyxRQUFRLE9BQU8sUUFBVSxJQUN2RixFQUNBLGdCQUNBLFFBQVMsSUFBTSxDQUNiLEtBQU0sSUFBSSxHQUFPLEVBQWEsQ0FDaEMsRUFDQSxpQkFBa0IsSUFBTSxDQUN0QixLQUFNLElBQUksR0FBTyxFQUF1QixDQUMxQyxFQUNBLFlBQWEsQUFBQyxHQUNMLENBQUMsR0FBRyxDQUFHLEVBQUUsT0FFbEIsS0FBTSxHQUFLLENBQ1QsVUFBVyxHQUFRLEdBQVcsa0JBQWtCLEVBQ2hELFlBQWEsRUFDZixDQUFDLENBQ0gsRWV4RU8sWUFBOEIsRUFBUSxFQUFVLEVBQU0sRUFBUyxDQUNsRSxFQUFLLE9BQU8sZUFBZSxFQUFRLEVBQVUsQ0FBTyxDQUN4RCxDQUNPLFlBQXlCLEVBQVEsRUFBTSxDQUMxQyxFQUFLLE9BQU8sWUFBWSxNQUFPLEdBQVEsUUFBUSxDQUNuRCxDQUNPLFlBQW9CLEVBQVEsQ0FDL0IsTUFBTyxRQUFPLEtBQUssQ0FBTSxDQUM3QixDQ1JPLFdBQW1CLEVBQWMsQ0FDcEMsTUFBUSxDQUFDLENBQUMsR0FDTixDQUFDLENBQUMsRUFBYSxNQUNmLE1BQU8sR0FBYSxNQUFTLFVBQ3JDLENDSk8sWUFBc0IsRUFBSyxDQUU5QixHQUFNLEdBQWUsQUFEYyxFQUFJLFFBQVEsVUFBVyxHQUFHLEVBQ2IsTUFBTSxzQkFBc0IsRUFDdEUsRUFBUyxjQUNULEVBQWUsRUFBYSxNQUFNLEVBQ3hDLEdBQUksQ0FBQyxFQUNELEtBQU0sSUFBSSxPQUFNLHdCQUF3QixHQUFLLEVBQ2pELEdBQU0sR0FBZ0IsQ0FDbEIsSUFBSyxFQUFhLFFBQVEsRUFBUSxFQUFFLEVBQ3BDLFNBQVUsQ0FBQyxFQUNYLFNBQVUsQ0FBQyxDQUNmLEVBQ0EsU0FBYSxRQUFRLENBQUMsRUFBSyxJQUFNLENBQzdCLEdBQUksR0FBVyxHQUNmLEVBQU0sRUFBSSxRQUFRLE1BQU8sRUFBRSxFQUN2QixXQUFXLEtBQUssQ0FBRyxHQUFLLElBQU0sRUFBYSxPQUFTLEdBQ3BELEdBQVcsSUFDZixBQUFJLE1BQU0sS0FBSyxDQUFHLEVBQ2QsRUFBYyxTQUFTLEtBQUssQ0FDeEIsSUFBSyxFQUFJLFFBQVEsRUFBUSxFQUFFLEVBQUUsTUFBTSxHQUFHLEVBQ3RDLFVBQ0osQ0FBQyxFQUdELEVBQWMsU0FBUyxLQUFLLENBQ3hCLElBQUssRUFBSSxRQUFRLEVBQVEsRUFBRSxFQUFFLE1BQU0sR0FBRyxFQUN0QyxVQUNKLENBQUMsQ0FFVCxDQUFDLEVBQ00sQ0FDWCxDQzdCQSxHQUFNLElBQWUsQ0FBQyxRQUFTLFNBQVUsUUFBUyxTQUFVLFFBQVMsT0FBTyxFQUNyRSxXQUFpQixFQUFNLEVBQU0sRUFBTSxDQUN0QyxZQUFxQixDQUNqQixNQUFPLE9BQU8sSUFBUyxTQUNqQixDQUFDLENBQUUsU0FBVSxDQUFDLEVBQUcsU0FBVSxDQUFDLENBQUUsRUFBRyxFQUFNLENBQUksRUFDM0MsQ0FDRSxHQUFhLE9BQU8sR0FBTSxFQUMxQixFQUNBLENBQ0osQ0FDUixDQUNBLEdBQUksQ0FDQSxHQUFJLEdBQVcsRUFDVCxDQUFDLEVBQVEsRUFBaUIsR0FBVyxFQUFVLEVBQy9DLEVBQU8sQ0FBQyxFQUFFLE1BQU0sS0FBSyxDQUFlLEVBQzFDLEtBQU8sRUFBSyxRQUFVLEVBQUssRUFBSyxPQUFTLEtBQU8sUUFDNUMsRUFBSyxJQUFJLEVBQ2IsR0FBTSxHQUFTLEdBQVcsRUFBSyxPQUMvQixHQUFJLEVBQVMsRUFBTyxTQUFTLE9BQ3pCLEtBQU0sSUFBSSxHQUFPLDJDQUEyQyxFQUFPLFNBQVMsdUJBQXVCLEVBQUssU0FBUyxFQUVySCxHQUFNLEdBQWdCLEVBQU8sU0FBUyxPQUFTLEVBQU8sU0FBUyxPQUMvRCxHQUFJLEVBQVMsRUFDVCxLQUFNLElBQUksR0FBTyw2Q0FBNkMsa0JBQThCLElBQVMsRUFFekcsRUFBTyxTQUFTLFFBQVEsR0FBWSxDQUNoQyxHQUFNLEdBQU0sRUFBSyxNQUFNLEVBQ2pCLEVBQWUsR0FBVSxDQUFHLEVBRWxDLEFBQUksQUFEa0IsRUFBUyxJQUFJLE9BQU8sR0FBUSxJQUFTLEdBQWdCLElBQVMsR0FBRyxFQUNyRSxTQUFXLEdBQ3pCLEdBQWtCLEVBQWMsRUFBUyxJQUFLLENBQVEsRUFDMUQsR0FBWSxDQUNoQixDQUFDLEVBQ0QsRUFBTyxTQUFTLFFBQVEsR0FBWSxDQUNoQyxHQUFJLEVBQUssU0FBVyxFQUNoQixPQUNKLEdBQU0sR0FBTSxFQUFLLE1BQU0sRUFDakIsRUFBZSxHQUFVLENBQUcsRUFFbEMsQUFBSSxBQURrQixFQUFTLElBQUksT0FBTyxHQUFRLElBQVMsR0FBZ0IsSUFBUyxHQUFHLEVBQ3JFLFNBQVcsR0FDekIsR0FBa0IsRUFBYyxFQUFTLElBQUssQ0FBUSxFQUMxRCxHQUFZLENBQ2hCLENBQUMsQ0FDTCxPQUNPLEVBQVAsQ0FDSSxRQUFRLEtBQUssRUFBSSxLQUFLLENBQzFCLENBQ0osQ0FDQSxZQUFtQixFQUFLLENBQ3BCLE1BQUksT0FBTSxRQUFRLENBQUcsRUFDVixRQUVGLElBQVEsS0FDTixPQUVKLE1BQU8sRUFDbEIsQ0FDQSxZQUEyQixFQUFjLEVBQWMsRUFBVSxDQUM3RCxLQUFNLElBQUksR0FBTyxXQUFXLEdBQWEsSUFBYSxnQ0FBZ0MsRUFBYSxLQUFLLE1BQU0sa0JBQWtCLElBQWUsQ0FDbkosQ0MzRE8sR0FBTSxJQUFOLEtBQXVCLENBQzFCLFlBQVksRUFBTyxDQUNmLEtBQUssaUJBQW1CLENBQUMsRUFDekIsS0FBSyxRQUFVLENBQUMsRUFDaEIsS0FBSyxNQUFRLENBQ2pCLENBQ0EsY0FBYyxFQUFVLEVBQXVCLEVBQVMsR0FBTSxFQUFVLEdBQU8sQ0FFM0UsR0FEQSxFQUFRLGlEQUFrRCxDQUFDLEVBQVUsRUFBdUIsQ0FBTSxFQUFHLFVBQVUsTUFBTSxFQUNqSCxNQUFNLFFBQVEsQ0FBUSxFQUFHLENBQ3pCLE9BQVMsR0FBSSxFQUFHLEVBQUksRUFBUyxPQUFRLElBQUssQ0FDdEMsR0FBSSxNQUFPLEdBQVMsSUFBTyxXQUN2QixLQUFNLE9BQU0sK0JBQStCLEVBRS9DLEdBQU0sR0FBSSxFQUFTLEdBQ25CLEVBQUUsc0JBQXdCLEVBQzFCLEVBQUUsT0FBUyxDQUNmLENBQ0EsTUFBTSxVQUFVLEtBQUssTUFBTSxLQUFLLGlCQUFrQixDQUFRLENBQzlELFNBQ1MsTUFBTyxJQUFhLFdBQVksQ0FDckMsR0FBTSxHQUFJLEVBQ1YsRUFBRSxzQkFBd0IsRUFDMUIsRUFBRSxPQUFTLEVBQ1gsRUFBRSxRQUFVLEVBQ1osS0FBSyxpQkFBaUIsS0FBSyxDQUFRLENBQ3ZDLENBQ0EsTUFBTyxNQUFLLEtBQ2hCLENBQ0Esb0JBQW9CLEVBQVUsRUFBUSxDQUNsQyxHQUFNLEdBQVUsS0FBSyxNQUFNLFdBQVcsRUFDdEMsWUFBSyxpQkFBbUIsS0FBSyxpQkFBaUIsT0FBTyxHQUFLLENBQ3RELEdBQU0sR0FBVSxDQUFDLEdBQUksRUFBUSxJQUFXLENBQUMsRUFBSSxDQUFNLEVBQ25ELE1BQUssR0FBRSxPQUdJLENBQUMsRUFBUSxTQUFTLEVBQUUsTUFBTSxFQUYxQixFQUdmLENBQUMsRUFDRCxFQUFTLE9BQVMsRUFDWCxLQUFLLGNBQWMsRUFBVSxHQUFNLEdBQU0sRUFBSSxDQUN4RCxDQUNBLGVBQWdCLENBQ1osTUFBTyxNQUFLLGdCQUNoQixDQUNBLFFBQVMsQ0FDTCxLQUFLLFFBQVEsS0FBSyxDQUFDLEdBQUcsS0FBSyxnQkFBZ0IsQ0FBQyxDQUNoRCxDQUNBLFVBQVcsQ0FDUCxHQUFNLEdBQVMsS0FBSyxRQUFRLElBQUksRUFDaEMsQUFBSSxJQUFXLFFBQ1gsTUFBSyxpQkFBbUIsRUFDaEMsQ0FDQSxPQUFRLENBQ0osS0FBSyxpQkFBbUIsS0FBSyxpQkFBaUIsT0FBTyxHQUFLLEVBQUUsTUFBTSxDQUN0RSxDQUNKLEVBQ08sWUFBa0MsRUFBbUIsQ0FDeEQsTUFBSyxHQUVFLEVBQWtCLElBQUksR0FDekIsR0FBVyxzQkFBd0IsR0FDNUIsRUFDVixFQUpVLENBQUMsQ0FLaEIsQ0FDTyxZQUF5QixFQUFNLEVBQU8sRUFBYSxFQUFrQixDQUN4RSxNQUFPLEdBQVksT0FBTyxDQUFDLEVBQUssSUFBZSxDQUMzQyxHQUFJLEVBQVcsd0JBQTBCLEVBQ3JDLE1BQU8sR0FFWCxHQUFJLEVBQVcsUUFBUyxDQUNwQixHQUFJLEVBQVcsUUFDWCxNQUFPLEdBQ1gsRUFBVyxRQUFVLEVBQ3pCLENBQ0EsR0FBSSxFQUFVLENBQUcsRUFDYixNQUFPLEdBQ0YsS0FBSyxHQUFjLFFBQVEsSUFBSSxDQUFDLEVBQVksRUFBVyxFQUFZLENBQUssQ0FBQyxDQUFDLENBQUMsRUFDM0UsS0FBSyxDQUFDLENBQUMsRUFBWSxLQUFtQixPQUFPLE9BQU8sRUFBWSxDQUFhLENBQUMsRUFFbEYsQ0FDRCxHQUFNLEdBQVMsRUFBVyxFQUFLLENBQUssRUFDcEMsTUFBTyxHQUFVLENBQU0sRUFDakIsRUFBTyxLQUFLLEdBQWlCLE9BQU8sT0FBTyxFQUFLLENBQWEsQ0FBQyxFQUM5RCxPQUFPLE9BQU8sRUFBSyxDQUFNLENBQ25DLENBQ0osRUFBRyxDQUFJLENBQ1gsQ0N0Rk8sWUFBMEIsRUFBVyxFQUFlLEVBQWUsQUFBQyxHQUFRLENBQy9FLEtBQU0sRUFDVixFQUFHLENBQ0MsR0FBSSxDQUNBLEdBQU0sR0FBUyxHQUFXLENBQVMsRUFBSSxFQUFVLEVBQUksRUFDckQsTUFBTyxHQUFVLENBQU0sRUFDakIsRUFBTyxLQUFLLEFBQUMsR0FBVyxFQUFjLENBQU0sQ0FBQyxFQUM3QyxFQUFjLENBQU0sQ0FDOUIsT0FDTyxFQUFQLENBQ0ksTUFBTyxHQUFhLENBQUcsQ0FDM0IsQ0FDSixDQUNBLFlBQW9CLEVBQUssQ0FDckIsTUFBTyxPQUFPLElBQVEsVUFDMUIsQ0NoQmUsWUFBcUIsRUFBVSxDQUMxQyxHQUFJLE1BQU8sSUFBWSxJQUNuQixNQUFPLE1BQ1gsT0FBUyxHQUFJLEVBQUcsRUFBUSxPQUFPLEtBQUssR0FBUSxLQUFLLEVBQUcsRUFBSyxFQUFJLEVBQU0sT0FBUSxJQUV2RSxHQURBLEVBQU0sR0FBUSxNQUFNLEVBQU0sSUFDdEIsRUFBSSxVQUFZLEVBQ2hCLE1BQU8sR0FFZixNQUFPLEtBQ1gsQ0NGQSxHQUFNLElBQWlCLGVBQ1YsR0FBTixLQUFzQixDQUN6QixZQUFZLEVBQU8sRUFBWSxFQUFrQixFQUFNLENBQ25ELEtBQUssYUFBZSxHQUFJLEtBQ3hCLEtBQUssU0FBVyxDQUFDLEVBQ2pCLEtBQUssU0FBVyxDQUFDLEVBQ2pCLEtBQUssUUFBVSxDQUFDLEVBQ2hCLEtBQUssS0FBTyxFQUNaLEtBQUssTUFBUSxFQUNiLEtBQUssaUJBQW1CLEVBQ3hCLEtBQUssV0FBYSxDQUN0QixDQUNBLGFBQWEsRUFBSyxFQUFLLEVBQVksRUFBTSxDQUNyQyxFQUFPLEdBQVEsQ0FBQyxFQUNaLE1BQU8sR0FBSyxTQUFZLFdBQ3hCLEdBQUssUUFBVSxJQUNkLE1BQU0sUUFBUSxFQUFLLFVBQVUsR0FDOUIsR0FBSyxXQUFhLENBQUMsSUFBSSxHQUMzQixHQUFNLEdBQWMsTUFBTyxHQUFLLE9BQVUsV0FBYSxFQUFLLE1BQVEsQUFBQyxHQUFNLEVBQzNFLEVBQUssTUFBUSxDQUFDLEVBQUssRUFBUSxJQUFhLENBQ3BDLEdBQU0sR0FBVSxFQUFZLEVBQUssRUFBUSxDQUFRLEVBQ2pELEdBQUksRUFBUyxDQUNULEdBQUksS0FBSyxhQUFhLElBQUksQ0FBTSxFQUM1QixNQUFPLEdBRVAsS0FBSyxhQUFhLElBQUksQ0FBTSxFQUNoQyxLQUFLLFdBQVcsQ0FBTyxDQUMzQixDQUNBLE1BQU8sRUFDWCxFQUNBLEtBQUssS0FBSyxpQkFBaUIsQ0FBRSxRQUFTLEVBQUssU0FBVSxDQUFXLEVBQUcsRUFBSyxDQUFJLENBQ2hGLENBQ0EsV0FBVyxFQUFLLEVBQWEsRUFBUyxFQUFTLEVBQW1CLEVBQVksQ0FDMUUsR0FBSSxHQUFVLENBQUMsRUFDVCxFQUFjLEdBQXlCLENBQWlCLEVBRTlELEdBREEsRUFBVSxHQUFZLEtBQU0sQ0FBRSxHQUMxQixNQUFNLFFBQVEsQ0FBRyxFQUNqQixHQUFJLEdBQW9CLENBQUcsRUFDdkIsQ0FBQyxFQUFLLEdBQUcsQ0FBTyxFQUFJLE1BR3BCLFFBQVcsS0FBVyxHQUNsQixLQUFLLFdBQVcsQ0FBTyxVQUkxQixHQUEyQixDQUFHLEVBQUcsQ0FDdEMsR0FBSSxHQUFVLE1BQU0sUUFBUSxFQUFJLE9BQU8sR0FBSyxNQUFPLEdBQUksU0FBWSxTQUM3RCxFQUFJLFFBQ0osS0FBSyxXQUFXLENBQUcsRUFDekIsQUFBSSxFQUFJLFNBQ0osR0FBVSxDQUFDLEVBQUUsT0FBTyxDQUFPLEVBQUUsT0FBTyxFQUFJLE9BQU8sR0FDbkQsS0FBSyxXQUFXLEVBQVMsS0FBSyxZQUFZLENBQUcsRUFBRyxFQUFJLFFBQVMsRUFBSSxRQUFTLEVBQUksWUFBYSxFQUFJLFVBQVUsRUFDekcsTUFDSixTQUNTLEdBQTJCLENBQU8sRUFBRyxDQUMxQyxLQUFLLFdBQVcsQ0FBQyxDQUFHLEVBQUUsT0FBTyxDQUFPLEVBQUcsRUFBYSxFQUFRLFFBQVMsRUFBUSxRQUFTLEVBQVEsWUFBYSxFQUFRLFVBQVUsRUFDN0gsTUFDSixDQUNBLEdBQUksTUFBTyxJQUFRLFNBQVUsQ0FDekIsR0FBTSxHQUFnQixHQUFhLENBQUcsRUFDdEMsRUFBVSxFQUFRLElBQUksR0FBUyxHQUFhLENBQUssRUFBRSxHQUFHLEVBQ3RELEdBQUksR0FBWSxHQUNWLEVBQWdCLENBQUMsRUFBYyxHQUFHLEVBQUUsT0FBTyxDQUFPLEVBQUUsT0FBTyxHQUN6RCxHQUFlLEtBQUssQ0FBQyxFQUNyQixHQUFZLEdBQ0wsSUFFSixFQUNWLEVBQ0QsQUFBSSxFQUFjLFNBQVcsR0FBSyxHQUM5QixFQUFjLEtBQUssSUFBSSxFQUN2QixHQUNBLEdBQWMsSUFBTSxFQUFjLEdBQ2xDLEVBQVUsRUFBYyxNQUFNLENBQUMsRUFDL0IsRUFBTSxFQUFJLFFBQVEsR0FBZ0IsRUFBYyxHQUFHLEdBRXZELEVBQVEsUUFBUSxHQUFTLENBQ3JCLEtBQUssU0FBUyxHQUFTLEVBQWMsR0FDekMsQ0FBQyxFQUNHLElBQWdCLElBQ2hCLEtBQUssTUFBTSxRQUFRLEVBQUssRUFBYSxFQUFXLEVBQVMsQ0FBVSxFQUV2RSxLQUFLLFNBQVMsRUFBYyxLQUFPLENBQy9CLFNBQVUsRUFDVixjQUNBLFVBQ0EsUUFBUyxHQUFXLENBQUMsRUFDckIsY0FDQSxhQUNBLFNBQVUsRUFBYyxTQUN4QixTQUFVLEVBQWMsUUFDNUIsRUFDSSxHQUNBLE1BQUssZUFBaUIsS0FBSyxTQUFTLEVBQWMsS0FDMUQsQ0FDSixDQUNBLG9CQUFxQixDQUNqQixNQUFPLE1BQUssUUFDaEIsQ0FDQSxhQUFjLENBQ1YsTUFBTyxRQUFPLEtBQUssS0FBSyxRQUFRLEVBQUUsT0FBTyxPQUFPLEtBQUssS0FBSyxRQUFRLENBQUMsQ0FDdkUsQ0FDQSxtQkFBb0IsQ0FDaEIsTUFBTyxDQUFDLENBQUMsS0FBSyxjQUNsQixDQUNBLFdBQVcsRUFBUyxFQUFPLEVBQVEsRUFBYyxFQUFVLEVBQWtCLENBQ3pFLEdBQU0sR0FBaUIsS0FBSyxTQUFTLElBQ2pDLEtBQUssU0FBUyxLQUFLLFNBQVMsS0FDNUIsS0FBSyxlQUNILEVBQWlCLEVBQU0sbUJBQW1CLEVBQUUsV0FBVyxFQUN2RCxFQUFpQixFQUFlLFNBQVMsTUFBTSxFQUMvQyxFQUFtQixDQUFDLEVBQzFCLEFBQUksR0FDQSxHQUFlLFNBQVMsS0FBSyxDQUFPLEVBQ3BDLEVBQWUsYUFBYSxLQUFLLEVBQWUsUUFBUSxHQUU1RCxHQUFNLEdBQWdCLEtBQUssZ0NBQWdDLEVBQWtCLEVBQWdCLEVBQU8sRUFBTyxRQUFTLEVBQWdCLEVBQWMsRUFBVSxDQUFnQixFQUM1SyxNQUFPLEdBQVUsQ0FBYSxFQUN4QixFQUFjLEtBQUssR0FBVSxLQUFLLDRCQUE0QixFQUFrQixFQUFnQixFQUFPLFVBQVcsRUFBZ0IsRUFBVSxFQUFPLFFBQVMsQ0FBSyxDQUFDLEVBQ2xLLEtBQUssNEJBQTRCLEVBQWtCLEVBQWdCLEVBQWMsVUFBVyxFQUFnQixFQUFVLEVBQWMsUUFBUyxDQUFLLENBQzVKLENBQ0EsZ0NBQWdDLEVBQWtCLEVBQWdCLEVBQU8sRUFBUyxFQUFnQixFQUFjLEVBQVUsRUFBa0IsQ0FDeEksR0FBTSxHQUFVLEVBQWUsUUFDM0IsRUFBYSxFQUNqQixHQUFJLEdBQXlCLENBQU8sRUFBRyxDQUNuQyxFQUFNLG1CQUFtQixFQUFFLGlCQUFpQixFQUFFLE9BQU8sRUFDckQsR0FBTSxHQUFnQixFQUFRLEVBQU0sbUJBQW1CLEVBQUUsTUFBTSxDQUFPLEVBQUcsQ0FBZ0IsRUFDekYsR0FBSSxFQUFVLENBQWEsRUFDdkIsTUFBTyxHQUFjLEtBQUssR0FDdEIsR0FBYSxHQUFnQixDQUFNLEVBQUksRUFBUyxFQUN6QyxLQUFLLG9CQUFvQixFQUFrQixFQUFnQixFQUFZLEVBQWdCLEVBQWMsQ0FBUSxFQUN2SCxDQUVULEtBQ0ssQUFBSSxJQUFrQyxDQUFPLEdBQzlDLEdBQU0sbUJBQW1CLEVBQUUsaUJBQWlCLEVBQUUsT0FBTyxFQUNyRCxFQUFhLEVBQU0sbUJBQW1CLEVBQUUsTUFBTSxDQUFPLEVBQ3JELE9BQU8sS0FBSyxFQUFlLE9BQU8sRUFBRSxRQUFRLEdBQU8sQ0FDL0MsRUFBVyxPQUFPLEVBQUssRUFBUSxFQUFJLENBQ3ZDLENBQUMsR0FFTCxNQUFPLE1BQUssb0JBQW9CLEVBQWtCLEVBQWdCLEVBQVksRUFBZ0IsRUFBYyxDQUFRLENBQ3hILENBQ0Esb0JBQW9CLEVBQWtCLEVBQWdCLEVBQVksRUFBZ0IsRUFBYyxFQUFVLENBQ3RHLEFBQUksR0FDQSxFQUFXLG1CQUFtQixFQUFFLGlCQUFpQixFQUFFLFNBQVMsRUFBSSxFQUNoRSxLQUFLLGtCQUFrQixDQUFVLEdBQ2pDLEVBQ0ssbUJBQW1CLEVBQ25CLGlCQUFpQixFQUNqQixNQUFNLEtBQUssc0NBQXNDLEVBQWdCLENBQWMsRUFBRyxFQUFlLFdBQVcsRUFFckgsR0FBTSxHQUFZLEVBQ2IsbUJBQW1CLEVBQ25CLGlDQUFpQyxLQUFNLE9BQVcsR0FBTSxFQUFjLENBQVEsRUFDbkYsTUFBTyxHQUFVLENBQVMsRUFDcEIsRUFBVSxLQUFLLEdBQVMsRUFDdEIsUUFBUyxFQUFXLE9BQU8sUUFDM0IsVUFBVyxDQUNmLEVBQUUsRUFDQSxDQUNFLFFBQVMsRUFBVyxPQUFPLFFBQzNCLFVBQVcsQ0FDZixDQUNSLENBQ0Esa0JBQWtCLEVBQU8sQ0FDckIsTUFBUSxDQUFDLEVBQU0sbUJBQW1CLEVBQUUsaUJBQWlCLEVBQUUsaUJBQWlCLEdBQ3BFLEVBQU0sbUJBQW1CLEVBQUUsaUJBQWlCLEVBQUUsU0FBUyxFQUFFLFNBQVcsQ0FDNUUsQ0FDQSxzQ0FBc0MsRUFBZ0IsRUFBZ0IsQ0FDbEUsR0FBTSxHQUFJLEdBQWUsS0FBSyxFQUFlLFFBQVEsRUFDL0MsRUFBZSxTQUFTLFFBQVEsR0FBZ0IsRUFBRSxFQUFFLEtBQUssRUFDekQsRUFBZSxTQUNmLEVBQUssRUFBZSxPQUFPLEdBQ3RCLENBQUMsR0FBZSxLQUFLLENBQUMsQ0FDaEMsRUFDRCxTQUFHLEtBQUssQ0FBQyxFQUNGLE1BQU0sRUFBRyxLQUFLLEdBQUcsR0FDNUIsQ0FDQSw2QkFBNkIsRUFBa0IsRUFBZ0IsRUFBVyxFQUFnQixFQUFTLEVBQU8sRUFBYSxFQUFlLENBQ2xJLEdBQUksQ0FBQyxFQUFNLG1CQUFtQixFQUFFLGFBQWEsRUFBRyxDQUM1QyxHQUFNLEdBQWEsRUFDZCxtQkFBbUIsRUFDbkIsY0FBYyxFQUFTLEVBQWUsRUFBTSxPQUFPLE1BQU8sQ0FBZ0IsRUFDL0UsRUFBWSxHQUFpQixFQUFXLEdBQ3BDLEdBQVcsQ0FBTSxFQUNWLEVBQ1YsQ0FDTCxDQUNBLEdBQUksRUFBZSxTQUFXLENBQUMsRUFBTSxtQkFBbUIsRUFBRSxhQUFhLEVBQUcsQ0FDdEUsRUFBTSxtQkFBbUIsRUFBRSxhQUFhLEVBQ3hDLEdBQU0sR0FBcUIsQ0FBQyxDQUFDLEVBQU0sV0FBVyxFQUFFLGNBQWMsY0FDOUQsRUFDSyxtQkFBbUIsRUFDbkIsWUFBWSxFQUFXLEVBQW9CLEdBQU8sRUFBSyxFQUM1RCxFQUFZLEdBQWdCLEVBQVcsRUFBTyxFQUFhLEVBQUssRUFDaEUsRUFBWSxHQUFpQixFQUFXLEdBQVUsQ0FDOUMsR0FBTSxHQUFnQixFQUFlLFFBQVEsQ0FBTSxFQUNuRCxNQUFPLEdBQVUsQ0FBYSxFQUN4QixFQUFjLEtBQUssSUFBTSxDQUFNLEVBQy9CLENBQ1YsQ0FBQyxFQUNJLEdBQ0QsRUFBTSxtQkFBbUIsRUFBRSxpQkFBaUIsRUFBRSxpQkFBaUIsRUFFL0QsRUFBVSxDQUFTLEdBQ25CLENBQUMsRUFBTSxtQkFBbUIsRUFBRSxpQkFBaUIsR0FDN0MsRUFBVSxNQUFNLEdBQVMsQ0FDckIsR0FBSSxDQUNBLEVBQU0sbUJBQW1CLEVBQUUsaUJBQWlCLEVBQUUsS0FBSyxLQUFNLENBQUssQ0FDbEUsTUFDQSxDQUNBLENBQ0osQ0FBQyxDQUVULENBQ0EsTUFBSyxJQUNELEdBQWUsU0FBUyxJQUFJLEVBQzVCLEVBQWUsYUFBYSxJQUFJLEdBRTdCLENBQ1gsQ0FDQSw0QkFBNEIsRUFBa0IsRUFBZ0IsRUFBVyxFQUFnQixFQUFVLEVBQVMsRUFBTyxDQUMvRyxHQUFJLEdBQWdCLENBQUMsRUFDckIsR0FBSSxFQUNBLE1BQU8sR0FDWCxBQUFLLEVBQU0sbUJBQW1CLEVBQUUsYUFBYSxHQUN6QyxHQUFnQixLQUFLLG9CQUFvQixFQUFnQixFQUFXLEVBQWdCLENBQUssR0FFN0YsR0FBTSxHQUFjLEtBQUssaUJBQ3BCLGNBQWMsRUFDZCxNQUFNLENBQUMsRUFDUCxPQUFPLEVBQWUsV0FBVyxFQUNoQyxFQUFtQixHQUFnQixFQUFXLEVBQU8sRUFBYSxFQUFJLEVBQzVFLE1BQU8sR0FBVSxDQUFnQixFQUMzQixFQUFpQixLQUFLLEdBQXFCLEtBQUssNkJBQTZCLEVBQWtCLEVBQWdCLEVBQW1CLEVBQWdCLEVBQVMsRUFBTyxFQUFhLENBQWEsQ0FBQyxFQUM3TCxLQUFLLDZCQUE2QixFQUFrQixFQUFnQixFQUFrQixFQUFnQixFQUFTLEVBQU8sRUFBYSxDQUFhLENBQzFKLENBQ0Esb0JBQW9CLEVBQWdCLEVBQU0sRUFBUyxFQUFPLENBQ3RELEVBQUssRUFBSSxFQUFLLEVBQUUsTUFBTSxFQUFRLFNBQVMsTUFBTSxFQUM3QyxHQUFNLEdBQVcsRUFBZSxTQUFTLE1BQU0sQ0FBQyxFQUMxQyxFQUFXLEVBQWUsU0FBUyxNQUFNLENBQUMsRUFDMUMsRUFBZ0IsQ0FBQyxFQUV2QixJQURBLEtBQUssV0FBVyxnQkFBZ0IsRUFBUyxPQUFRLEVBQUssRUFBRSxNQUFNLEVBQ3ZELEVBQVMsUUFBUSxDQUNwQixHQUFNLEdBQVMsRUFBUyxNQUFNLEVBQzlCLEtBQUssbUJBQW1CLEVBQVEsRUFBTSxDQUFhLENBQ3ZELENBQ0EsS0FBTyxFQUFTLFFBQVEsQ0FDcEIsR0FBTSxHQUFRLEVBQVMsTUFBTSxFQUM3QixLQUFLLG1CQUFtQixFQUFPLEVBQU0sQ0FBYSxDQUN0RCxDQUNBLFNBQUssRUFBSSxFQUFRLFNBQVMsT0FBTyxFQUFLLEVBQUUsSUFBSSxHQUFLLEdBQUssQ0FBQyxDQUFDLEVBQ3hELEtBQUssdUJBQXVCLEVBQU0sRUFBZSxLQUFLLGtCQUFrQixFQUFlLFFBQVEsRUFBRyxDQUFLLEVBQ2hHLENBQ1gsQ0FDQSxtQkFBbUIsRUFBWSxFQUFNLEVBQWUsQ0FDaEQsR0FBTSxHQUFNLEVBQVcsSUFBSSxHQUMzQixBQUFJLEVBQVcsU0FDWCxFQUFjLEdBQU8sRUFBSyxFQUFFLE9BQU8sQ0FBQyxFQUFFLElBQUksTUFBTSxFQUc1QyxFQUFLLEVBQUUsUUFDUCxHQUFjLEdBQU8sQ0FBQyxPQUFPLEVBQUssRUFBRSxNQUFNLENBQUMsQ0FBQyxFQUV4RCxDQUNBLGtCQUFrQixFQUFXLENBQ3pCLEdBQU0sR0FBZSxDQUNqQixNQUFPLENBQUMsRUFDUixRQUFTLENBQUMsRUFDVixNQUFPLENBQUMsRUFDUixPQUFRLENBQUMsQ0FDYixFQUNNLEVBQVMsR0FBYSxDQUFTLEVBQ3JDLFNBQU8sU0FBUyxRQUFRLEdBQUssQ0FDekIsR0FBTSxDQUFDLEtBQVEsR0FBVyxFQUFFLElBQzVCLEFBQUksRUFBRSxVQUNGLEdBQWEsTUFBTSxLQUFLLENBQUcsRUFDM0IsRUFBYSxRQUFRLEdBQU8sQ0FBQyxHQUVqQyxFQUFhLE1BQU0sR0FBTyxFQUMxQixFQUFhLE9BQU8sR0FBTyxFQUMvQixDQUFDLEVBQ0QsRUFBTyxTQUFTLFFBQVEsR0FBSyxDQUN6QixHQUFNLENBQUMsS0FBUSxHQUFXLEVBQUUsSUFDNUIsQUFBSSxFQUFFLFVBQ0YsR0FBYSxNQUFNLEtBQUssQ0FBRyxFQUMzQixFQUFhLFFBQVEsR0FBTyxDQUFDLEdBRWpDLEVBQWEsTUFBTSxHQUFPLENBQzlCLENBQUMsRUFDTSxDQUNYLENBQ0EsdUJBQXVCLEVBQU0sRUFBZSxFQUFjLEVBQU8sQ0FDN0QsR0FBTSxHQUFVLE9BQU8sT0FBTyxDQUFDLEVBQUcsRUFBTSxXQUFXLENBQUMsRUFDcEQsRUFBUSxRQUFVLE9BQU8sT0FBTyxFQUFhLFFBQVMsRUFBUSxPQUFPLEVBQ3JFLE9BQVcsS0FBTyxRQUFPLEtBQUssRUFBYSxLQUFLLEVBQzVDLEVBQVEsTUFBTSxHQUFRLEdBQVEsTUFBTSxJQUFRLENBQUMsR0FBRyxPQUFPLEVBQWEsTUFBTSxFQUFJLEVBRWxGLEVBQVEsTUFBUSxFQUFRLE1BQU0sT0FBTyxFQUFhLEtBQUssRUFDdkQsRUFBUSxPQUFTLENBQUMsRUFDbEIsR0FBTSxHQUFXLENBQUMsRUFTbEIsR0FSQSxPQUFPLEtBQUssQ0FBYSxFQUFFLFFBQVEsR0FBTyxDQUN0QyxFQUFjLEdBQUssSUFBSSxHQUFTLENBQzVCLEFBQUksRUFBUSxjQUFjLDRCQUN0QixHQUFRLElBQUksR0FBTyxJQUN2QixFQUFTLEtBQUssS0FBSyxHQUFLLEVBQ3hCLEVBQVMsS0FBSyxDQUFLLENBQ3ZCLENBQUMsQ0FDTCxDQUFDLEVBQ0csQ0FBQyxFQUFTLE9BQ1YsT0FDSixHQUFNLEdBQVMsT0FBTyxPQUFPLENBQUMsRUFBRyxFQUFRLGNBQWUsQ0FDcEQsYUFBYyxFQUNsQixDQUFDLEVBQ0ssRUFBUyxLQUFLLEtBQUssT0FBTyxTQUFTLEVBQVUsT0FBTyxPQUFPLENBQUMsRUFBRyxFQUFTLENBQzFFLGNBQWUsQ0FDbkIsQ0FBQyxDQUFDLEVBQ0YsR0FBSSxFQUFPLE1BQ1AsRUFDSyxtQkFBbUIsRUFDbkIsaUJBQWlCLEVBQ2pCLEtBQUssRUFBTyxNQUFNLFFBQVMsRUFBTyxLQUFLLE1BRTNDLENBQ0QsR0FBTSxHQUFpQixPQUFPLEtBQUssQ0FBYSxFQUNoRCxPQUFPLEtBQUssQ0FBYSxFQUFFLFFBQVEsR0FBTyxDQUN0QyxFQUFlLEtBQUssR0FBRyxFQUFPLFFBQVEsRUFBSSxDQUM5QyxDQUFDLEVBQ0QsT0FBTyxLQUFLLEVBQU8sSUFBSSxFQUFFLFFBQVEsR0FBTyxDQUNwQyxBQUFJLEVBQWUsU0FBUyxDQUFHLEdBQ3RCLEdBQWMsSUFDZixHQUFjLEdBQU8sRUFBTyxLQUFLLElBQ3JDLEFBQUksQ0FBQyxLQUFLLFlBQVksRUFBTyxDQUFHLEdBQzVCLENBQUMsS0FBSyxZQUFZLEVBQU8sQ0FBRyxHQUM1QixPQUFPLFVBQVUsZUFBZSxLQUFLLEVBQU0sQ0FBRyxHQUM5QyxPQUFPLFVBQVUsZUFBZSxLQUFLLEVBQU8sS0FBTSxDQUFHLEdBQ3BELE9BQU0sUUFBUSxFQUFLLEVBQUksR0FBSyxNQUFNLFFBQVEsRUFBTyxLQUFLLEVBQUksR0FDM0QsRUFBSyxHQUFPLENBQUMsRUFBRSxPQUFPLEVBQUssR0FBTSxFQUFPLEtBQUssRUFBSSxFQUdqRCxFQUFLLEdBQU8sRUFBTyxLQUFLLEdBR3BDLENBQUMsQ0FDTCxDQUNKLENBQ0EsWUFBWSxFQUFPLEVBQUssQ0FDcEIsR0FBTSxDQUFFLFFBQVMsR0FBYSxFQUFNLFdBQVcsRUFDL0MsTUFBUSxRQUFPLFVBQVUsZUFBZSxLQUFLLEVBQVUsQ0FBRyxHQUN0RCxPQUFPLFVBQVUsZUFBZSxLQUFLLEVBQVUsS0FBSyxLQUFLLE9BQU8sVUFBVSxDQUFHLENBQUMsQ0FDdEYsQ0FDQSxZQUFZLEVBQU8sRUFBSyxDQUNwQixHQUFNLENBQUUsaUJBQWtCLEVBQU0sV0FBVyxFQUMzQyxNQUFRLEdBQWMsS0FBSyxHQUFLLE9BQU8sVUFBVSxlQUFlLEtBQUssRUFBRyxDQUFHLENBQUMsR0FDeEUsRUFBYyxLQUFLLEdBQUssT0FBTyxVQUFVLGVBQWUsS0FBSyxFQUFHLEtBQUssS0FBSyxPQUFPLFVBQVUsQ0FBRyxDQUFDLENBQUMsQ0FDeEcsQ0FDQSxvQkFBb0IsRUFBTyxDQUN2QixHQUFJLENBQUMsS0FBSyxlQUNOLE9BQ0osR0FBSSxLQUFLLGtCQUFrQixDQUFLLEVBQUcsQ0FDL0IsR0FBTSxHQUFnQixHQUFlLEtBQUssS0FBSyxlQUFlLFFBQVEsRUFDaEUsS0FBSyxlQUFlLFNBQ3BCLEtBQUssZUFBZSxTQUFTLFFBQVEsYUFBYyxLQUFLLEVBQzlELEVBQ0ssbUJBQW1CLEVBQ25CLGlCQUFpQixFQUNqQixNQUFNLEVBQWUsS0FBSyxlQUFlLFdBQVcsQ0FDN0QsQ0FDQSxHQUFNLEdBQVUsS0FBSyxlQUFlLFFBQ3BDLEdBQUksR0FBeUIsQ0FBTyxFQUNoQyxNQUFPLEdBQVEsRUFBTyxFQUFJLEVBRXpCLEFBQUssR0FBMkIsQ0FBTyxHQUN4QyxPQUFPLEtBQUssQ0FBTyxFQUFFLFFBQVEsR0FBTyxDQUNoQyxFQUFNLE9BQU8sRUFBSyxFQUFRLEVBQUksQ0FDbEMsQ0FBQyxDQUdULENBQ0EsV0FBVyxFQUFLLENBQ1osR0FBTSxHQUFNLEdBQVksQ0FBRyxFQUMzQixHQUFJLENBQUMsRUFDRCxLQUFNLElBQUksT0FBTSxxQ0FBcUMsS0FBSyxLQUFLLFFBQVEsQ0FBRyxHQUFHLEVBQ2pGLE1BQU8sTUFBSyxvQkFBb0IsRUFBSSxRQUFRLENBQ2hELENBQ0Esb0JBQW9CLEVBQVUsQ0FDMUIsTUFBTyxNQUFLLEtBQUssS0FBSyxTQUFTLEVBQVUsS0FBSyxLQUFLLEtBQUssUUFBUSxDQUFRLENBQUMsQ0FDN0UsQ0FDQSxZQUFZLENBQUUsV0FBVSxjQUFhLFFBQVEsQ0FDekMsT0FBVyxLQUFRLENBQUMsRUFBVSxFQUFhLENBQUksRUFBRyxDQUM5QyxHQUFJLE1BQU8sSUFBUyxVQUFZLElBQVMsR0FDckMsTUFBTyxHQUNYLEdBQXFCLEVBQU0sR0FBTSxLQUFLLElBQUksQ0FDOUMsQ0FDQSxNQUFPLEVBQ1gsQ0FDQSxRQUFTLENBQ0wsS0FBSyxRQUFRLEtBQUssQ0FDZCxTQUFVLEtBQUssU0FDZixTQUFVLEtBQUssU0FDZixlQUFnQixLQUFLLGNBQ3pCLENBQUMsQ0FDTCxDQUNBLFVBQVcsQ0FDUCxHQUFNLEdBQVMsS0FBSyxRQUFRLElBQUksRUFDaEMsR0FBcUIsRUFBUSxPQUFXLEtBQUssSUFBSSxFQUNoRCxDQUNHLFNBQVUsS0FBSyxTQUNmLFNBQVUsS0FBSyxTQUNmLGVBQWdCLEtBQUssY0FDekIsRUFBSSxDQUNSLENBQ0EsT0FBUSxDQUNKLFlBQUssU0FBVyxDQUFDLEVBQ2pCLEtBQUssU0FBVyxDQUFDLEVBQ2pCLEtBQUssZUFBaUIsT0FDdEIsS0FBSyxhQUFlLEdBQUksS0FDakIsSUFDWCxDQUNKLEVBQ08sWUFBaUIsRUFBTyxFQUFZLEVBQWtCLEVBQU0sQ0FDL0QsTUFBTyxJQUFJLElBQWdCLEVBQU8sRUFBWSxFQUFrQixDQUFJLENBQ3hFLENBQ08sWUFBb0MsRUFBUyxDQUNoRCxNQUFRLE9BQU8sSUFBWSxVQUN2QixDQUFDLENBQUMsRUFBUSxTQUNWLE1BQU8sR0FBUSxTQUFZLFVBQ25DLENBQ0EsWUFBNkIsRUFBSyxDQUM5QixNQUFPLEdBQUksTUFBTSxHQUFLLE1BQU8sSUFBTSxRQUFRLENBQy9DLENBQ08sWUFBa0MsRUFBUyxDQUM5QyxNQUFPLE9BQU8sSUFBWSxVQUM5QixDQUNBLFlBQTJDLEVBQVMsQ0FDaEQsTUFBTyxPQUFPLElBQVksUUFDOUIsQ0FDTyxZQUFvQyxFQUFLLENBQzVDLE1BQU8sT0FBTyxJQUFRLFVBQVksQ0FBQyxNQUFNLFFBQVEsQ0FBRyxDQUN4RCxDQy9iTyxZQUFtQixFQUFXLENBQUMsRUFBRyxFQUFTLElBQU0sR0FBTSxDQUMxRCxHQUFNLEdBQU0sQ0FBQyxFQUNiLFVBQVcsQ0FBUSxFQUFFLFFBQVEsR0FBTyxDQUNoQyxBQUFJLEVBQU8sRUFBSyxFQUFTLEVBQUksR0FDekIsR0FBSSxHQUFPLEVBQVMsR0FFNUIsQ0FBQyxFQUNNLENBQ1gsQ0NUZSxZQUFxQixFQUFVLENBQzFDLEFBQUksTUFBTyxTQUFZLEtBRXZCLENBQUMsUUFBUSxPQUFRLFFBQVEsTUFBTSxFQUFFLFFBQVEsR0FBVyxDQUNoRCxHQUFNLEdBQVMsRUFDZixBQUFJLEVBQU8sU0FDUCxFQUFPLE9BQ1AsTUFBTyxHQUFPLFFBQVEsYUFBZ0IsWUFDdEMsRUFBTyxRQUFRLFlBQVksQ0FBUSxDQUUzQyxDQUFDLENBQ0wsQ0NSQSxZQUFtQixFQUFNLENBQ3JCLE1BQU8sT0FBTyxJQUFTLFNBQzNCLENBQ08sWUFBZSxFQUFPLEVBQU0sQ0FDL0IsR0FBTSxHQUFLLEVBQUssS0FBSyxHQUNmLEVBQU8sQ0FBQyxFQUNSLEVBQVEsQ0FBQyxFQUNmLEVBQUssT0FBUyxTQUFnQixFQUFHLENBQzdCLEVBQU0sS0FBSyxDQUFDLENBQ2hCLEVBQ0EsR0FBSSxHQUFjLEtBQ2QsRUFBb0IsS0FDcEIsRUFBaUIsR0FDckIsRUFBSyxlQUFpQixTQUEwQixFQUFPLEdBQU0sRUFBTSxDQUMvRCxHQUFNLENBQUMsRUFBUyxHQUFXLE1BQU8sSUFBUyxTQUFXLENBQUMsR0FBTSxDQUFJLEVBQUksQ0FBQyxFQUFNLENBQUksRUFDaEYsTUFBSSxHQUFNLG1CQUFtQixFQUFFLGdCQUFnQixHQUMzQyxHQUFvQixHQUV4QixFQUFjLEVBQ2QsRUFBaUIsRUFDVixDQUNYLEVBQ0EsR0FBSSxHQUFnQixHQUNwQixFQUFLLEtBQU8sU0FBYyxFQUFLLEVBQUssQ0FDaEMsR0FBTSxHQUFTLEVBQU0sbUJBQW1CLEVBQUUsa0JBQWtCLEVBQzVELEdBQUksRUFBTSxPQUNOLE9BQVMsR0FBSSxFQUFNLE9BQVMsRUFBRyxHQUFLLEVBQUcsRUFBRSxFQUFHLENBQ3hDLEdBQU0sSUFBTyxFQUFNLEdBQ25CLEdBQUksR0FBVSxFQUFJLEVBQUcsQ0FDakIsR0FBSSxFQUNBLEtBQU0sR0FDTCxHQUFJLEVBQ0wsS0FBTSxPQUFNLENBQUcsQ0FDdkIsS0FFSSxJQUFLLEVBQUssRUFBSyxDQUFJLENBRTNCLEtBRUMsQ0FHRCxHQUZJLEVBQU0sZUFBZSxHQUNyQixHQUFZLEVBQUksRUFDaEIsQ0FBQyxFQUFlLENBQ2hCLEVBQWdCLEdBQ1osR0FDQSxHQUFNLFNBQVMsT0FBTyxFQUN0QixFQUFPLE1BQU0sR0FFYixJQUFPLElBQ1AsRUFBTyxNQUFNLEdBQU8sQ0FBRyxFQUMzQixHQUFNLEdBQTZCLEdBQWUsRUFDbEQsQUFBSSxHQUNJLEtBQU8sSUFDUCxFQUFPLE1BQU0sRUFBRSxFQUNuQixFQUFPLE1BQU0sQ0FBMEIsRUFFL0MsQ0FFQSxHQURBLEVBQU0sR0FBTyxHQUFJLEdBQU8sQ0FBRyxFQUN2QixFQUFNLGVBQWUsRUFDckIsTUFBTyxHQUFNLEtBQUssQ0FBQyxFQUVsQixHQUFJLEVBQU0sbUJBQW1CLEVBQUUsaUJBQWlCLEVBQ2pELE1BQU8sR0FBTSxLQUFLLEVBQUcsQ0FBRyxFQUd4QixLQUFNLEVBRWQsQ0FDSixFQUNBLEdBQUksR0FBUyxDQUFDLEVBQ1YsRUFBZ0IsR0FDcEIsRUFBSyxNQUFRLENBQUMsRUFBSyxJQUNYLElBQVEsS0FDUixHQUFnQixHQUNoQixFQUFTLENBQUMsRUFDSCxHQUVYLEdBQWdCLEdBQ2hCLEVBQU8sS0FBSyxDQUFDLEVBQUssR0FBZSxFQUFFLENBQUMsRUFDN0IsR0FFWCxFQUFLLFNBQVcsSUFDTCxFQUVYLEVBQUssaUJBQW1CLElBQ2IsRUFFWCxFQUFLLHVCQUF5QixJQUNuQixFQUFHLGNBQWMsRUFFNUIsR0FBSSxHQUFXLENBQUMsRUFDaEIsRUFBSyxRQUFVLENBQUMsRUFBSyxJQUFnQixDQUNqQyxFQUFTLEtBQUssQ0FBQyxFQUFLLEdBQWUsRUFBRSxDQUFDLENBQzFDLEVBQ0EsR0FBSSxHQUFXLENBQUMsRUFDaEIsRUFBSyxRQUFVLFNBQWlCLEVBQUssRUFBYSxFQUFXLEVBQVMsR0FBYSxHQUFPLENBQ3RGLEFBQUksR0FDQSxHQUFXLEVBQVMsSUFBSSxHQUNwQixHQUFTLEdBQUssR0FDUCxFQUNWLEdBRUwsRUFBUyxLQUFLLENBQUMsRUFBSyxHQUFlLEdBQUksRUFBVyxFQUFTLEVBQVUsQ0FBQyxDQUMxRSxFQUNBLEVBQUssWUFBYyxJQUFNLEVBQ3pCLEdBQUksR0FBZSxDQUFDLEVBQ3BCLEVBQUssU0FBVyxTQUFrQixFQUFXLEVBQU0sQ0FDL0MsQUFBSSxNQUFNLFFBQVEsQ0FBUyxFQUN2QixFQUFVLFFBQVEsR0FBSyxDQUNuQixFQUFLLFNBQVMsRUFBRyxDQUFJLENBQ3pCLENBQUMsRUFFQSxBQUFJLE1BQU8sSUFBYyxTQUMxQixPQUFPLEtBQUssQ0FBUyxFQUFFLFFBQVEsR0FBSyxDQUNoQyxFQUFLLFNBQVMsRUFBRyxFQUFVLEVBQUUsQ0FDakMsQ0FBQyxFQUdELEVBQWEsR0FBYSxDQUVsQyxFQUNBLEVBQUssZ0JBQWtCLElBQU0sRUFDN0IsR0FBSSxHQUFVLENBQUMsRUFDZixFQUFLLE9BQVMsR0FBTyxDQUNqQixFQUFRLEtBQUssQ0FBRyxDQUNwQixFQUNBLEdBQUksR0FBVSxHQUNWLEVBQ0osRUFBSyxLQUFPLEdBQVEsQ0FDaEIsRUFBVSxHQUNWLEVBQU8sQ0FDWCxFQUNBLEVBQUssUUFBVSxJQUNQLEVBQUssT0FBTyxvQkFBb0IsRUFDekIsS0FFTixJQUNELEdBQU8sR0FBWSxFQUNuQixFQUFVLElBRVAsR0FFWCxHQUFNLEdBQXdCLG1CQUM5QixFQUFLLGdCQUFrQixHQUFPLEVBQXdCLEVBQ3RELEVBQUssS0FBTyxVQUFnQixDQUN4QixHQUFJLEVBQ0EsTUFBTyxHQUNYLEVBQWlCLEVBQ2pCLEdBQU0sR0FBUyxFQUFNLGlCQUNmLEVBQU0sR0FDTixFQUFLLEtBQUssU0FBUyxFQUFNLEVBQUUsRUFDM0IsRUFBa0IsRUFBTSxtQkFBbUIsRUFDM0MsRUFBbUIsRUFBTSxvQkFBb0IsRUFDN0MsRUFBb0IsRUFBTSxxQkFBcUIsRUFDL0MsR0FBUyxFQUFNLFVBQVUsRUFDekIsRUFBVSxFQUFNLFdBQVcsRUFDN0IsR0FBTyxDQUFDLEVBQ1osR0FBTyxHQUFLLE9BQU8sT0FBTyxLQUFLLENBQVksQ0FBQyxFQUM1QyxHQUFPLEdBQUssT0FBTyxPQUFPLEtBQUssQ0FBZSxDQUFDLEVBQy9DLEdBQU8sR0FBSyxPQUFPLE9BQU8sS0FBSyxDQUFnQixDQUFDLEVBQ2hELEdBQU8sR0FBSyxPQUFPLE9BQU8sS0FBSyxFQUFRLE9BQU8sQ0FBQyxFQUMvQyxHQUFPLEdBQUssT0FBTyxFQUFtQixFQUN0QyxHQUFPLE9BQU8sS0FBSyxHQUFLLE9BQU8sQ0FBQyxFQUFLLElBQzdCLEtBQVEsS0FDUixHQUFJLEdBQU8sSUFDUixHQUNSLENBQUMsQ0FBQyxDQUFDLEVBQ04sR0FBTSxJQUFVLEVBQUssUUFBUSxFQUN2QixFQUFLLEVBQUssTUFBTSxDQUNsQixNQUFPLEdBQ1AsS0FBTSxDQUFDLENBQUMsRUFDWixDQUFDLEVBQ0QsR0FBSSxDQUFDLEdBQ0QsR0FBSSxFQUFPLE9BQ1AsRUFBTyxRQUFRLEdBQVMsQ0FDcEIsRUFBRyxJQUFJLENBQUUsS0FBTSxHQUFHLEVBQU0sR0FBRyxRQUFRLE9BQVEsQ0FBTSxHQUFJLENBQUMsRUFDbEQsRUFBTSxJQUNOLEVBQUcsSUFBSSxDQUFFLEtBQU0sR0FBRyxFQUFNLEtBQU0sUUFBUyxDQUFDLEVBQUcsRUFBRyxFQUFHLENBQUMsQ0FBRSxDQUFDLENBRTdELENBQUMsRUFDRCxFQUFHLElBQUksVUFFRixFQUFTLE9BQVEsQ0FDdEIsR0FBSSxHQUFJLEtBQ1IsQUFBSSxFQUFpQixFQUNqQixFQUFJLEdBQUcsTUFBVyxFQUFHLFNBQVM7QUFBQSxFQUc5QixFQUFJLEdBQUcsTUFBVyxFQUFHLFNBQVM7QUFBQSxFQUVsQyxFQUFHLElBQUksR0FBRyxHQUFHLENBQ2pCLEVBRUosR0FBSSxFQUFTLE9BQVMsR0FBTSxFQUFTLFNBQVcsR0FBSyxDQUFDLEVBQVMsR0FBRyxHQUFLLENBQ25FLEVBQUcsSUFBSSxFQUFHLFdBQVcsQ0FBQyxFQUN0QixHQUFNLEdBQVUsRUFBTSxtQkFBbUIsRUFBRSxXQUFXLEVBQ2hELEVBQWlCLEVBQVEsU0FBUyxPQUNsQyxHQUFHLEVBQVEsU0FBUyxLQUFLLEdBQUcsS0FDNUIsR0FDTixBQUFJLEVBQU0sbUJBQW1CLEVBQUUsdUJBQXVCLEVBQUUsbUJBQ3BELElBQ0EsR0FBVyxFQUFTLEtBQUssQ0FBQyxFQUFHLElBQU0sRUFBRSxHQUFHLGNBQWMsRUFBRSxFQUFFLENBQUMsR0FFL0QsR0FBTSxHQUFTLEVBQVMsR0FBRyxLQUFZLEdBQ3ZDLEVBQVMsUUFBUSxHQUFXLENBQ3hCLEdBQU0sR0FBZ0IsR0FBRyxJQUFTLElBQWlCLEVBQVEsR0FBRyxRQUFRLFNBQVUsRUFBRSxJQUNsRixFQUFHLEtBQUssQ0FDSixLQUFNLEVBQ04sUUFBUyxDQUFDLEVBQUcsRUFBRyxFQUFHLENBQUMsRUFDcEIsTUFBTyxFQUFTLEVBQVUsR0FBUyxHQUFHLElBQVMsR0FBZ0IsRUFBSSxDQUN2RSxFQUFHLENBQUUsS0FBTSxFQUFRLEVBQUcsQ0FBQyxFQUN2QixHQUFNLEdBQVEsQ0FBQyxFQUNmLEFBQUksRUFBUSxJQUNSLEVBQU0sS0FBSyxJQUFJLEVBQUcsU0FBUyxJQUFJLEVBQy9CLEVBQVEsSUFBTSxFQUFRLEdBQUcsUUFDekIsRUFBTSxLQUFLLElBQUksRUFBRyxVQUFVLEtBQUssRUFBUSxHQUFHLEtBQUssSUFBSSxJQUFJLEVBRXpELEVBQVEsSUFDUixDQUFJLE1BQU8sR0FBUSxJQUFPLFNBQ3RCLEVBQU0sS0FBSyxJQUFJLEVBQUcsaUJBQWtCLEVBQVEsRUFBRSxJQUFJLEVBR2xELEVBQU0sS0FBSyxJQUFJLEVBQUcsWUFBWSxJQUFJLEdBRzFDLEFBQUksRUFBTSxPQUNOLEVBQUcsSUFBSSxDQUNILEtBQU0sRUFBTSxLQUFLLEdBQUcsRUFDcEIsUUFBUyxDQUFDLEVBQUcsRUFBRyxFQUFHLENBQUMsRUFDcEIsTUFBTyxPQUNYLENBQUMsRUFHRCxFQUFHLElBQUksQ0FFZixDQUFDLEVBQ0QsRUFBRyxJQUFJLENBQ1gsQ0FDQSxHQUFNLElBQWEsUUFBTyxLQUFLLEVBQVEsS0FBSyxHQUFLLENBQUMsR0FBRyxPQUFPLE9BQU8sS0FBSyxFQUFNLE9BQU8sVUFBVSxHQUFLLENBQUMsQ0FBQyxFQUN0RyxHQUFPLEdBQUssT0FBTyxHQUFPLENBQUMsRUFBTSxPQUFPLFdBQVcsSUFDL0MsR0FBVSxNQUFNLEdBQVUsR0FBUSxNQUFNLElBQVUsQ0FBQyxHQUFHLFFBQVEsQ0FBRyxJQUFNLEVBQUUsQ0FBQyxFQUM5RSxHQUFNLElBQWUsRUFBRyxVQUFVLEVBQ2xDLEFBQUssR0FBTyxLQUNSLElBQU8sSUFBZ0IsQ0FBQyxHQUM1QixFQUFpQixHQUFNLEVBQVEsTUFBTyxHQUFRLEVBQVksRUFDMUQsR0FBTSxJQUFlLEFBQUMsR0FBTyxNQUFNLEtBQUssR0FBUSxDQUFFLENBQUMsRUFDN0MsRUFBa0IsT0FBTyxLQUFLLEVBQU0sRUFDckMsT0FBTyxHQUFhLEdBQU8sR0FBVyxPQUFTLENBQUMsRUFDaEQsSUFBSSxHQUFhLENBQ2xCLEdBQU0sR0FBaUIsR0FBTyxHQUN6QixPQUFPLEVBQW1CLEVBQzFCLElBQUksR0FBTyxDQUNaLEdBQUksR0FBVSxTQUFTLENBQUcsRUFDdEIsTUFBTyxHQUNYLE9BQVMsR0FBSSxFQUFHLEVBQVcsR0FBVyxHQUFVLE1BQVEsT0FBVyxJQUMvRCxHQUFLLEdBQVEsTUFBTSxJQUFhLENBQUMsR0FBRyxTQUFTLENBQUcsRUFDNUMsTUFBTyxHQUVmLE1BQU8sRUFDWCxDQUFDLEVBQ0QsTUFBTyxDQUFFLFlBQVcsZ0JBQWUsQ0FDdkMsQ0FBQyxFQUNJLE9BQU8sQ0FBQyxDQUFFLG9CQUFxQixFQUFlLE9BQVMsQ0FBQyxFQUN4RCxJQUFJLENBQUMsQ0FBRSxZQUFXLG9CQUFxQixDQUN4QyxHQUFNLEdBQVcsRUFBZSxPQUFPLENBQUMsRUFBSyxJQUN6QyxHQUFJLEdBQU8sQ0FBQyxDQUFHLEVBQ1YsT0FBTyxFQUFRLE1BQU0sSUFBUSxDQUFDLENBQUMsRUFDL0IsSUFBSSxHQUNELElBQWMsRUFBSyx1QkFBdUIsRUFDbkMsRUFFRSxXQUFVLEtBQUssQ0FBRSxFQUNwQixFQUFRLFFBQVEsU0FBUyxDQUFHLEVBQ3hCLElBQ0EsS0FDSixFQUFHLE9BQVMsRUFDUixLQUNBLEtBQU8sQ0FFeEIsRUFDSSxLQUFLLENBQUMsRUFBSyxLQUFRLEdBQWEsQ0FBRyxJQUFNLEdBQWEsRUFBRyxFQUN4RCxFQUNBLEdBQWEsQ0FBRyxFQUNaLEVBQ0EsRUFBRSxFQUNQLEtBQUssSUFBSSxFQUNQLEdBQ1IsQ0FBQyxDQUFDLEVBQ0wsTUFBTyxDQUFFLFlBQVcsaUJBQWdCLFVBQVMsQ0FDakQsQ0FBQyxFQXlGRCxHQXJGSSxBQUhzQixFQUNyQixPQUFPLENBQUMsQ0FBRSxlQUFnQixJQUFjLEVBQUssdUJBQXVCLENBQUMsRUFDckUsS0FBSyxDQUFDLENBQUUsaUJBQWdCLGNBQWUsQ0FBQyxFQUFlLE1BQU0sR0FBTyxHQUFhLEVBQVMsRUFBSSxDQUFDLENBQUMsR0FFakcsRUFDSyxPQUFPLENBQUMsQ0FBRSxlQUFnQixJQUFjLEVBQUssdUJBQXVCLENBQUMsRUFDckUsUUFBUSxDQUFDLENBQUUsaUJBQWdCLGNBQWUsQ0FDM0MsRUFBZSxRQUFRLEdBQU8sQ0FDMUIsQUFBSSxHQUFhLEVBQVMsRUFBSSxHQUMxQixHQUFTLEdBQU8sR0FBZSxFQUFTLEdBQU0sQ0FBYSxFQUVuRSxDQUFDLENBQ0wsQ0FBQyxFQUVMLEVBQWdCLFFBQVEsQ0FBQyxDQUFFLFlBQVcsaUJBQWdCLGNBQWUsQ0FDakUsRUFBRyxJQUFJLENBQVMsRUFDaEIsRUFBZSxRQUFRLEdBQU8sQ0FDMUIsR0FBTSxHQUFVLEVBQVMsR0FDckIsRUFBTyxFQUFhLElBQVEsR0FDNUIsR0FBTyxLQUNYLEFBQUksRUFBSyxTQUFTLENBQXFCLEdBQ25DLEdBQU8sRUFBRyxFQUFLLFVBQVUsRUFBc0IsTUFBTSxDQUFDLEdBQ3RELEVBQVEsUUFBUSxTQUFTLENBQUcsR0FDNUIsSUFBTyxJQUFJLEVBQUcsU0FBUyxNQUN2QixFQUFRLE1BQU0sU0FBUyxDQUFHLEdBQzFCLElBQU8sSUFBSSxFQUFHLE9BQU8sTUFDckIsRUFBUSxPQUFPLFNBQVMsQ0FBRyxHQUMzQixJQUFPLElBQUksRUFBRyxRQUFRLE1BQ3RCLEVBQVEsVUFBVSxTQUFTLENBQUcsR0FDOUIsSUFBTyxJQUFJLEVBQUcsUUFBUSxNQUN0QixFQUFRLE1BQU0sU0FBUyxDQUFHLEdBQzFCLElBQU8sSUFBSSxFQUFHLE9BQU8sTUFDckIsRUFBUSxPQUFPLFNBQVMsQ0FBRyxHQUMzQixJQUFPLElBQUksRUFBRyxRQUFRLE1BQzFCLEdBQU0sSUFBa0IsQUFBQyxHQUFlLE1BQU8sSUFBZSxTQUN4RCxJQUFJLEVBQUcsaUJBQWtCLENBQVUsS0FDbkMsSUFBSSxFQUFHLFlBQVksS0FDbkIsR0FBUSxDQUNWLElBQU8sR0FDRCxHQUFnQixFQUFrQixFQUFJLEVBQ3RDLEtBQ04sR0FDQSxJQUFPLEdBQWtCLElBQUksRUFBRyxVQUFVLEtBQU8sS0FDakQsRUFBUSxTQUFXLEVBQVEsUUFBUSxHQUM3QixJQUFJLEVBQUcsVUFBVSxLQUFLLEVBQUssa0JBQWtCLEVBQVEsUUFBUSxFQUFJLEtBQ2pFLEtBQ04sR0FBYyxFQUFRLFFBQVEsR0FBTSxFQUFRLG1CQUFtQixFQUFJLENBQ3ZFLEVBQ0ssT0FBTyxPQUFPLEVBQ2QsS0FBSyxHQUFHLEVBQ2IsRUFBRyxLQUFLLENBQ0osS0FBTSxHQUFRLENBQU8sRUFDckIsUUFBUyxDQUFDLEVBQUcsRUFBRyxFQUFHLEVBQUksR0FBZSxDQUFPLENBQUMsRUFDOUMsTUFBTyxFQUFTLEVBQVUsRUFBTyxFQUFJLENBQ3pDLEVBQUcsQ0FBSSxFQUNQLEdBQU0sR0FBeUIsRUFBTSxtQkFBbUIsRUFBRSxzQkFBc0IsRUFBRSxnQkFDOUUsR0FDSixBQUFJLElBQVMsQ0FBQyxFQUNWLEVBQUcsSUFBSSxDQUFFLEtBQU0sR0FBTyxRQUFTLENBQUMsRUFBRyxFQUFHLEVBQUcsQ0FBQyxFQUFHLE1BQU8sT0FBUSxDQUFDLEVBRTdELEVBQUcsSUFBSSxDQUNmLENBQUMsRUFDRCxFQUFHLElBQUksQ0FDWCxDQUFDLEVBQ0csRUFBUyxRQUNULEdBQUcsSUFBSSxFQUFHLFdBQVcsQ0FBQyxFQUN0QixFQUFTLFFBQVEsR0FBVyxDQUN4QixFQUFRLEdBQUssRUFBUSxHQUFHLFFBQVEsT0FBUSxDQUFNLENBQ2xELENBQUMsRUFDRCxFQUFTLFFBQVEsR0FBVyxDQUN4QixBQUFJLEVBQVEsS0FBTyxHQUNmLEVBQUcsSUFBSSxDQUNILEtBQU0sRUFBUSxHQUNkLFFBQVMsQ0FBQyxFQUFHLEVBQUcsRUFBRyxDQUFDLENBQ3hCLENBQUMsRUFHRCxFQUFHLElBQUksQ0FDSCxLQUFNLEVBQVEsR0FDZCxRQUFTLENBQUMsRUFBRyxFQUFHLEVBQUcsQ0FBQyxFQUNwQixNQUFPLEVBQVMsRUFBVSxFQUFPLEVBQUksQ0FDekMsRUFBRyxDQUNDLEtBQU0sRUFBUSxFQUNsQixDQUFDLENBRVQsQ0FBQyxFQUNELEVBQUcsSUFBSSxHQUVQLEVBQVEsT0FBUyxFQUFHLENBQ3BCLEdBQU0sR0FBSSxFQUNMLElBQUksR0FBVSxFQUFPLFFBQVEsT0FBUSxDQUFNLENBQUMsRUFDNUMsS0FBSztBQUFBLENBQUksRUFDZCxFQUFHLElBQUksR0FBRztBQUFBLENBQUssQ0FDbkIsQ0FDQSxNQUFPLEdBQUcsU0FBUyxFQUFFLFFBQVEsT0FBUSxFQUFFLENBQzNDLEVBQ0EsV0FBa0IsRUFBTyxFQUFTLEVBQVUsQ0FDeEMsR0FBSSxHQUFRLEVBQ1osTUFBSyxPQUFNLFFBQVEsQ0FBSyxHQUNwQixHQUFRLE9BQU8sT0FBTyxDQUFLLEVBQUUsSUFBSSxHQUFLLENBQUMsQ0FBQyxDQUFDLEdBRTdDLEVBQU0sUUFBUSxHQUFLLENBQ2YsRUFBUSxLQUFLLElBQUksRUFBSyxZQUFZLEVBQVcsR0FBRyxLQUFZLEdBQVEsRUFBRSxFQUFFLElBQU0sR0FBUSxFQUFFLEVBQUUsQ0FBQyxFQUFJLEdBQWUsRUFBRSxFQUFFLEVBQUcsQ0FBSyxDQUM5SCxDQUFDLEVBQ0csR0FDQSxHQUFRLEtBQUssSUFBSSxFQUFPLFNBQVUsR0FBVSxJQUFLLFNBQVMsRUFBRyxFQUFFLENBQUMsR0FDN0QsQ0FDWCxDQUNBLFlBQTRCLENBQ3hCLEdBQU0sR0FBa0IsRUFBTSxtQkFBbUIsRUFDM0MsRUFBVSxFQUFNLFdBQVcsRUFDakMsQUFBQyxRQUFPLEtBQUssRUFBUSxLQUFLLEdBQUssQ0FBQyxHQUFHLFFBQVEsR0FBTyxDQUM5QyxFQUFRLE1BQU0sR0FBSyxRQUFRLEdBQVMsQ0FDaEMsQUFBSSxFQUFhLElBQ2IsRUFBSyxTQUFTLEVBQUssRUFBYSxFQUFNLEVBQ3RDLElBQVMsSUFDVCxFQUFNLGFBQWEsRUFBSyxFQUFnQixFQUFNLEVBQzlDLEVBQVEsUUFBUSxTQUFTLENBQUssR0FDOUIsRUFBTSxRQUFRLENBQUcsRUFDakIsRUFBUSxNQUFNLFNBQVMsQ0FBSyxHQUM1QixFQUFNLE1BQU0sQ0FBRyxFQUNmLEVBQVEsT0FBTyxTQUFTLENBQUssR0FDN0IsRUFBTSxPQUFPLENBQUcsRUFDaEIsRUFBUSxVQUFVLFNBQVMsQ0FBSyxHQUNoQyxFQUFNLFVBQVUsQ0FBRyxFQUNuQixFQUFRLE1BQU0sU0FBUyxDQUFLLEdBQzVCLEVBQU0sTUFBTSxDQUFHLEVBQ2YsRUFBUSxPQUFPLFNBQVMsQ0FBSyxHQUM3QixFQUFNLE9BQU8sQ0FBRyxDQUN4QixDQUFDLENBQ0wsQ0FBQyxDQUNMLENBQ0EsR0FBSSxHQUNKLEVBQUssaUJBQW1CLFVBQVksQ0FDaEMsRUFBb0IsS0FBSyxLQUFLLENBQ2xDLEVBQ0EsRUFBSyx1QkFBeUIsVUFBWSxDQUN0QyxFQUFvQixNQUN4QixFQUNBLEVBQUsscUJBQXVCLFVBQVksQ0FDcEMsTUFBTyxDQUFDLENBQUMsQ0FDYixFQUNBLFdBQTBCLEVBQU0sRUFBUyxFQUFRLEVBQWMsQ0FDM0QsR0FBSSxHQUFjLENBQUMsRUFDZixHQUFVLEtBQ2QsY0FBTyxLQUFLLENBQU0sRUFBRSxRQUFRLEdBQVMsQ0FDakMsRUFBYyxFQUFZLE9BQU8sRUFBTyxFQUFNLENBQ2xELENBQUMsRUFDRCxFQUFLLFFBQVEsR0FBTyxDQUNoQixHQUFVLENBQUMsQ0FBRyxFQUFFLE9BQU8sRUFBUSxFQUFJLEVBQzlCLEdBQVEsS0FBSyxJQUFLLEVBQVksUUFBUSxFQUFDLElBQU0sRUFBRSxHQUNoRCxFQUFPLEdBQWMsS0FBSyxDQUFHLENBRXJDLENBQUMsRUFDTSxDQUNYLENBQ0EsWUFBNkIsRUFBSyxDQUM5QixNQUFRLEdBQU0sV0FBVyxFQUFFLGNBQWMsUUFBUSxDQUFHLEVBQUksR0FDcEQsRUFBTSxPQUFPLEtBQUssRUFBTSxXQUFXLEVBQUUsY0FDN0MsQ0FDQSxFQUFLLFNBQVcsQUFBQyxHQUFVLENBQ3ZCLEdBQU0sR0FBUyxFQUFNLG1CQUFtQixFQUFFLGtCQUFrQixFQUM1RCxBQUFLLEdBQ0QsR0FBUSxTQUVaLEFBRGEsT0FBTyxJQUFVLFdBQWEsRUFBUSxFQUFPLElBQ3JELEVBQUssS0FBSyxDQUFDLENBQ3BCLEVBQ0EsRUFBSyxvQkFBc0IsR0FBTSxDQUM3QixHQUFNLEdBQWMsRUFBRyxLQUNqQixFQUFLLE9BQU8sV0FBVyxFQUFHLEtBQU0sR0FBRyxFQUNuQyxFQUFHLGlCQUFpQixFQUMxQixNQUFPLENBQUMsSUFBSyxFQUFhLEdBQUcsRUFBRSxLQUFLLEVBQUUsQ0FDMUMsRUFDQSxFQUFLLGtCQUFvQixTQUEyQixFQUFRLEVBQVcsQ0FDbkUsR0FBSSxHQUFTLEdBQ1AsRUFBTSxHQUFhLEtBQ25CLEdBQVEsQ0FBQyxFQUFFLE9BQU8sQ0FBTSxFQUM5QixNQUFJLENBQUMsR0FBVSxDQUFDLEdBQU0sUUFFdEIsR0FBTSxRQUFRLEdBQVMsQ0FDbkIsQUFBSSxFQUFPLFFBQ1AsSUFBVSxHQUNkLEdBQVUsS0FBSyxVQUFVLENBQUssQ0FDbEMsQ0FBQyxFQUNNLENBQ1gsRUFDQSxZQUF1QixFQUFPLEVBQW9CLENBQzlDLEdBQUksR0FBUyxJQUFJLEVBQUcsVUFBVSxLQUM5QixHQUFJLElBQVUsUUFBYSxDQUFDLEVBQ3hCLE1BQU8sTUFDWCxHQUFJLEVBQ0EsR0FBVSxNQUdWLFFBQVEsTUFBTyxRQUNOLFNBQ0QsR0FBVSxJQUFJLEtBQ2QsVUFDQyxTQUNELEdBQVUsS0FBSyxVQUFVLENBQUssRUFDOUIsY0FFQSxHQUFVLEVBR3RCLE1BQU8sR0FBRyxJQUNkLENBQ0EsYUFBdUIsQ0FFbkIsTUFBSSxHQUFLLFFBQVEsV0FDTixLQUFLLElBQUksR0FBVSxFQUFLLFFBQVEsVUFBVSxFQUcxQyxFQUVmLENBQ0EsR0FBSSxJQUFVLEtBQ2QsRUFBSyxRQUFVLEdBQU8sQ0FDbEIsR0FBVSxDQUNkLEVBQ0EsRUFBSyxZQUFjLEdBQVMsQ0FDeEIsR0FBTSxHQUFTLEVBQU0sbUJBQW1CLEVBQUUsa0JBQWtCLEVBQzVELEFBQUssR0FDRCxHQUFRLFNBRVosQUFEYSxPQUFPLElBQVUsV0FBYSxFQUFRLEVBQU8sSUFDckQsRUFBTyxDQUNoQixFQUNBLEVBQUssTUFBUSxTQUFlLEVBQWEsQ0FDckMsU0FBYyxLQUNkLEVBQWdCLEdBQ2hCLEVBQVMsQ0FBQyxFQUNWLEVBQWdCLEdBQ2hCLEVBQVUsQ0FBQyxFQUNYLEVBQVcsQ0FBQyxFQUNaLEVBQVcsQ0FBQyxFQUNaLEVBQWUsR0FBVSxFQUFjLEdBQUssQ0FBQyxFQUFZLEVBQUUsRUFDcEQsQ0FDWCxFQUNBLEdBQU0sR0FBVSxDQUFDLEVBQ2pCLFNBQUssT0FBUyxVQUFrQixDQUM1QixFQUFRLEtBQUssQ0FDVCxjQUNBLGdCQUNBLFNBQ0EsZ0JBQ0EsVUFDQSxXQUNBLFdBQ0EsY0FDSixDQUFDLENBQ0wsRUFDQSxFQUFLLFNBQVcsU0FBa0IsRUFBaUIsR0FBTyxDQUN0RCxHQUFNLEdBQVMsRUFBUSxJQUFJLEVBQzNCLEFBQUksQ0FBQyxHQUVMLENBQUksRUFDQSxHQUFlLENBQUUsR0FBRyxFQUFPLGFBQWMsR0FBRyxDQUFhLEVBQ3pELEVBQVcsQ0FBQyxHQUFHLEVBQU8sU0FBVSxHQUFHLENBQVEsRUFDM0MsRUFBUyxDQUFDLEdBQUcsRUFBTyxPQUFRLEdBQUcsQ0FBTSxFQUNyQyxFQUFXLENBQUMsR0FBRyxFQUFPLFNBQVUsR0FBRyxDQUFRLEVBQzNDLEVBQVUsQ0FBQyxHQUFHLEVBQU8sUUFBUyxHQUFHLENBQU8sR0FHdkMsQ0FDRyxjQUNBLGdCQUNBLFNBQ0EsZ0JBQ0EsVUFDQSxXQUNBLFdBQ0EsY0FDSixFQUFJLEVBRVosRUFDTyxDQUNYLENBQ0EsWUFBd0IsRUFBTSxDQUMxQixNQUFPLE9BQU8sSUFBUyxRQUMzQixDQUNBLFlBQXdCLEVBQU0sRUFBUSxDQUNsQyxNQUFPLElBQWUsQ0FBSSxFQUNwQixDQUFFLEtBQU0sRUFBSyxLQUFNLFlBQWEsRUFBSyxZQUFjLENBQU8sRUFDMUQsQ0FBRSxPQUFNLFlBQWEsQ0FBTyxDQUN0QyxDQUNBLFlBQXdCLEVBQU0sQ0FDMUIsTUFBTyxJQUFlLENBQUksRUFBSSxFQUFLLFlBQWMsQ0FDckQsQ0FDQSxZQUFpQixFQUFNLENBQ25CLE1BQU8sSUFBZSxDQUFJLEVBQUksRUFBSyxLQUFPLENBQzlDLENDdmtCTyxHQUFNLElBQXVCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUE2QnZCLEdBQXdCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0VDeEI5QixHQUFNLElBQU4sS0FBaUIsQ0FDcEIsWUFBWSxFQUFPLEVBQU8sRUFBUyxFQUFNLENBQ3JDLEdBQUksR0FBSSxFQUFJLEVBQ1osS0FBSyxNQUFRLEVBQ2IsS0FBSyxNQUFRLEVBQ2IsS0FBSyxRQUFVLEVBQ2YsS0FBSyxLQUFPLEVBQ1osS0FBSyxjQUFnQix3QkFDckIsS0FBSyxRQUFVLEtBQ2YsS0FBSyx5QkFBMkIsS0FDaEMsS0FBSyxvQkFBc0IsRUFDM0IsS0FBSyxTQUNBLEdBQVEsSUFBSyxLQUFLLEtBQUssT0FBTyxPQUFPLEtBQU8sTUFBUSxJQUFPLE9BQVMsT0FBUyxFQUFHLFNBQVMsS0FBSyxJQUN6RixJQUFLLEtBQUssS0FBSyxPQUFPLFVBQVUsS0FBTyxNQUFRLElBQU8sT0FBUyxPQUFTLEVBQUcsU0FBUyxLQUFLLE1BQVMsTUFBUSxJQUFPLE9BQVMsRUFBSyxFQUM3SSxDQUNBLGtCQUFrQixFQUFNLEVBQU0sRUFBUyxFQUFNLENBQ3pDLEdBQU0sR0FBVyxLQUFLLFFBQVEsbUJBQW1CLEVBQ2pELE9BQVMsR0FBSSxFQUFHLEVBQUssRUFBSyxPQUFRLEVBQUksRUFBSSxFQUFFLEVBQ3hDLEdBQUksRUFBUyxFQUFLLEtBQU8sRUFBUyxFQUFLLElBQUksUUFBUyxDQUNoRCxHQUFNLEdBQVUsRUFBUyxFQUFLLElBQUksUUFDbEMsR0FBSSxHQUF5QixDQUFPLEVBQUcsQ0FDbkMsS0FBSyxvQkFBc0IsRUFBSSxFQUMvQixHQUFNLEdBQUksS0FBSyxNQUFNLG1CQUFtQixFQUFFLE1BQU0sRUFDaEQsU0FBUSxFQUFHLEVBQUksRUFDUixFQUFFLElBQ2IsQ0FDSixDQUVKLEdBQU0sR0FBYyxDQUFDLEVBQ3JCLEtBQUssbUJBQW1CLEVBQWEsRUFBTSxDQUFPLEVBQ2xELEtBQUssa0JBQWtCLEVBQWEsRUFBTSxFQUFNLENBQU8sRUFDdkQsS0FBSyw4QkFBOEIsRUFBYSxFQUFNLEVBQU0sQ0FBTyxFQUNuRSxLQUFLLGtDQUFrQyxFQUFhLEVBQU0sRUFBTSxDQUFPLEVBQ3ZFLEVBQUssS0FBTSxDQUFXLENBQzFCLENBQ0EsbUJBQW1CLEVBQWEsRUFBTSxFQUFTLENBQzNDLEdBQU0sR0FBaUIsS0FBSyxNQUN2QixtQkFBbUIsRUFDbkIsV0FBVyxFQUFFLFNBQ2xCLEFBQUksQ0FBQyxFQUFRLE1BQU0sSUFBSSxHQUNuQixFQUFlLEVBQWUsT0FBUyxLQUFPLEdBQzlDLENBQUMsS0FBSyxzQkFBc0IsQ0FBSSxHQUNoQyxLQUFLLE1BQU0sWUFBWSxFQUFFLFFBQVEsR0FBZ0IsQ0FDN0MsR0FBTSxHQUFjLEdBQWEsRUFBYSxFQUFFLEVBQUUsSUFDbEQsR0FBSSxFQUFLLFFBQVEsQ0FBVyxJQUFNLEdBQzlCLEdBQUksQ0FBQyxLQUFLLFNBQ04sRUFBWSxLQUFLLENBQVcsTUFFM0IsQ0FDRCxHQUFNLEdBQU8sRUFBYSxJQUFNLEdBQ2hDLEVBQVksS0FBSyxFQUFZLFFBQVEsS0FBTSxLQUFLLEVBQUksSUFBTSxDQUFJLENBQ2xFLENBRVIsQ0FBQyxDQUVULENBQ0Esa0JBQWtCLEVBQWEsRUFBTSxFQUFNLEVBQVMsQ0FDaEQsR0FBSyxHQUFRLE1BQU0sSUFBSSxHQUFNLElBQVksSUFBTSxFQUFZLFNBQVcsSUFDbEUsQ0FBQyxLQUFLLHNCQUFzQixDQUFJLEVBQUcsQ0FDbkMsR0FBTSxHQUFVLEtBQUssTUFBTSxXQUFXLEVBQ2hDLEVBQWlCLEtBQUssTUFBTSxVQUFVLEVBQUUsS0FBSyxNQUFNLHVCQUF1QixJQUFNLENBQUMsRUFDdkYsT0FBTyxLQUFLLEVBQVEsR0FBRyxFQUFFLFFBQVEsR0FBTyxDQUNwQyxHQUFNLEdBQVUsQ0FBQyxDQUFDLEVBQVEsY0FBYyxxQkFDcEMsRUFBUSxRQUFRLFNBQVMsQ0FBRyxFQUVoQyxBQUFJLENBRG9CLEVBQWUsU0FBUyxDQUFHLEdBRS9DLENBQUMsRUFBUSxjQUFjLFNBQVMsQ0FBRyxHQUNuQyxDQUFDLEtBQUssZUFBZSxFQUFNLEVBQUssQ0FBTyxHQUN2QyxLQUFLLGtCQUFrQixFQUFLLEVBQWEsRUFBUyxHQUFXLENBQUMsQ0FBQyxFQUFRLFFBQVEsRUFBSSxDQUUzRixDQUFDLENBQ0wsQ0FDSixDQUNBLDhCQUE4QixFQUFhLEVBQU0sRUFBTSxFQUFTLENBQzVELEdBQUksS0FBSyxzQkFBc0IsQ0FBSSxFQUFHLENBQ2xDLEdBQU0sR0FBVSxLQUFLLHNCQUFzQixDQUFJLEVBQy9DLEFBQUksR0FBVyxFQUFRLE9BQVMsR0FDNUIsRUFBWSxLQUFLLEdBQUcsRUFBUSxJQUFJLEdBQUssRUFBRSxRQUFRLEtBQU0sS0FBSyxDQUFDLENBQUMsQ0FFcEUsQ0FDSixDQUNBLGtDQUFrQyxFQUFhLEVBQU0sRUFBTSxFQUFTLENBQ2hFLEdBQUksSUFBWSxJQUNaLEVBQVksT0FBUyxHQUNyQixLQUFLLHNCQUFzQixDQUFJLEVBQy9CLE9BRUosR0FBTSxHQUFpQixLQUFLLE1BQU0sVUFBVSxFQUFFLEtBQUssTUFBTSx1QkFBdUIsSUFBTSxDQUFDLEVBQ2pGLEVBQVMsS0FBSyxJQUFJLEtBQUssb0JBQXFCLEtBQUssTUFBTSxtQkFBbUIsRUFBRSxXQUFXLEVBQUUsU0FBUyxPQUNwRyxDQUFDLEVBQ0MsRUFBZ0IsRUFBZSxFQUFLLEVBQUUsT0FBUyxFQUFTLEdBQzlELEdBQUksQ0FBQyxFQUNELE9BRUosR0FBTSxHQUFVLEtBQUssTUFBTSxXQUFXLEVBQUUsUUFBUSxJQUFrQixDQUFDLEVBQ25FLE9BQVcsS0FBVSxHQUNqQixBQUFJLEVBQU8sV0FBVyxDQUFPLEdBQ3pCLEVBQVksS0FBSyxFQUFPLFFBQVEsS0FBTSxLQUFLLENBQUMsQ0FHeEQsQ0FDQSxzQkFBc0IsRUFBTSxDQUN4QixHQUFJLEVBQUssT0FBUyxFQUNkLE9BQ0osR0FBSSxHQUFjLEVBQUssRUFBSyxPQUFTLEdBQ2pDLEVBQVMsR0FLYixHQUpJLENBQUMsRUFBWSxXQUFXLEdBQUcsR0FBSyxFQUFLLE9BQVMsR0FDOUMsR0FBUyxFQUNULEVBQWMsRUFBSyxFQUFLLE9BQVMsSUFFakMsQ0FBQyxFQUFZLFdBQVcsR0FBRyxFQUMzQixPQUNKLEdBQU0sR0FBaUIsRUFBWSxRQUFRLE1BQU8sRUFBRSxFQUM5QyxFQUFVLEtBQUssTUFBTSxXQUFXLEVBQ2hDLEVBQWtCLENBQ3BCLEVBQ0EsR0FBSSxLQUFLLE1BQU0sV0FBVyxFQUFFLElBQW1CLENBQUMsQ0FDcEQsRUFDSSxFQUNKLE9BQVcsS0FBaUIsR0FDeEIsR0FBSSxPQUFPLFVBQVUsZUFBZSxLQUFLLEVBQVEsSUFBSyxDQUFhLEdBQy9ELE1BQU0sUUFBUSxFQUFRLFFBQVEsRUFBYyxFQUFHLENBQy9DLEVBQVUsRUFBUSxRQUFRLEdBQzFCLEtBQ0osQ0FFSixHQUFJLEVBQ0EsTUFBTyxHQUFRLE9BQU8sR0FBVSxDQUFDLEdBQVUsRUFBTyxXQUFXLENBQU0sQ0FBQyxDQUU1RSxDQUNBLHNCQUFzQixFQUFNLENBQ3hCLEdBQU0sR0FBVSxLQUFLLHNCQUFzQixDQUFJLEVBQy9DLE1BQU8sS0FBWSxRQUFhLEVBQVEsT0FBUyxDQUNyRCxDQUNBLGVBQWUsRUFBTSxFQUFLLEVBQVMsQ0FDL0IsR0FBTSxHQUFlLEFBQUMsR0FBTSxFQUFLLFFBQVMsWUFBVyxLQUFLLENBQUMsRUFBSSxJQUFNLE1BQVEsQ0FBQyxJQUFNLEdBR3BGLEdBRkksRUFBYSxDQUFHLEdBRWhCLEdBQVcsRUFBYSxNQUFNLEdBQUssRUFDbkMsTUFBTyxHQUNYLEdBQUksS0FBSyxTQUNMLE9BQVcsS0FBUyxNQUFLLFFBQVEsR0FDN0IsR0FBSSxFQUFhLENBQUssRUFDbEIsTUFBTyxHQUduQixNQUFPLEVBQ1gsQ0FDQSxrQkFBa0IsRUFBSyxFQUFhLEVBQVMsRUFBUyxDQUNsRCxHQUFJLEdBQUksRUFBSSxFQUFJLEVBQ2hCLEdBQUksR0FBYyxFQUNsQixHQUFJLEtBQUssU0FBVSxDQUNmLEdBQU0sR0FBUSxLQUFLLE1BQU0sZ0JBQWdCLEVBQ25DLEVBQVksR0FBTSxHQUFLLE9BQVMsTUFBUSxPQUFTLE9BQVMsT0FBUyxLQUFLLFdBQWEsTUFBUSxJQUFPLE9BQVMsT0FBUyxFQUFHLE1BQVUsTUFBUSxJQUFPLE9BQVMsT0FBUyxFQUFHLEtBQUssR0FBUyxDQUN2TCxHQUFNLEdBQU8sRUFBTSxHQUNuQixNQUFPLE9BQU8sSUFBUyxVQUFZLEVBQUssT0FBUyxDQUNyRCxDQUFDLEVBQ0ssRUFBZ0IsRUFBVyxFQUFNLEdBQVksT0FDN0MsRUFBUSxHQUFNLEdBQUssRUFBTSxNQUFVLE1BQVEsSUFBTyxPQUFTLEVBQUssS0FBbUIsTUFBUSxJQUFPLE9BQVMsRUFBSyxHQUN0SCxFQUFjLEdBQUcsRUFBSSxRQUFRLEtBQU0sS0FBSyxLQUFLLEVBQ3hDLFFBQVEsbUJBQW9CLEVBQUUsRUFDOUIsUUFBUSxpQkFBa0IsR0FBRyxHQUN0QyxDQUNBLEdBQU0sR0FBb0IsQUFBQyxHQUFNLE1BQU0sS0FBSyxDQUFDLEVBQ3ZDLEVBQWdCLEFBQUMsR0FBTSxXQUFXLEtBQUssQ0FBQyxFQUN4QyxFQUFTLENBQUMsRUFBa0IsQ0FBTyxHQUFLLEVBQWMsQ0FBRyxFQUFJLElBQU0sS0FDekUsRUFBWSxLQUFLLEVBQVMsQ0FBVyxFQUNqQyxHQUNBLEVBQVksS0FBSyxFQUFTLE1BQVEsQ0FBVyxDQUVyRCxDQUNBLGlCQUFpQixFQUFNLEVBQU0sRUFBUyxFQUFNLENBRXhDLEdBREEsR0FBcUIsS0FBSyx5QkFBMEIsS0FBTSxLQUFLLElBQUksRUFDL0QsR0FBeUIsS0FBSyx3QkFBd0IsRUFBRyxDQUN6RCxHQUFNLEdBQVMsS0FBSyx5QkFBeUIsRUFBUyxDQUFJLEVBQzFELE1BQUksR0FBVSxDQUFNLEVBQ1QsRUFDRixLQUFLLEdBQVEsQ0FDZCxLQUFLLEtBQUssUUFBUSxTQUFTLElBQU0sQ0FDN0IsRUFBSyxLQUFNLENBQUksQ0FDbkIsQ0FBQyxDQUNMLENBQUMsRUFDSSxNQUFNLEdBQU8sQ0FDZCxLQUFLLEtBQUssUUFBUSxTQUFTLElBQU0sQ0FDN0IsRUFBSyxFQUFLLE1BQVMsQ0FDdkIsQ0FBQyxDQUNMLENBQUMsRUFFRSxFQUFLLEtBQU0sQ0FBTSxDQUM1QixLQUNLLE9BQUksSUFBNkIsS0FBSyx3QkFBd0IsRUFDeEQsS0FBSyx5QkFBeUIsRUFBUyxFQUFNLENBQUMsRUFBYyxJQUFTLEtBQUssa0JBQWtCLEVBQU0sRUFBTSxFQUFTLENBQVcsRUFBRyxHQUFlLENBQ2pKLEVBQUssS0FBTSxDQUFXLENBQzFCLENBQUMsRUFHTSxLQUFLLHlCQUF5QixFQUFTLEVBQU0sR0FBZSxDQUMvRCxFQUFLLEtBQU0sQ0FBVyxDQUMxQixDQUFDLENBRVQsQ0FDQSxjQUFjLEVBQU0sRUFBTSxDQUN0QixHQUFNLEdBQVUsRUFBSyxPQUFTLEVBQUssRUFBSyxPQUFTLEdBQUssR0FDaEQsRUFBTyxLQUFLLE1BQU0sTUFBTSxFQUFNLEVBQUksRUFDbEMsRUFBcUIsS0FBSyx5QkFDMUIsQUFBQyxHQUFTLEtBQUssaUJBQWlCLEVBQU0sRUFBTSxFQUFTLENBQUksRUFDekQsQUFBQyxHQUFTLEtBQUssa0JBQWtCLEVBQU0sRUFBTSxFQUFTLENBQUksRUFDaEUsTUFBTyxHQUFVLENBQUksRUFDZixFQUFLLEtBQUssQ0FBa0IsRUFDNUIsRUFBbUIsQ0FBSSxDQUNqQyxDQUNBLHlCQUF5QixFQUFJLEVBQUssQ0FDOUIsR0FBSSxHQUFTLEtBQUssU0FDRixHQUNBLEdBQ1YsRUFBTyxLQUFLLEtBQUssS0FBSyxTQUFTLENBQUUsRUFDdkMsTUFBSSxHQUFHLE1BQU0sT0FBTyxHQUNoQixHQUFLLEtBQUssS0FDZCxFQUFTLEVBQU8sUUFBUSxnQkFBaUIsQ0FBSSxFQUM3QyxFQUFTLEVBQU8sUUFBUSwwQkFBMkIsQ0FBRyxFQUMvQyxFQUFPLFFBQVEsZ0JBQWlCLENBQUUsQ0FDN0MsQ0FDQSxpQkFBaUIsRUFBSSxDQUNqQixLQUFLLHlCQUEyQixDQUNwQyxDQUNBLFVBQVUsRUFBUSxDQUNkLEtBQUssUUFBVSxFQUFPLE9BQzFCLENBQ0osRUFDTyxZQUFvQixFQUFPLEVBQU8sRUFBUyxFQUFNLENBQ3BELE1BQU8sSUFBSSxJQUFXLEVBQU8sRUFBTyxFQUFTLENBQUksQ0FDckQsQ0FDQSxZQUFrQyxFQUFvQixDQUNsRCxNQUFPLEdBQW1CLE9BQVMsQ0FDdkMsQ0FDQSxZQUFzQyxFQUFvQixDQUN0RCxNQUFPLEdBQW1CLE9BQVMsQ0FDdkMsQ0NsUE8sWUFBcUIsRUFBRyxFQUFHLENBQzlCLEdBQUksRUFBRSxTQUFXLEVBQ2IsTUFBTyxHQUFFLE9BQ2IsR0FBSSxFQUFFLFNBQVcsRUFDYixNQUFPLEdBQUUsT0FDYixHQUFNLEdBQVMsQ0FBQyxFQUNaLEVBQ0osSUFBSyxFQUFJLEVBQUcsR0FBSyxFQUFFLE9BQVEsSUFDdkIsRUFBTyxHQUFLLENBQUMsQ0FBQyxFQUVsQixHQUFJLEdBQ0osSUFBSyxFQUFJLEVBQUcsR0FBSyxFQUFFLE9BQVEsSUFDdkIsRUFBTyxHQUFHLEdBQUssRUFFbkIsSUFBSyxFQUFJLEVBQUcsR0FBSyxFQUFFLE9BQVEsSUFDdkIsSUFBSyxFQUFJLEVBQUcsR0FBSyxFQUFFLE9BQVEsSUFDdkIsQUFBSSxFQUFFLE9BQU8sRUFBSSxDQUFDLElBQU0sRUFBRSxPQUFPLEVBQUksQ0FBQyxFQUNsQyxFQUFPLEdBQUcsR0FBSyxFQUFPLEVBQUksR0FBRyxFQUFJLEdBR2pDLEFBQUksRUFBSSxHQUNKLEVBQUksR0FDSixFQUFFLE9BQU8sRUFBSSxDQUFDLElBQU0sRUFBRSxPQUFPLEVBQUksQ0FBQyxHQUNsQyxFQUFFLE9BQU8sRUFBSSxDQUFDLElBQU0sRUFBRSxPQUFPLEVBQUksQ0FBQyxFQUNsQyxFQUFPLEdBQUcsR0FBSyxFQUFPLEVBQUksR0FBRyxFQUFJLEdBQUssRUFHdEMsRUFBTyxHQUFHLEdBQUssS0FBSyxJQUFJLEVBQU8sRUFBSSxHQUFHLEVBQUksR0FBSyxFQUFHLEtBQUssSUFBSSxFQUFPLEdBQUcsRUFBSSxHQUFLLEVBQUcsRUFBTyxFQUFJLEdBQUcsR0FBSyxDQUFDLENBQUMsRUFLdEgsTUFBTyxHQUFPLEVBQUUsUUFBUSxFQUFFLE9BQzlCLENDN0JBLEdBQU0sSUFBYyxDQUFDLEtBQU0sS0FBTSxHQUFHLEVBQzdCLFlBQW9CLEVBQU8sRUFBTyxFQUFNLENBQzNDLEdBQU0sR0FBSyxFQUFLLEtBQUssR0FDZixFQUFNLEVBQUssS0FBSyxJQUNoQixFQUFPLENBQUMsRUFDZCxFQUFLLGVBQWlCLFNBQXdCLEVBQU0sQ0FDaEQsR0FBTSxHQUFtQixFQUFNLG9CQUFvQixFQUU3QyxFQUFLLEFBRGEsRUFBSyxFQUFFLE9BQVUsR0FBSyxNQUFRLEVBQUssTUFBTSxPQUFTLEdBQzdDLEVBQU0sbUJBQW1CLEVBQUUsV0FBVyxFQUFFLFNBQVMsT0FDOUUsQUFBSSxFQUFpQixHQUNoQixHQUFLLEVBQWlCLEVBQUUsS0FBTyxFQUFLLEVBQWlCLEVBQUUsTUFDeEQsQ0FBSSxFQUFLLEVBQWlCLEVBQUUsSUFDeEIsQUFBSSxFQUFpQixFQUFFLFNBQVcsT0FDOUIsRUFBTSxLQUFLLEVBQWlCLEVBQUUsT0FDeEIsRUFBaUIsRUFBRSxPQUNoQixRQUFRLE9BQVEsRUFBRyxTQUFTLENBQUMsRUFDN0IsUUFBUSxNQUFPLEVBQWlCLEVBQUUsSUFBSSxTQUFTLENBQUMsRUFDbkQsSUFBSSxFQUdWLEVBQU0sS0FBSyxFQUFJLDREQUE2RCw0REFBNkQsRUFBSSxFQUFHLFNBQVMsRUFBRyxFQUFpQixFQUFFLElBQUksU0FBUyxDQUFDLENBQUMsRUFHN0wsRUFBSyxFQUFpQixFQUFFLEtBQzdCLENBQUksRUFBaUIsRUFBRSxTQUFXLE9BQzlCLEVBQU0sS0FBSyxFQUFpQixFQUFFLE9BQ3hCLEVBQWlCLEVBQUUsT0FDaEIsUUFBUSxPQUFRLEVBQUcsU0FBUyxDQUFDLEVBQzdCLFFBQVEsTUFBTyxFQUFpQixFQUFFLElBQUksU0FBUyxDQUFDLEVBQ25ELElBQUksRUFHVixFQUFNLEtBQUssRUFBSSx1REFBd0QsdURBQXdELEVBQUksRUFBRyxTQUFTLEVBQUcsRUFBaUIsRUFBRSxJQUFJLFNBQVMsQ0FBQyxDQUFDLEdBSXBNLEVBQ0EsRUFBSyxnQkFBa0IsU0FBeUIsRUFBVSxFQUFVLENBQ2hFLEFBQUksRUFBVyxHQUNYLEVBQU0sS0FBSyxFQUFJLDREQUE2RCw0REFBNkQsRUFBVSxFQUFXLEdBQUksRUFBVyxFQUFFLENBQUMsQ0FFeEwsRUFDQSxFQUFLLGtCQUFvQixTQUEyQixFQUFNLEVBQWlCLENBQ3ZFLEdBQUksR0FBVSxLQUNkLE9BQVcsS0FBTyxRQUFPLEtBQUssQ0FBZSxFQUN6QyxBQUFJLEVBQUMsT0FBTyxVQUFVLGVBQWUsS0FBSyxFQUFNLENBQUcsR0FDL0MsTUFBTyxHQUFLLEdBQVMsTUFDckIsR0FBVSxHQUFXLENBQUMsRUFDdEIsRUFBUSxHQUFPLEVBQWdCLElBR3ZDLEdBQUksRUFBUyxDQUNULEdBQU0sR0FBYSxDQUFDLEVBQ3BCLE9BQVcsS0FBTyxRQUFPLEtBQUssQ0FBTyxFQUFHLENBQ3BDLEdBQU0sR0FBTSxFQUFRLEdBQ3BCLEFBQUksR0FBTyxFQUFXLFFBQVEsQ0FBRyxFQUFJLEdBQ2pDLEVBQVcsS0FBSyxDQUFHLENBRTNCLENBQ0EsR0FBTSxHQUFZLEVBQVcsT0FBUztBQUFBLEVBQUssRUFBVyxLQUFLO0FBQUEsQ0FBSSxJQUFNLEdBQ3JFLEVBQU0sS0FBSyxFQUFJLGdDQUFpQyxpQ0FBa0MsT0FBTyxLQUFLLENBQU8sRUFBRSxPQUFRLE9BQU8sS0FBSyxDQUFPLEVBQUUsS0FBSyxJQUFJLEVBQUksQ0FBUyxDQUFDLENBQy9KLENBQ0osRUFDQSxFQUFLLGlCQUFtQixTQUEwQixFQUFNLEVBQVMsRUFBZSxFQUFrQixFQUFtQixHQUFNLENBQ3ZILEdBQUksR0FDSixHQUFNLEdBQWMsRUFDZixtQkFBbUIsRUFDbkIsbUJBQW1CLEVBQ25CLFlBQVksRUFDWCxFQUFVLENBQUMsRUFDWCxFQUFpQixFQUFNLG1CQUFtQixFQUFFLFdBQVcsRUFtQjdELEdBbEJBLE9BQU8sS0FBSyxDQUFJLEVBQUUsUUFBUSxHQUFPLENBQzdCLEFBQUksQ0FBQyxHQUFZLFNBQVMsQ0FBRyxHQUN6QixDQUFDLE9BQU8sVUFBVSxlQUFlLEtBQUssRUFBZSxDQUFHLEdBQ3hELENBQUMsT0FBTyxVQUFVLGVBQWUsS0FBSyxFQUFNLG1CQUFtQixFQUFFLGdCQUFnQixFQUFHLENBQUcsR0FDdkYsQ0FBQyxFQUFLLDRCQUE0QixFQUFLLENBQU8sR0FDOUMsRUFBUSxLQUFLLENBQUcsQ0FFeEIsQ0FBQyxFQUNHLEdBQ0MsR0FBZSxTQUFTLE9BQVMsR0FDOUIsRUFBWSxPQUFTLEdBQ3JCLElBQ0osRUFBSyxFQUFFLE1BQU0sRUFBZSxTQUFTLE1BQU0sRUFBRSxRQUFRLEdBQU8sQ0FDeEQsQUFBSyxFQUFZLFNBQVMsR0FBSyxDQUFHLEdBQzlCLEVBQVEsS0FBSyxHQUFLLENBQUcsQ0FFN0IsQ0FBQyxFQUVELEVBQWtCLENBRWxCLEdBQU0sR0FBc0IsSUFBSyxBQURSLEVBQU0sb0JBQW9CLEVBQ0QsS0FBTyxNQUFRLElBQU8sT0FBUyxPQUFTLEVBQUcsTUFBUSxFQUMvRixHQUFXLEVBQWUsU0FBUyxPQUFTLEVBQ2xELEFBQUksR0FBVyxFQUFLLEVBQUUsUUFDbEIsRUFBSyxFQUFFLE1BQU0sRUFBUSxFQUFFLFFBQVEsSUFBTyxDQUNsQyxHQUFNLE9BQU8sRUFBRyxFQUNaLENBQUMsRUFBZSxTQUFTLFNBQVMsRUFBRyxHQUNyQyxDQUFDLEVBQVEsU0FBUyxFQUFHLEdBQ3JCLEVBQVEsS0FBSyxFQUFHLENBRXhCLENBQUMsQ0FFVCxDQUNBLEFBQUksRUFBUSxRQUNSLEVBQU0sS0FBSyxFQUFJLHVCQUF3Qix3QkFBeUIsRUFBUSxPQUFRLEVBQVEsSUFBSSxHQUFNLEVBQUUsS0FBSyxFQUFJLEVBQUksSUFBSSxJQUFLLEVBQUUsS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUUvSSxFQUNBLEVBQUssZ0JBQWtCLFNBQXlCLEVBQU0sQ0FDbEQsR0FBTSxHQUFjLEVBQ2YsbUJBQW1CLEVBQ25CLG1CQUFtQixFQUNuQixZQUFZLEVBQ1gsRUFBVSxDQUFDLEVBQ1gsRUFBaUIsRUFBTSxtQkFBbUIsRUFBRSxXQUFXLEVBUTdELE1BUEksR0FBZSxTQUFTLE9BQVMsR0FBSyxFQUFZLE9BQVMsSUFDM0QsRUFBSyxFQUFFLE1BQU0sRUFBZSxTQUFTLE1BQU0sRUFBRSxRQUFRLEdBQU8sQ0FDeEQsQUFBSyxFQUFZLFNBQVMsR0FBSyxDQUFHLEdBQzlCLEVBQVEsS0FBSyxHQUFLLENBQUcsQ0FFN0IsQ0FBQyxFQUVELEVBQVEsT0FBUyxFQUNqQixHQUFNLEtBQUssRUFBSSxzQkFBdUIsdUJBQXdCLEVBQVEsT0FBUSxFQUFRLEtBQUssSUFBSSxDQUFDLENBQUMsRUFDMUYsSUFHQSxFQUVmLEVBQ0EsRUFBSyw0QkFBOEIsU0FBcUMsRUFBSyxFQUFTLENBQ2xGLEdBQUksQ0FBQyxPQUFPLFVBQVUsZUFBZSxLQUFLLEVBQVMsQ0FBRyxFQUNsRCxNQUFPLEdBRVgsR0FBTSxHQUFhLEVBQU0sT0FBTyxXQUNoQyxNQUFPLENBQUMsRUFBSyxHQUFHLEVBQVEsRUFBSSxFQUFFLEtBQUssR0FBSyxDQUFDLE9BQU8sVUFBVSxlQUFlLEtBQUssRUFBWSxDQUFDLEdBQUssQ0FBQyxFQUFXLEVBQUksQ0FDcEgsRUFDQSxFQUFLLGVBQWlCLFNBQXdCLEVBQU0sQ0FDaEQsR0FBTSxHQUFVLEVBQU0sV0FBVyxFQUMzQixFQUFVLENBQUMsRUFDakIsR0FBSSxDQUFDLE9BQU8sS0FBSyxFQUFRLE9BQU8sRUFBRSxPQUM5QixPQUNKLE9BQU8sS0FBSyxDQUFJLEVBQUUsUUFBUSxHQUFPLENBQzdCLEFBQUksR0FBWSxRQUFRLENBQUcsSUFBTSxJQUM3QixPQUFPLFVBQVUsZUFBZSxLQUFLLEVBQVEsUUFBUyxDQUFHLEdBQ3pELENBQUMsRUFBRSxPQUFPLEVBQUssRUFBSSxFQUFFLFFBQVEsR0FBUyxDQUNsQyxBQUFJLEVBQVEsUUFBUSxHQUFLLFFBQVEsQ0FBSyxJQUFNLElBQ3hDLElBQVUsUUFDVixHQUFRLEdBQVEsR0FBUSxJQUFRLENBQUMsR0FBRyxPQUFPLENBQUssRUFFeEQsQ0FBQyxDQUVULENBQUMsRUFDRCxHQUFNLEdBQWMsT0FBTyxLQUFLLENBQU8sRUFDdkMsR0FBSSxDQUFDLEVBQVksT0FDYixPQUNKLEdBQUksR0FBTSxFQUFHLGlCQUFpQixFQUM5QixFQUFZLFFBQVEsR0FBTyxDQUN2QixHQUFPO0FBQUEsSUFBTyxFQUFHLHVDQUF3QyxFQUFLLEVBQU0sa0JBQWtCLEVBQVEsRUFBSSxFQUFHLEVBQU0sa0JBQWtCLEVBQVEsUUFBUSxFQUFJLENBQUMsR0FDdEosQ0FBQyxFQUNELEVBQU0sS0FBSyxDQUFHLENBQ2xCLEVBQ0EsR0FBSSxHQUFVLENBQUMsRUFDZixFQUFLLFFBQVUsU0FBaUIsRUFBSyxFQUFPLENBQ3hDLEVBQVEsd0NBQXlDLENBQUMsRUFBSyxDQUFLLEVBQUcsVUFBVSxNQUFNLEVBQy9FLEFBQUksTUFBTyxJQUFRLFNBQ2YsT0FBTyxLQUFLLENBQUcsRUFBRSxRQUFRLEdBQUssQ0FDMUIsRUFBSyxRQUFRLEVBQUcsRUFBSSxFQUFFLENBQzFCLENBQUMsRUFHRCxHQUFNLE9BQU8sQ0FBRyxFQUNYLEVBQVEsSUFDVCxHQUFRLEdBQU8sQ0FBQyxHQUVwQixBQUFJLE1BQU0sUUFBUSxDQUFLLEVBQ25CLEVBQU0sUUFBUSxHQUFLLEVBQUssUUFBUSxFQUFLLENBQUMsQ0FBQyxFQUd2QyxJQUFxQixFQUFPLE9BQVcsQ0FBSSxFQUMzQyxFQUFRLEdBQUssS0FBSyxDQUFLLEdBR25DLEVBQ0EsRUFBSyxXQUFhLFVBQXNCLENBQ3BDLE1BQU8sRUFDWCxFQUNBLFdBQW1CLEVBQU0sRUFBSyxDQUMxQixHQUFNLEdBQU0sT0FBTyxDQUFHLEVBQ3RCLFNBQU0sTUFBTSxDQUFHLEVBQUksRUFBTSxFQUN6QixBQUFJLE1BQU8sSUFBUSxTQUNmLEVBQU0sRUFBSyxFQUFFLFFBQVUsRUFFdEIsQUFBSSxFQUFJLE1BQU0sVUFBVSxFQUN6QixHQUFNLEVBQUksTUFBTSxZQUFZLEVBQUUsR0FDOUIsRUFBTSxDQUFDLE9BQU8sVUFBVSxlQUFlLEtBQUssRUFBTSxDQUFHLEdBR3JELEVBQU0sT0FBTyxVQUFVLGVBQWUsS0FBSyxFQUFNLENBQUcsRUFFakQsQ0FDWCxDQUNBLEVBQUssYUFBZSxTQUFzQixFQUFNLENBQzVDLEdBQU0sR0FBWSxDQUFDLEVBYW5CLEdBWkEsT0FBTyxLQUFLLENBQU8sRUFBRSxRQUFRLEdBQU8sQ0FDaEMsR0FBTSxHQUFVLEVBQ2hCLEFBQUMsR0FBUSxJQUFRLENBQUMsR0FBRyxRQUFRLEdBQVMsQ0FDbEMsR0FBSSxHQUFNLEVBQ0osRUFBWSxFQUNsQixFQUFNLEVBQVUsRUFBTSxDQUFHLEVBQ3pCLEVBQVEsRUFBVSxFQUFNLENBQUssRUFDekIsR0FBTyxDQUFDLEdBQ1IsRUFBVSxLQUFLLElBQUksUUFBYyxHQUFXLENBRXBELENBQUMsQ0FDTCxDQUFDLEVBQ0csRUFBVSxPQUFRLENBQ2xCLEdBQUksR0FBTSxHQUFHLEVBQUcsc0JBQXNCO0FBQUEsRUFDdEMsRUFBVSxRQUFRLEdBQVMsQ0FDdkIsR0FBTyxDQUNYLENBQUMsRUFDRCxFQUFNLEtBQUssQ0FBRyxDQUNsQixDQUNKLEVBQ0EsR0FBSSxHQUFjLENBQUMsRUFDbkIsRUFBSyxVQUFZLFNBQW1CLEVBQUssRUFBTyxDQUM1QyxFQUFRLGlDQUFrQyxDQUFDLEVBQUssQ0FBSyxFQUFHLFVBQVUsTUFBTSxFQUN4RSxBQUFJLE1BQU8sSUFBUSxTQUNmLE9BQU8sS0FBSyxDQUFHLEVBQUUsUUFBUSxHQUFLLENBQzFCLEVBQUssVUFBVSxFQUFHLEVBQUksRUFBRSxDQUM1QixDQUFDLEVBR0QsR0FBTSxPQUFPLENBQUcsRUFDWCxFQUFZLElBQ2IsR0FBWSxHQUFPLENBQUMsR0FFeEIsQUFBSSxNQUFNLFFBQVEsQ0FBSyxFQUNuQixFQUFNLFFBQVEsR0FBSyxFQUFLLFVBQVUsRUFBSyxDQUFDLENBQUMsRUFHekMsRUFBWSxHQUFLLEtBQUssQ0FBSyxFQUd2QyxFQUNBLEVBQUssZUFBaUIsSUFBTSxFQUM1QixFQUFLLFlBQWMsU0FBdUIsRUFBTSxDQUM1QyxPQUFPLEtBQUssQ0FBSSxFQUFFLFFBQVEsR0FBTyxDQUM3QixBQUFJLEVBQVksSUFDWixFQUFZLEdBQUssUUFBUSxHQUFTLENBQzlCLEFBQUksR0FBUyxFQUFLLEtBQVMsUUFBYSxFQUFLLEtBQVcsUUFDcEQsRUFBTSxLQUFLLEVBQUcsNkNBQThDLEVBQUssQ0FBSyxDQUFDLENBRS9FLENBQUMsQ0FFVCxDQUFDLEVBQ0csRUFBTSxtQkFBbUIsRUFBRSx1QkFBdUIsRUFBRSxpQkFDcEQsT0FBTyxLQUFLLENBQVcsRUFBRSxRQUFRLEdBQU8sQ0FDcEMsRUFBWSxHQUFLLFFBQVEsR0FBUyxDQUM5QixBQUFJLEdBQ0EsRUFBSyxFQUFLLE9BQU8sVUFBVSxDQUFHLEtBQU8sUUFDckMsRUFBSyxFQUFLLE9BQU8sVUFBVSxDQUFLLEtBQU8sUUFDdkMsRUFBTSxLQUFLLEVBQUcsNkNBQThDLEVBQUssQ0FBSyxDQUFDLENBRS9FLENBQUMsQ0FDTCxDQUFDLENBRVQsRUFDQSxFQUFLLGtCQUFvQixTQUEyQixFQUFLLEVBQW1CLENBRXhFLEVBQW9CLEVBQWtCLEtBQUssQ0FBQyxFQUFHLElBQU0sRUFBRSxPQUFTLEVBQUUsTUFBTSxFQUN4RSxHQUFJLEdBQWMsS0FDZCxFQUFlLElBQ25CLE9BQVMsR0FBSSxFQUFHLEVBQVksR0FBWSxFQUFrQixNQUFRLE9BQVcsSUFBSyxDQUM5RSxHQUFNLEdBQUksR0FBUyxFQUFLLENBQVMsRUFDakMsQUFBSSxHQUFLLEdBQWEsRUFBSSxHQUN0QixHQUFlLEVBQ2YsRUFBYyxFQUV0QixDQUNBLEFBQUksR0FDQSxFQUFNLEtBQUssRUFBRyxtQkFBb0IsQ0FBVyxDQUFDLENBQ3RELEVBQ0EsRUFBSyxNQUFRLFNBQWUsRUFBYSxDQUNyQyxTQUFVLEdBQVUsRUFBUyxHQUFLLENBQUMsRUFBWSxFQUFFLEVBQ2pELEVBQWMsR0FBVSxFQUFhLEdBQUssQ0FBQyxFQUFZLEVBQUUsRUFDbEQsQ0FDWCxFQUNBLEdBQU0sR0FBVSxDQUFDLEVBQ2pCLFNBQUssT0FBUyxVQUFrQixDQUM1QixFQUFRLEtBQUssQ0FDVCxVQUNBLGFBQ0osQ0FBQyxDQUNMLEVBQ0EsRUFBSyxTQUFXLFVBQW9CLENBQ2hDLEdBQU0sR0FBUyxFQUFRLElBQUksRUFDM0IsR0FBcUIsRUFBUSxPQUFXLENBQUksRUFDM0MsQ0FBRSxVQUFTLGFBQVksRUFBSSxDQUNoQyxFQUNPLENBQ1gsQ0MvU0EsR0FBSSxJQUEyQixDQUFDLEVBQzVCLEdBQ0csWUFBc0IsRUFBUSxFQUFLLEVBQWMsRUFBTyxDQUMzRCxHQUFPLEVBQ1AsR0FBSSxHQUFnQixDQUFDLEVBQ3JCLEdBQUksT0FBTyxVQUFVLGVBQWUsS0FBSyxFQUFRLFNBQVMsRUFBRyxDQUN6RCxHQUFJLE1BQU8sR0FBTyxTQUFZLFNBQzFCLE1BQU8sR0FDWCxHQUFNLEdBQVMsaUJBQWlCLEtBQUssRUFBTyxPQUFPLEVBQy9DLEVBQWdCLEtBQ3BCLEdBQUssRUFTRCxFQUFnQixHQUF1QixFQUFLLEVBQU8sT0FBTyxNQVIxRCxJQUFJLENBQ0EsRUFBZ0IsR0FBUSxRQUFRLEVBQU8sT0FBTyxDQUNsRCxNQUNBLENBQ0ksTUFBTyxFQUNYLENBS0osR0FBd0IsQ0FBYSxFQUNyQyxHQUF5QixLQUFLLENBQWEsRUFDM0MsRUFBZ0IsRUFDVixLQUFLLE1BQU0sR0FBSyxhQUFhLEVBQWUsTUFBTSxDQUFDLEVBQ25ELEdBQVEsRUFBTyxTQUNyQixNQUFPLEdBQU8sUUFDZCxFQUFnQixHQUFhLEVBQWUsR0FBSyxLQUFLLFFBQVEsQ0FBYSxFQUFHLEVBQWMsRUFBSSxDQUNwRyxDQUNBLFVBQTJCLENBQUMsRUFDckIsRUFDRCxHQUFVLEVBQWUsQ0FBTSxFQUMvQixPQUFPLE9BQU8sQ0FBQyxFQUFHLEVBQWUsQ0FBTSxDQUNqRCxDQUNBLFlBQWlDLEVBQVMsQ0FDdEMsR0FBSSxHQUF5QixRQUFRLENBQU8sRUFBSSxHQUM1QyxLQUFNLElBQUksR0FBTyxzQ0FBc0MsS0FBVyxDQUUxRSxDQUNBLFlBQWdDLEVBQUssRUFBYyxDQUMvQyxNQUFPLElBQUssS0FBSyxRQUFRLEVBQUssQ0FBWSxDQUM5QyxDQUNBLFlBQW1CLEVBQVMsRUFBUyxDQUNqQyxHQUFNLEdBQVMsQ0FBQyxFQUNoQixXQUFrQixFQUFLLENBQ25CLE1BQU8sSUFBTyxNQUFPLElBQVEsVUFBWSxDQUFDLE1BQU0sUUFBUSxDQUFHLENBQy9ELENBQ0EsT0FBTyxPQUFPLEVBQVEsQ0FBTyxFQUM3QixPQUFXLEtBQU8sUUFBTyxLQUFLLENBQU8sRUFDakMsQUFBSSxFQUFTLEVBQVEsRUFBSSxHQUFLLEVBQVMsRUFBTyxFQUFJLEVBQzlDLEVBQU8sR0FBTyxHQUFVLEVBQVEsR0FBTSxFQUFRLEVBQUksRUFHbEQsRUFBTyxHQUFPLEVBQVEsR0FHOUIsTUFBTyxFQUNYLENDMURBLEdBQUksR0FBa0UsU0FBVSxFQUFVLEVBQU8sRUFBTyxFQUFNLEVBQUcsQ0FDN0csR0FBSSxJQUFTLElBQUssS0FBTSxJQUFJLFdBQVUsZ0NBQWdDLEVBQ3RFLEdBQUksSUFBUyxLQUFPLENBQUMsRUFBRyxLQUFNLElBQUksV0FBVSwrQ0FBK0MsRUFDM0YsR0FBSSxNQUFPLElBQVUsV0FBYSxJQUFhLEdBQVMsQ0FBQyxFQUFJLENBQUMsRUFBTSxJQUFJLENBQVEsRUFBRyxLQUFNLElBQUksV0FBVSx5RUFBeUUsRUFDaEwsTUFBUSxLQUFTLElBQU0sRUFBRSxLQUFLLEVBQVUsQ0FBSyxFQUFJLEVBQUksRUFBRSxNQUFRLEVBQVEsRUFBTSxJQUFJLEVBQVUsQ0FBSyxFQUFJLENBQ3hHLEVBQ0ksRUFBa0UsU0FBVSxFQUFVLEVBQU8sRUFBTSxFQUFHLENBQ3RHLEdBQUksSUFBUyxLQUFPLENBQUMsRUFBRyxLQUFNLElBQUksV0FBVSwrQ0FBK0MsRUFDM0YsR0FBSSxNQUFPLElBQVUsV0FBYSxJQUFhLEdBQVMsQ0FBQyxFQUFJLENBQUMsRUFBTSxJQUFJLENBQVEsRUFBRyxLQUFNLElBQUksV0FBVSwwRUFBMEUsRUFDakwsTUFBTyxLQUFTLElBQU0sRUFBSSxJQUFTLElBQU0sRUFBRSxLQUFLLENBQVEsRUFBSSxFQUFJLEVBQUUsTUFBUSxFQUFNLElBQUksQ0FBUSxDQUNoRyxFQUNJLEdBQXdCLEdBQW9CLEdBQXdCLEdBQTJCLEdBQWtDLEdBQXFDLEdBQTBCLEdBQTZCLEdBQWdDLEdBQTRCLEdBQXdCLEdBQWlDLEdBQXVCLEdBQTBCLEdBQXdCLEdBQWdDLEdBQXVCLEdBQXVCLEVBQXdCLEdBQThCLEdBQTZCLEdBQXdCLEdBQTZCLEdBQXFCLEdBQWdDLEdBQTRCLEdBQWtDLEVBQXFCLEdBQXVCLEdBQStCLEdBQThCLEVBQXNCLEdBQTRCLEdBQTJCLEVBY3Y1QixZQUFzQixFQUFPLENBQ2hDLE1BQU8sQ0FBQyxFQUFjLENBQUMsRUFBRyxFQUFNLEVBQU0sUUFBUSxJQUFJLEVBQUcsSUFBa0IsQ0FDbkUsR0FBTSxHQUFRLEdBQUksSUFBYyxFQUFhLEVBQUssRUFBZSxDQUFLLEVBQ3RFLGNBQU8sZUFBZSxFQUFPLE9BQVEsQ0FDakMsSUFBSyxJQUNNLEVBQU0sTUFBTSxFQUV2QixXQUFZLEVBQ2hCLENBQUMsRUFDRCxFQUFNLEtBQUssRUFDWCxFQUFNLFFBQVEsRUFDUCxDQUNYLENBQ0osQ0FDQSxHQUFNLElBQWtCLE9BQU8sZ0JBQWdCLEVBQ3pDLEdBQWdCLE9BQU8sZ0JBQWdCLEVBQ3ZDLEdBQThCLE9BQU8sNEJBQTRCLEVBQ2pFLEdBQWUsT0FBTyxhQUFhLEVBQ25DLEdBQVUsT0FBTyxRQUFRLEVBQ3pCLEdBQWlCLE9BQU8sZUFBZSxFQUN2QyxHQUEwQixPQUFPLHdCQUF3QixFQUN6RCxHQUF5QixPQUFPLHVCQUF1QixFQUN2RCxHQUFlLE9BQU8sYUFBYSxFQUNuQyxHQUFnQixPQUFPLGNBQWMsRUFDckMsR0FBMEIsT0FBTyx3QkFBd0IsRUFDekQsR0FBUyxPQUFPLE9BQU8sRUFDdkIsR0FBMkIsT0FBTyx5QkFBeUIsRUFDM0QsR0FBMkMsT0FBTyx5Q0FBeUMsRUFDM0YsR0FBcUMsT0FBTyxtQ0FBbUMsRUFDL0UsR0FBZ0MsT0FBTyw4QkFBOEIsRUFDckUsR0FBZSxPQUFPLGFBQWEsRUFDbkMsR0FBVSxPQUFPLFFBQVEsRUFDekIsR0FBWSxPQUFPLFVBQVUsRUFDN0IsR0FBaUIsT0FBTyxlQUFlLEVBQ3ZDLEdBQXNCLE9BQU8sb0JBQW9CLEVBQ2pELEdBQWMsT0FBTyxZQUFZLEVBQ2pDLEdBQWdCLE9BQU8sY0FBYyxFQUNyQyxHQUFxQixPQUFPLG1CQUFtQixFQUMvQyxHQUFtQixPQUFPLGlCQUFpQixFQUMzQyxHQUFvQixPQUFPLGtCQUFrQixFQUM3QyxHQUF5QixPQUFPLHVCQUF1QixFQUN2RCxHQUFvQixPQUFPLGtCQUFrQixFQUM3QyxHQUFtQixPQUFPLGlCQUFpQixFQUMzQyxHQUFlLE9BQU8sYUFBYSxFQUNuQyxHQUFVLE9BQU8sUUFBUSxFQUN6QixHQUFTLE9BQU8sT0FBTyxFQUN2QixHQUFvQyxPQUFPLGtDQUFrQyxFQUM3RSxHQUFpQixPQUFPLGVBQWUsRUFDdkMsR0FBZ0IsT0FBTyxjQUFjLEVBQ3JDLEdBQXdCLE9BQU8sdUJBQXVCLEVBQy9DLEdBQU4sS0FBb0IsQ0FDdkIsWUFBWSxFQUFjLENBQUMsRUFBRyxFQUFLLEVBQWUsRUFBTSxDQUNwRCxLQUFLLGlCQUFtQixHQUN4QixLQUFLLE9BQVMsR0FDZCxHQUF1QixJQUFJLEtBQU0sTUFBTSxFQUN2QyxHQUFtQixJQUFJLEtBQU0sTUFBTSxFQUNuQyxHQUF1QixJQUFJLEtBQU0sQ0FBRSxTQUFVLENBQUMsRUFBRyxhQUFjLENBQUMsQ0FBRSxDQUFDLEVBQ25FLEdBQTBCLElBQUksS0FBTSxJQUFJLEVBQ3hDLEdBQWlDLElBQUksS0FBTSxJQUFJLEVBQy9DLEdBQW9DLElBQUksS0FBTSxhQUFhLEVBQzNELEdBQXlCLElBQUksS0FBTSxJQUFJLEVBQ3ZDLEdBQTRCLElBQUksS0FBTSxFQUFJLEVBQzFDLEdBQStCLElBQUksS0FBTSxDQUFDLENBQUMsRUFDM0MsR0FBMkIsSUFBSSxLQUFNLEVBQUksRUFDekMsR0FBdUIsSUFBSSxLQUFNLENBQUMsQ0FBQyxFQUNuQyxHQUFnQyxJQUFJLEtBQU0sTUFBTSxFQUNoRCxHQUFzQixJQUFJLEtBQU0sQ0FBQyxDQUFDLEVBQ2xDLEdBQXlCLElBQUksS0FBTSxFQUFLLEVBQ3hDLEdBQXVCLElBQUksS0FBTSxJQUFJLEVBQ3JDLEdBQStCLElBQUksS0FBTSxFQUFJLEVBQzdDLEdBQXNCLElBQUksS0FBTSxNQUFNLEVBQ3RDLEdBQXNCLElBQUksS0FBTSxFQUFFLEVBQ2xDLEVBQXVCLElBQUksS0FBTSxNQUFNLEVBQ3ZDLEdBQTZCLElBQUksS0FBTSxNQUFNLEVBQzdDLEdBQTRCLElBQUksS0FBTSxDQUFDLENBQUMsRUFDeEMsR0FBdUIsSUFBSSxLQUFNLElBQUksRUFDckMsR0FBNEIsSUFBSSxLQUFNLElBQUksRUFDMUMsR0FBb0IsSUFBSSxLQUFNLENBQUMsQ0FBQyxFQUNoQyxHQUErQixJQUFJLEtBQU0sQ0FBQyxDQUFDLEVBQzNDLEdBQTJCLElBQUksS0FBTSxNQUFNLEVBQzNDLEdBQWlDLElBQUksS0FBTSxFQUFLLEVBQ2hELEVBQW9CLElBQUksS0FBTSxNQUFNLEVBQ3BDLEdBQXNCLElBQUksS0FBTSxFQUFLLEVBQ3JDLEdBQThCLElBQUksS0FBTSxFQUFLLEVBQzdDLEdBQTZCLElBQUksS0FBTSxFQUFLLEVBQzVDLEVBQXFCLElBQUksS0FBTSxNQUFNLEVBQ3JDLEdBQTJCLElBQUksS0FBTSxDQUFDLENBQUMsRUFDdkMsR0FBMEIsSUFBSSxLQUFNLElBQUksRUFDeEMsRUFBMEIsSUFBSSxLQUFNLE1BQU0sRUFDMUMsRUFBdUIsS0FBTSxFQUFxQixFQUFNLEdBQUcsRUFDM0QsRUFBdUIsS0FBTSxHQUE0QixFQUFhLEdBQUcsRUFDekUsRUFBdUIsS0FBTSxHQUFvQixFQUFLLEdBQUcsRUFDekQsRUFBdUIsS0FBTSxHQUE4QixFQUFlLEdBQUcsRUFDN0UsRUFBdUIsS0FBTSxHQUFpQyxHQUFJLElBQWlCLElBQUksRUFBRyxHQUFHLEVBQzdGLEtBQUssR0FBSyxLQUFLLElBQWdCLEVBQy9CLEtBQUssSUFBUSxFQUNiLEVBQXVCLEtBQU0sR0FBd0IsRUFBdUIsS0FBTSxHQUF3QixHQUFHLEVBQUcsR0FBRyxFQUNuSCxFQUF1QixLQUFNLEVBQXNCLEVBQXVCLEtBQU0sRUFBc0IsR0FBRyxFQUFHLEdBQUcsRUFDL0csRUFBdUIsS0FBTSxFQUEyQixFQUF1QixLQUFNLEVBQTJCLEdBQUcsRUFBRyxHQUFHLEVBQ3pILEVBQXVCLEtBQU0sRUFBd0IsRUFBdUIsS0FBTSxFQUF3QixHQUFHLEVBQUcsR0FBRyxFQUNuSCxFQUF1QixLQUFNLEVBQXdCLEdBQUcsRUFBRSxjQUFnQixFQUF1QixLQUFNLEdBQXFDLEdBQUcsRUFDL0ksRUFBdUIsS0FBTSxHQUF1QixLQUFLLElBQWUsRUFBRyxHQUFHLENBQ2xGLENBQ0EsV0FBVyxFQUFLLEVBQUssQ0FDakIsR0FBTSxHQUFpQixPQU12QixNQUxBLEdBQVEsNEJBQTZCLENBQUMsRUFBSyxDQUFHLEVBQUcsVUFBVSxNQUFNLEVBQzdELEVBQXVCLEtBQU0sR0FBd0IsR0FBRyxHQUN4RCxNQUFLLElBQTZCLEVBQXVCLEtBQU0sR0FBd0IsR0FBRyxDQUFDLEVBQzNGLEVBQXVCLEtBQU0sR0FBd0IsS0FBTSxHQUFHLEdBRTlELElBQVEsSUFBUyxJQUFRLE9BQ2xCLEtBQ1gsR0FBdUIsS0FBTSxHQUF3QixNQUFPLElBQVEsU0FBVyxFQUFNLEVBQWdCLEdBQUcsRUFDeEcsS0FBSyxRQUFRLEVBQXVCLEtBQU0sR0FBd0IsR0FBRyxDQUFDLEVBQ3RFLEtBQUssU0FBUyxFQUF1QixLQUFNLEdBQXdCLEdBQUcsRUFBRyxHQUFPLEVBQXVCLEtBQU0sRUFBc0IsR0FBRyxFQUFFLGdCQUFnQixXQUFXLENBQUMsRUFDN0osS0FDWCxDQUNBLEtBQUssRUFBSyxFQUFLLENBQ1gsTUFBTyxNQUFLLFdBQVcsRUFBSyxDQUFHLENBQ25DLENBQ0EsaUJBQWlCLEVBQUssRUFBSyxDQUV2QixHQURBLEVBQVEsNEJBQTZCLENBQUMsRUFBSyxDQUFHLEVBQUcsVUFBVSxNQUFNLEVBQzdELElBQVEsSUFBUyxJQUFRLE9BQ3pCLE1BQU8sTUFDWCxHQUFNLEdBQWdCLE1BQU8sSUFBUSxTQUFXLEVBQU0sRUFBdUIsS0FBTSxHQUFxQyxHQUFHLEVBQzNILFlBQUssUUFBUSxDQUFhLEVBQzFCLEtBQUssU0FBUyxFQUFlLEdBQU8sRUFBdUIsS0FBTSxFQUFzQixHQUFHLEVBQUUsZ0JBQWdCLHFCQUFxQixDQUFDLEVBQ2xJLEVBQXVCLEtBQU0sRUFBd0IsR0FBRyxFQUFFLGNBQWdCLEVBQ25FLElBQ1gsQ0FDQSxXQUFXLEVBQUssRUFBSyxDQUNqQixNQUFPLE1BQUssaUJBQWlCLEVBQUssQ0FBRyxDQUN6QyxDQUNBLE1BQU0sRUFBSyxFQUFPLENBQ2QsU0FBUSx1Q0FBd0MsQ0FBQyxFQUFLLENBQUssRUFBRyxVQUFVLE1BQU0sRUFDOUUsS0FBSyxJQUFvQyxLQUFLLE1BQU0sS0FBSyxJQUFJLEVBQUcsUUFBUyxFQUFLLENBQUssRUFDNUUsSUFDWCxDQUNBLE1BQU0sRUFBTSxDQUNSLFNBQVEsaUJBQWtCLENBQUMsQ0FBSSxFQUFHLFVBQVUsTUFBTSxFQUNsRCxLQUFLLElBQTBCLFFBQVMsQ0FBSSxFQUM1QyxLQUFLLElBQXVCLENBQUksRUFDekIsSUFDWCxDQUNBLFFBQVEsRUFBTSxDQUNWLFNBQVEsaUJBQWtCLENBQUMsQ0FBSSxFQUFHLFVBQVUsTUFBTSxFQUNsRCxLQUFLLElBQTBCLFVBQVcsQ0FBSSxFQUM5QyxLQUFLLElBQXVCLENBQUksRUFDekIsSUFDWCxDQUNBLE1BQU0sRUFBRyxFQUFRLENBQ2IsU0FBUSx1QkFBd0IsQ0FBQyxFQUFHLENBQU0sRUFBRyxVQUFVLE1BQU0sRUFDN0QsS0FBSyxXQUFXLENBQUMsRUFBTSxJQUNaLEdBQWlCLElBQ2IsRUFBRSxFQUFNLEVBQU8sV0FBVyxDQUFDLEVBQ25DLEFBQUMsR0FDQSxDQUFLLEVBR0ksT0FBTyxJQUFXLFVBQVksWUFBa0IsU0FDckQsRUFBdUIsS0FBTSxFQUFzQixHQUFHLEVBQUUsS0FBSyxFQUFPLFNBQVMsRUFBRyxDQUFNLEVBSHRGLEVBQXVCLEtBQU0sRUFBc0IsR0FBRyxFQUFFLEtBQUssRUFBdUIsS0FBTSxFQUFxQixHQUFHLEVBQUUsS0FBSyxHQUFHLDRCQUE2QixFQUFFLFNBQVMsQ0FBQyxDQUFDLEVBS25LLEdBQ1IsQUFBQyxHQUNBLEdBQXVCLEtBQU0sRUFBc0IsR0FBRyxFQUFFLEtBQUssRUFBSSxRQUFVLEVBQUksUUFBVSxFQUFJLFNBQVMsRUFBRyxDQUFHLEVBQ3JHLEVBQ1YsRUFDRixHQUFPLENBQU0sRUFDVCxJQUNYLENBQ0EsUUFBUSxFQUFLLEVBQU8sQ0FDaEIsU0FBUSx1Q0FBd0MsQ0FBQyxFQUFLLENBQUssRUFBRyxVQUFVLE1BQU0sRUFDOUUsS0FBSyxJQUFvQyxLQUFLLFFBQVEsS0FBSyxJQUFJLEVBQUcsVUFBVyxFQUFLLENBQUssRUFDaEYsSUFDWCxDQUNBLE9BQU8sRUFBTSxFQUFPLENBRWhCLEdBREEsRUFBUSxtQ0FBb0MsQ0FBQyxFQUFNLENBQUssRUFBRyxVQUFVLE1BQU0sRUFDdkUsTUFBTSxRQUFRLENBQUksRUFBRyxDQUNyQixHQUFJLENBQUMsRUFDRCxLQUFNLElBQUksR0FBTyxrQ0FBa0MsRUFFdkQsT0FBVyxLQUFPLEdBQ2QsS0FBSyxPQUFPLEVBQUssQ0FBSyxFQUUxQixNQUFPLEtBQ1gsU0FDUyxNQUFPLElBQVMsU0FBVSxDQUMvQixPQUFXLEtBQU8sUUFBTyxLQUFLLENBQUksRUFDOUIsS0FBSyxPQUFPLEVBQUssRUFBSyxFQUFJLEVBRTlCLE1BQU8sS0FDWCxDQUNBLEdBQUksQ0FBQyxFQUNELEtBQU0sSUFBSSxHQUFPLGtDQUFrQyxFQUV2RCxTQUF1QixLQUFNLEVBQXdCLEdBQUcsRUFBRSxJQUFJLEdBQVEsR0FDdEUsRUFBdUIsS0FBTSxHQUFpQyxHQUFHLEVBQUUsb0JBQW9CLENBQUMsRUFBTSxJQUFVLENBQ3BHLEdBQUksR0FFSixNQURxQixRQUFPLFVBQVUsZUFBZSxLQUFLLEVBQU0sQ0FBSSxFQUk3RCxHQUFpQixJQUNwQixHQUFVLEVBQU0sV0FBVyxFQUNwQixFQUFNLEVBQUssRUFBSyxHQUN4QixBQUFDLEdBQVcsQ0FDWCxFQUFLLEdBQVEsRUFDYixHQUFNLEdBQWUsRUFDaEIsbUJBQW1CLEVBQ25CLHVCQUF1QixFQUFFLGlCQUM5QixHQUFJLEVBQVEsSUFBUyxJQUFpQixHQUNsQyxPQUFXLEtBQVMsR0FBUSxHQUN4QixFQUFLLEdBQVMsRUFHdEIsTUFBTyxFQUNYLEVBQUcsQUFBQyxHQUFRLENBQ1IsS0FBTSxJQUFJLEdBQU8sRUFBSSxPQUFPLENBQ2hDLENBQUMsRUFsQlUsQ0FtQmYsRUFBRyxDQUFJLEVBQ0EsSUFDWCxDQUNBLFVBQVUsRUFBTSxFQUFNLENBQ2xCLFNBQVEsaUNBQWtDLENBQUMsRUFBTSxDQUFJLEVBQUcsVUFBVSxNQUFNLEVBQ3hFLEVBQXVCLEtBQU0sRUFBMkIsR0FBRyxFQUFFLFVBQVUsRUFBTSxDQUFJLEVBQzFFLElBQ1gsQ0FDQSxPQUFPLEVBQU0sU0FBVSxFQUFLLEVBQVMsQ0FFakMsTUFEQSxHQUFRLCtDQUFnRCxDQUFDLEVBQUssRUFBSyxDQUFPLEVBQUcsVUFBVSxNQUFNLEVBQ3pGLE1BQU8sSUFBUSxVQUFZLENBQUMsTUFBTSxRQUFRLENBQUcsRUFDN0MsR0FBTSxHQUFhLEVBQUssRUFBdUIsS0FBTSxHQUFvQixHQUFHLEVBQUcsS0FBSyxJQUF5QixFQUFFLHNCQUF3QixHQUFPLEVBQXVCLEtBQU0sRUFBcUIsR0FBRyxDQUFDLEVBQ3BNLEVBQXVCLEtBQU0sRUFBd0IsR0FBRyxFQUFFLGNBQWlCLEdBQXVCLEtBQU0sRUFBd0IsR0FBRyxFQUFFLGVBQWlCLENBQUMsR0FBRyxPQUFPLENBQUcsRUFDN0osTUFFUCxPQUFPLElBQVEsWUFDZixHQUFVLEVBQ1YsRUFBTSxRQUVWLEtBQUssU0FBUyxFQUFLLEdBQU8sRUFBdUIsS0FBTSxFQUFzQixHQUFHLEVBQUUsZ0JBQWdCLDBCQUEwQixDQUFDLEVBQzVILE9BQU0sUUFBUSxDQUFHLEVBQUksRUFBTSxDQUFDLENBQUcsR0FBRyxRQUFRLEdBQUssQ0FDNUMsRUFBdUIsS0FBTSxFQUF3QixHQUFHLEVBQUUsT0FBTyxHQUFLLEdBQVcsRUFDckYsQ0FBQyxFQUNNLEtBQ1gsQ0FDQSxXQUFXLEVBQUssRUFBTSxFQUFJLENBQ3RCLFNBQVEsZ0RBQWlELENBQUMsRUFBSyxFQUFNLENBQUUsRUFBRyxVQUFVLE1BQU0sRUFDdEYsTUFBTyxJQUFTLFlBQ2hCLEdBQUssRUFDTCxFQUFPLFFBRVgsRUFBdUIsS0FBTSxHQUFrQyxHQUFPLEVBQXVCLEtBQU0sR0FBa0MsR0FBRyxHQUFLLGFBQWMsR0FBRyxFQUMxSixDQUFDLEdBQVEsSUFBUyxJQUNsQixHQUFPLDhCQUVYLEtBQUssUUFBUSxFQUF1QixLQUFNLEdBQWtDLEdBQUcsRUFBRyxDQUFJLEVBQ2xGLEdBQ0EsRUFBdUIsS0FBTSxHQUEyQixHQUFHLEVBQUUsaUJBQWlCLENBQUUsRUFDN0UsSUFDWCxDQUNBLFFBQVEsRUFBSyxFQUFhLEVBQVMsRUFBUyxFQUFhLEVBQVksQ0FDakUsU0FBUSwrRkFBZ0csQ0FBQyxFQUFLLEVBQWEsRUFBUyxFQUFTLEVBQWEsQ0FBVSxFQUFHLFVBQVUsTUFBTSxFQUN2TCxFQUF1QixLQUFNLEdBQXdCLEdBQUcsRUFBRSxXQUFXLEVBQUssRUFBYSxFQUFTLEVBQVMsRUFBYSxDQUFVLEVBQ3pILElBQ1gsQ0FDQSxTQUFTLEVBQUssRUFBYSxFQUFTLEVBQVMsRUFBYSxFQUFZLENBQ2xFLE1BQU8sTUFBSyxRQUFRLEVBQUssRUFBYSxFQUFTLEVBQVMsRUFBYSxDQUFVLENBQ25GLENBQ0EsV0FBVyxFQUFLLEVBQU0sQ0FDbEIsRUFBUSxvQkFBcUIsQ0FBQyxFQUFLLENBQUksRUFBRyxVQUFVLE1BQU0sRUFDMUQsR0FBTSxHQUFNLEVBQXVCLEtBQU0sR0FBOEIsR0FBRyxHQUFLLEVBQXVCLEtBQU0sRUFBcUIsR0FBRyxFQUFFLFFBQ3RJLFNBQXVCLEtBQU0sR0FBd0IsR0FBRyxFQUFFLGFBQWEsRUFBSyxFQUFLLEVBQXVCLEtBQU0sRUFBcUIsR0FBRyxFQUFFLGNBQWMsRUFBRyxDQUFJLEVBQ3RKLElBQ1gsQ0FDQSxNQUFNLEVBQU0sQ0FDUixTQUFRLGlCQUFrQixDQUFDLENBQUksRUFBRyxVQUFVLE1BQU0sRUFDbEQsS0FBSyxJQUEwQixRQUFTLENBQUksRUFDNUMsS0FBSyxJQUF1QixDQUFJLEVBQ3pCLElBQ1gsQ0FDQSxRQUFRLEVBQUssRUFBTyxFQUFvQixDQUNwQyxTQUFRLHFDQUFzQyxDQUFDLEVBQUssRUFBTyxDQUFrQixFQUFHLFVBQVUsTUFBTSxFQUM1RixHQUNBLElBQWdCLEVBQUssRUFBdUIsS0FBTSxFQUFxQixHQUFHLENBQUMsRUFDM0UsRUFBdUIsS0FBTSxFQUF3QixHQUFHLEVBQUUsbUJBQW1CLEdBQU8sR0FFcEYsTUFBTyxJQUFVLFlBQ2pCLElBQWdCLEVBQUssRUFBdUIsS0FBTSxFQUFxQixHQUFHLENBQUMsRUFDdEUsRUFBdUIsS0FBTSxFQUF3QixHQUFHLEVBQUUsbUJBQW1CLElBQzlFLEdBQXVCLEtBQU0sRUFBd0IsR0FBRyxFQUFFLG1CQUFtQixHQUN6RSxFQUF1QixLQUFNLEVBQXNCLEdBQUcsRUFBRSxvQkFBb0IsQ0FBSyxHQUN6RixFQUFRLEVBQU0sS0FBSyxHQUV2QixLQUFLLElBQTBDLEtBQUssUUFBUSxLQUFLLElBQUksRUFBRyxVQUFXLEVBQUssQ0FBSyxFQUN0RixJQUNYLENBQ0EsU0FBUyxFQUFLLEVBQU8sRUFBb0IsQ0FDckMsTUFBTyxNQUFLLFFBQVEsRUFBSyxFQUFPLENBQWtCLENBQ3RELENBQ0EsY0FBYyxFQUFNLEVBQUcsRUFBSyxFQUFRLEVBQVEsQ0FDeEMsU0FBUSwyRUFBNEUsQ0FBQyxFQUFLLEVBQUssRUFBUSxDQUFNLEVBQUcsVUFBVSxNQUFNLEVBQzVILE1BQU8sSUFBUSxVQUNmLEdBQVMsRUFDVCxFQUFNLEtBRVYsS0FBSyxPQUFPLElBQUssRUFBSyxFQUN0QixFQUF1QixLQUFNLEVBQXdCLEdBQUcsRUFBRSxpQkFBaUIsRUFBSSxDQUMzRSxNQUNBLE1BQ0EsU0FDQSxRQUNKLEVBQ08sSUFDWCxDQUNBLE9BQU8sRUFBTSxFQUFLLEVBQUssQ0FDbkIsTUFBSSxPQUFNLFFBQVEsQ0FBRyxFQUNqQixHQUFJLFFBQVEsR0FBTyxDQUNmLEdBQXFCLEVBQUssR0FBTSxFQUF1QixLQUFNLEVBQXFCLEdBQUcsQ0FBQyxFQUN0RixLQUFLLGFBQWEsRUFBSyxDQUFHLENBQzlCLENBQUMsRUFDRCxFQUFNLEtBRUQsTUFBTyxJQUFRLFVBQ3BCLEdBQU0sRUFDTixFQUFNLEtBRVYsQUFBSSxNQUFPLElBQVMsU0FDaEIsSUFBcUIsRUFBSyxHQUFNLEVBQXVCLEtBQU0sRUFBcUIsR0FBRyxDQUFDLEVBQ3RGLEtBQUssY0FBYyxFQUFNLEVBQUssRUFBSyxDQUFHLEdBRXJDLEFBQUksTUFBTSxRQUFRLENBQUksRUFDdkIsRUFBSyxRQUFRLEdBQU8sQ0FDaEIsR0FBcUIsRUFBSyxHQUFNLEVBQXVCLEtBQU0sRUFBcUIsR0FBRyxDQUFDLEVBQ3RGLEtBQUssYUFBYSxFQUFLLENBQUcsQ0FDOUIsQ0FBQyxFQUdELEFBQUksTUFBTyxJQUFRLFNBQ2YsS0FBSyxhQUFhLEVBQU0sQ0FBRyxFQUV0QixLQUFRLElBQVEsTUFBTyxHQUFRLE1BQ3BDLEtBQUssYUFBYSxDQUFJLEVBR3ZCLElBQ1gsQ0FDQSxhQUFhLEVBQU0sRUFBSyxDQUNwQixTQUFRLGlDQUFrQyxDQUFDLEVBQU0sQ0FBRyxFQUFHLFVBQVUsTUFBTSxFQUN2RSxLQUFLLElBQTBDLEtBQUssYUFBYSxLQUFLLElBQUksRUFBRyxrQkFBbUIsRUFBTSxDQUFHLEVBQ2xHLElBQ1gsQ0FDQSxnQkFBZ0IsRUFBUSxFQUFTLENBQzdCLFNBQVEsNEJBQTZCLENBQUMsRUFBUSxDQUFPLEVBQUcsVUFBVSxNQUFNLEVBQ3hFLEVBQXVCLEtBQU0sRUFBd0IsR0FBRyxFQUFFLGtCQUFrQixHQUFVLEVBQy9FLElBQ1gsQ0FDQSxTQUFTLEVBQU0sRUFBYSxDQUN4QixTQUFRLGlDQUFrQyxDQUFDLEVBQU0sQ0FBVyxFQUFHLFVBQVUsTUFBTSxFQUMvRSxLQUFLLElBQVMsRUFBTSxFQUFJLEVBQ3hCLEVBQXVCLEtBQU0sRUFBc0IsR0FBRyxFQUFFLFNBQVMsRUFBTSxDQUFXLEVBQzNFLElBQ1gsQ0FDQSxhQUFhLEVBQVEsQ0FDakIsU0FBUSxZQUFhLENBQUMsQ0FBTSxFQUFHLFVBQVUsTUFBTSxFQUMvQyxFQUF1QixLQUFNLEdBQTZCLEVBQVEsR0FBRyxFQUM5RCxJQUNYLENBQ0EsSUFBSSxFQUFRLENBQ1IsU0FBUSxtQkFBb0IsQ0FBQyxDQUFNLEVBQUcsVUFBVSxNQUFNLEVBQ3RELEFBQUksSUFBVyxHQUNYLE1BQU8sR0FBdUIsS0FBTSxFQUF3QixHQUFHLEVBQUUsVUFFakUsRUFBdUIsS0FBTSxFQUF3QixHQUFHLEVBQUUsVUFBWSxHQUFVLEdBQzdFLElBQ1gsQ0FDQSxTQUFTLEVBQUssQ0FDVixTQUFRLFdBQVksQ0FBQyxDQUFHLEVBQUcsVUFBVSxNQUFNLEVBQzNDLEVBQXVCLEtBQU0sRUFBc0IsR0FBRyxFQUFFLE9BQU8sQ0FBRyxFQUMzRCxJQUNYLENBQ0EsT0FBTyxFQUFLLENBQ1IsTUFBTyxNQUFLLFNBQVMsQ0FBRyxDQUM1QixDQUNBLFFBQVEsRUFBSyxFQUFhLENBQ3RCLFNBQVEsMEJBQTJCLENBQUMsRUFBSyxDQUFXLEVBQUcsVUFBVSxNQUFNLEVBQ3ZFLEFBQUksTUFBTSxRQUFRLENBQUcsRUFDakIsRUFBSSxRQUFRLEdBQWlCLEtBQUssUUFBUSxHQUFHLENBQWEsQ0FBQyxFQUczRCxFQUF1QixLQUFNLEVBQXNCLEdBQUcsRUFBRSxRQUFRLEVBQUssQ0FBVyxFQUU3RSxJQUNYLENBQ0EsS0FBSyxFQUFNLEVBQUssQ0FDWixFQUF1QixLQUFNLEdBQTBCLEdBQU0sR0FBRyxFQUNoRSxFQUF1QixLQUFNLEdBQTBCLEVBQUssR0FBRyxFQUMzRCxFQUF1QixLQUFNLEdBQTRCLEdBQUcsR0FDNUQsRUFBdUIsS0FBTSxFQUFxQixHQUFHLEVBQUUsUUFBUSxLQUFLLENBQUksQ0FDaEYsQ0FDQSxZQUFZLEVBQVUsR0FBTSxDQUN4QixTQUFRLFlBQWEsQ0FBQyxDQUFPLEVBQUcsVUFBVSxNQUFNLEVBQ2hELEVBQXVCLEtBQU0sR0FBNEIsRUFBUyxHQUFHLEVBQzlELElBQ1gsQ0FDQSxLQUFLLEVBQUcsQ0FFSixHQURBLEVBQVEscUJBQXNCLENBQUMsQ0FBQyxFQUFHLFVBQVUsTUFBTSxFQUMvQyxNQUFPLElBQU0sV0FBYSxJQUFNLEdBQ2hDLEtBQU0sSUFBSSxHQUFPLDhEQUE4RCxFQUVuRixTQUF1QixLQUFNLEVBQXNCLEdBQUcsRUFBRSxPQUFPLENBQUMsRUFDekQsSUFDWCxDQUNBLFlBQWEsQ0FDVCxNQUFPLE1BQUssT0FBUyxLQUFLLE9BQU8sUUFBVSxDQUFDLENBQ2hELENBQ0EsS0FBTSxlQUFjLEVBQU0sRUFBTSxDQUU1QixNQURBLEdBQVEscUJBQXNCLENBQUMsRUFBTSxDQUFJLEVBQUcsVUFBVSxNQUFNLEVBQ3ZELEVBV00sRUFBdUIsS0FBTSxHQUEyQixHQUFHLEVBQUUsY0FBYyxFQUFNLENBQUksRUFWckYsR0FBSSxTQUFRLENBQUMsRUFBUyxJQUFXLENBQ3BDLEVBQXVCLEtBQU0sR0FBMkIsR0FBRyxFQUFFLGNBQWMsRUFBTSxDQUFDLEVBQUssSUFBZ0IsQ0FDbkcsQUFBSSxFQUNBLEVBQU8sQ0FBRyxFQUVWLEVBQVEsQ0FBVyxDQUMzQixDQUFDLENBQ0wsQ0FBQyxDQUtULENBQ0Esb0JBQXFCLENBQ2pCLFNBQVEsQ0FBQyxFQUFHLENBQUMsRUFDTixFQUF1QixLQUFNLEVBQXdCLEdBQUcsRUFBRSxlQUNyRSxDQUNBLHFCQUFzQixDQUNsQixTQUFRLENBQUMsRUFBRyxDQUFDLEVBQ04sRUFBdUIsS0FBTSxFQUF3QixHQUFHLEVBQUUsZ0JBQ3JFLENBQ0Esc0JBQXVCLENBQ25CLFNBQVEsQ0FBQyxFQUFHLENBQUMsRUFDTixFQUF1QixLQUFNLEVBQXdCLEdBQUcsRUFBRSxpQkFDckUsQ0FDQSxpQkFBa0IsQ0FDZCxNQUFPLEdBQXVCLEtBQU0sR0FBNkIsR0FBRyxDQUN4RSxDQUNBLGdCQUFpQixDQUNiLE1BQU8sR0FBdUIsS0FBTSxHQUE0QixHQUFHLENBQ3ZFLENBQ0EsV0FBWSxDQUNSLE1BQU8sUUFBTyxPQUFPLENBQUMsRUFBRyxFQUF1QixLQUFNLEdBQXVCLEdBQUcsRUFBRyxFQUF1QixLQUFNLEdBQWdDLEdBQUcsQ0FBQyxDQUN4SixDQUNBLFNBQVUsQ0FFTixHQURBLEVBQXVCLEtBQU0sR0FBMEIsR0FBTSxHQUFHLEVBQzVELENBQUMsRUFBdUIsS0FBTSxFQUFzQixHQUFHLEVBQUUscUJBQXFCLEVBQUcsQ0FDakYsR0FBSSxDQUFDLEtBQUssT0FBUSxDQUNkLEdBQU0sR0FBUSxLQUFLLElBQW1DLEVBQXVCLEtBQU0sR0FBNEIsR0FBRyxFQUFHLE9BQVcsT0FBVyxFQUFHLEVBQUksRUFDbEosR0FBSSxFQUFVLENBQUssRUFDZixNQUFPLEdBQU0sS0FBSyxJQUNQLEVBQXVCLEtBQU0sRUFBc0IsR0FBRyxFQUFFLEtBQUssQ0FDdkUsQ0FFVCxDQUNBLEdBQU0sR0FBa0IsRUFBdUIsS0FBTSxHQUF3QixHQUFHLEVBQUUsb0JBQW9CLElBQUksRUFDMUcsR0FBSSxFQUFVLENBQWUsRUFDekIsTUFBTyxHQUFnQixLQUFLLElBQ2pCLEVBQXVCLEtBQU0sRUFBc0IsR0FBRyxFQUFFLEtBQUssQ0FDdkUsQ0FFVCxDQUNBLE1BQU8sU0FBUSxRQUFRLEVBQXVCLEtBQU0sRUFBc0IsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUN6RixDQUNBLFlBQWEsQ0FDVCxNQUFPLEdBQXVCLEtBQU0sRUFBd0IsR0FBRyxDQUNuRSxDQUNBLFdBQVksQ0FDUixNQUFPLEdBQXVCLEtBQU0sR0FBdUIsR0FBRyxDQUNsRSxDQUNBLG1CQUFvQixDQUNoQixNQUFPLEdBQXVCLEtBQU0sR0FBK0IsR0FBRyxDQUMxRSxDQUNBLGtCQUFtQixDQUNmLE1BQU8sR0FBdUIsS0FBTSxHQUE4QixHQUFHLENBQ3pFLENBQ0EsT0FBTyxFQUFTLEVBQVEsQ0FDcEIsU0FBUSwyQkFBNEIsQ0FBQyxFQUFTLENBQU0sRUFBRyxVQUFVLE1BQU0sRUFDdkUsRUFBVSxDQUFDLEVBQUUsT0FBTyxDQUFPLEVBQzNCLEFBQUksSUFBVyxHQUNYLEVBQXVCLEtBQU0sRUFBd0IsR0FBRyxFQUFFLE1BQVEsRUFBdUIsS0FBTSxFQUF3QixHQUFHLEVBQUUsTUFBTSxPQUFPLEdBQUssRUFBUSxRQUFRLENBQUMsSUFBTSxFQUFFLEVBR3ZLLEVBQVEsUUFBUSxHQUFLLENBQ2pCLEFBQUssRUFBdUIsS0FBTSxFQUF3QixHQUFHLEVBQUUsTUFBTSxTQUFTLENBQUMsR0FDM0UsRUFBdUIsS0FBTSxFQUF3QixHQUFHLEVBQUUsTUFBTSxLQUFLLENBQUMsQ0FDOUUsQ0FBQyxFQUVFLElBQ1gsQ0FDQSxNQUFNLEVBQU0sRUFBVyxDQUNuQixFQUFRLDBCQUEyQixDQUFDLEVBQU0sQ0FBUyxFQUFHLFVBQVUsTUFBTSxFQUN0RSxHQUFNLEdBQVcsRUFBdUIsS0FBTSxHQUFnQyxHQUFHLEVBQUUsSUFBYyxFQUF1QixLQUFNLEdBQXVCLEdBQUcsRUFBRSxHQUMxSixBQUFJLEVBQXVCLEtBQU0sR0FBZ0MsR0FBRyxFQUFFLElBQ2xFLE1BQU8sR0FBdUIsS0FBTSxHQUFnQyxHQUFHLEVBQUUsR0FFN0UsR0FBTSxHQUFPLENBQUMsRUFDZCxTQUF1QixLQUFNLEdBQXVCLEdBQUcsRUFBRSxHQUFjLElBQVksQ0FBQyxHQUFHLE9BQU8sQ0FBSSxFQUFFLE9BQU8sR0FDbkcsRUFBSyxHQUNFLEdBQ0gsRUFBSyxHQUFPLEVBQ3ZCLEVBQ00sSUFDWCxDQUNBLEtBQUssRUFBSyxDQUNOLFNBQVEsV0FBWSxDQUFDLENBQUcsRUFBRyxVQUFVLE1BQU0sRUFDM0MsRUFBdUIsS0FBTSxFQUF3QixHQUFHLEVBQUUsY0FBYyxLQUFLLENBQUcsRUFDekUsSUFDWCxDQUNBLFFBQVEsRUFBSyxFQUFPLENBQ2hCLFNBQVEsd0NBQXlDLENBQUMsRUFBSyxDQUFLLEVBQUcsVUFBVSxNQUFNLEVBQy9FLEVBQXVCLEtBQU0sRUFBMkIsR0FBRyxFQUFFLFFBQVEsRUFBSyxDQUFLLEVBQ3hFLElBQ1gsQ0FDQSxPQUFPLEVBQVEsQ0FFWCxNQURBLEdBQVEsV0FBWSxDQUFDLENBQU0sRUFBRyxVQUFVLE1BQU0sRUFDMUMsSUFBVyxPQUNYLE1BQUssSUFBYyxFQUNaLEVBQXVCLEtBQU0sRUFBcUIsR0FBRyxFQUFFLEtBQUssVUFBVSxHQUVqRixHQUF1QixLQUFNLEdBQTZCLEdBQU8sR0FBRyxFQUNwRSxFQUF1QixLQUFNLEVBQXFCLEdBQUcsRUFBRSxLQUFLLFVBQVUsQ0FBTSxFQUNyRSxLQUNYLENBQ0EsV0FBVyxFQUFVLEVBQXVCLEVBQVEsQ0FDaEQsTUFBTyxHQUF1QixLQUFNLEdBQWlDLEdBQUcsRUFBRSxjQUFjLEVBQVUsQ0FBQyxDQUFDLEVBQXVCLENBQU0sQ0FDckksQ0FDQSxNQUFNLEVBQUssRUFBTyxDQUNkLFNBQVEsaUNBQWtDLENBQUMsRUFBSyxDQUFLLEVBQUcsVUFBVSxNQUFNLEVBQ3hFLEtBQUssSUFBMEMsS0FBSyxNQUFNLEtBQUssSUFBSSxFQUFHLE9BQVEsRUFBSyxDQUFLLEVBQ2pGLElBQ1gsQ0FDQSxVQUFVLEVBQU0sQ0FDWixTQUFRLGlCQUFrQixDQUFDLENBQUksRUFBRyxVQUFVLE1BQU0sRUFDbEQsS0FBSyxJQUEwQixZQUFhLENBQUksRUFDekMsSUFDWCxDQUNBLE9BQU8sRUFBTSxDQUNULFNBQVEsaUJBQWtCLENBQUMsQ0FBSSxFQUFHLFVBQVUsTUFBTSxFQUNsRCxLQUFLLElBQTBCLFNBQVUsQ0FBSSxFQUM3QyxLQUFLLElBQXVCLENBQUksRUFDekIsSUFDWCxDQUNBLE9BQU8sRUFBSyxFQUFLLENBRWIsR0FEQSxFQUFRLDJCQUE0QixDQUFDLEVBQUssQ0FBRyxFQUFHLFVBQVUsTUFBTSxFQUM1RCxNQUFPLElBQVEsU0FDZixPQUFPLEtBQUssQ0FBRyxFQUFFLFFBQVEsR0FBSyxDQUMxQixLQUFLLFFBQVEsRUFBRyxFQUFJLEVBQUUsQ0FDMUIsQ0FBQyxNQUVBLENBQ0QsQUFBSSxNQUFPLElBQVEsVUFDZixHQUFNLENBQUMsR0FFWCxLQUFLLElBQXVCLENBQUcsRUFDM0IsRUFBdUIsS0FBTSxHQUEyQixHQUFHLEdBQU0sS0FBUSxXQUFjLElBQVEsS0FBeUIsT0FBUyxFQUFJLFNBQVcsWUFDaEosS0FBSyxJQUFjLENBQ2YsZ0NBQ0Esa0NBQ0EsZ0ZBQ0Esb0VBQ0EsK0JBQ0Esa0RBQ0osRUFBRSxLQUFLO0FBQUEsQ0FBSSxFQUFHLE9BQVcsZ0JBQWdCLEVBRTdDLEVBQXVCLEtBQU0sRUFBd0IsR0FBRyxFQUFFLElBQUksR0FBTyxHQUNqRSxFQUFJLE9BQ0osS0FBSyxNQUFNLEVBQUssRUFBSSxLQUFLLEVBQzdCLEdBQU0sR0FBWSxFQUFJLFdBQWEsRUFBSSxXQUN2QyxBQUFJLEdBQ0EsS0FBSyxnQkFBZ0IsRUFBSyxDQUFTLEVBRXZDLEdBQU0sR0FBUyxFQUFJLFFBQVUsRUFBSSxVQUFZLEVBQUksUUFDakQsQUFBSSxHQUNBLEtBQUssT0FBTyxFQUFLLENBQU0sRUFFdkIsRUFBSSxjQUNKLEtBQUssYUFBYSxFQUFLLE1BQU8sR0FBSSxjQUFpQixTQUFXLEVBQUksYUFBZSxNQUFTLEVBRTFGLEVBQUksV0FDSixLQUFLLFVBQVUsRUFBSyxFQUFJLFNBQVMsRUFFakMsV0FBYSxJQUNiLEtBQUssUUFBUSxFQUFLLEVBQUksT0FBTyxFQUU3QixFQUFJLFVBQVksUUFDaEIsS0FBSyxRQUFRLEVBQUssRUFBSSxPQUFPLEVBRTdCLEVBQUksUUFBVSxRQUNkLEtBQUssTUFBTSxFQUFLLEVBQUksS0FBSyxFQUV6QixFQUFJLFFBQ0osS0FBSyxPQUFPLEVBQUssRUFBSSxZQUFZLEVBRWpDLEVBQUksV0FDSixLQUFLLFVBQVUsQ0FBRyxFQUVsQixFQUFJLFNBQ0osS0FBSyxRQUFRLEVBQUssRUFBSSxPQUFPLEVBRTdCLEVBQUksUUFDSixLQUFLLE9BQU8sRUFBSyxFQUFJLE1BQU0sRUFFM0IsRUFBSSxPQUNKLEtBQUssTUFBTSxFQUFLLEVBQUksS0FBSyxFQUV6QixHQUFJLFNBQVcsRUFBSSxPQUFTLFlBQzVCLE1BQUssUUFBUSxDQUFHLEVBQ1osRUFBSSxPQUNKLEtBQUssUUFBUSxFQUFJLEtBQUssR0FFMUIsR0FBSSxPQUFTLEVBQUksT0FBUyxVQUMxQixNQUFLLE1BQU0sQ0FBRyxFQUNWLEVBQUksT0FDSixLQUFLLE1BQU0sRUFBSSxLQUFLLEdBRXhCLEdBQUksUUFBVSxFQUFJLE9BQVMsV0FDM0IsTUFBSyxPQUFPLENBQUcsRUFDWCxFQUFJLE9BQ0osS0FBSyxPQUFPLEVBQUksS0FBSyxHQUV6QixHQUFJLFFBQVUsRUFBSSxPQUFTLFdBQzNCLE1BQUssT0FBTyxDQUFHLEVBQ1gsRUFBSSxPQUNKLEtBQUssT0FBTyxFQUFJLEtBQUssR0FFekIsR0FBSSxPQUFTLEVBQUksT0FBUyxVQUMxQixLQUFLLE1BQU0sQ0FBRyxFQUVkLE1BQU8sR0FBSSxRQUFXLFdBQ3RCLEtBQUssT0FBTyxFQUFLLEVBQUksTUFBTSxFQUUzQixFQUFJLG9CQUNKLEdBQXVCLEtBQU0sRUFBd0IsR0FBRyxFQUFFLG1CQUFtQixHQUFPLEVBQUksb0JBRXhGLEVBQUksZ0JBQ0osS0FBSyxlQUFlLENBQUcsRUFFM0IsR0FBTSxHQUFPLEVBQUksVUFBWSxFQUFJLGFBQWUsRUFBSSxLQUM5QyxFQUFlLEVBQXVCLEtBQU0sRUFBc0IsR0FBRyxFQUFFLGdCQUFnQixFQUM3RixBQUFJLEVBQUMsT0FBTyxVQUFVLGVBQWUsS0FBSyxFQUFjLENBQUcsR0FDdkQsTUFBTyxJQUFTLFdBQ2hCLEtBQUssU0FBUyxFQUFLLENBQUksRUFFdkIsRUFBSSxRQUNKLEtBQUssS0FBSyxDQUFHLEVBRWIsRUFBSSxhQUNKLEtBQUssWUFBWSxDQUFHLENBRTVCLENBQ0EsTUFBTyxLQUNYLENBQ0EsUUFBUSxFQUFLLEVBQUssQ0FDZCxNQUFPLE1BQUssT0FBTyxFQUFLLENBQUcsQ0FDL0IsQ0FDQSxNQUFNLEVBQU0sRUFBYyxFQUFVLENBQ2hDLEVBQVEsc0RBQXVELENBQUMsRUFBTSxFQUFjLENBQVEsRUFBRyxVQUFVLE1BQU0sRUFDL0csS0FBSyxJQUFTLEVBQ1YsTUFBTyxHQUFTLEtBQ2hCLEdBQU8sRUFBdUIsS0FBTSxHQUE0QixHQUFHLEdBRW5FLE1BQU8sSUFBaUIsVUFDeEIsR0FBdUIsS0FBTSxHQUE2QixFQUFjLEdBQUcsRUFDM0UsRUFBZSxHQUVmLE1BQU8sSUFBaUIsWUFDeEIsR0FBdUIsS0FBTSxHQUF3QixFQUFjLEdBQUcsRUFDdEUsRUFBZSxJQUVkLEdBQ0QsRUFBdUIsS0FBTSxHQUE0QixFQUFNLEdBQUcsRUFDbEUsRUFBdUIsS0FBTSxHQUF3QixHQUFHLEdBQ3hELEVBQXVCLEtBQU0sR0FBNEIsR0FBTyxHQUFHLEVBQ3ZFLEdBQU0sR0FBUyxLQUFLLElBQW1DLEVBQU0sQ0FBQyxDQUFDLENBQVksRUFDckUsRUFBWSxLQUFLLE9BRXZCLE1BREEsR0FBdUIsS0FBTSxHQUEyQixHQUFHLEVBQUUsVUFBVSxLQUFLLE1BQU0sRUFDOUUsRUFBVSxDQUFNLEVBQ1QsRUFDRixLQUFLLEdBQ0YsR0FBdUIsS0FBTSxHQUF3QixHQUFHLEdBQ3hELEVBQXVCLEtBQU0sR0FBd0IsR0FBRyxFQUFFLEtBQUssS0FBTSxFQUF1QixLQUFNLEdBQTBCLEdBQUcsRUFBRyxFQUFNLEVBQXVCLEtBQU0sR0FBdUIsR0FBRyxDQUFDLEVBQzdMLEVBQ1YsRUFDSSxNQUFNLEdBQU8sQ0FDZCxLQUFJLEdBQXVCLEtBQU0sR0FBd0IsR0FBRyxHQUN4RCxFQUF1QixLQUFNLEdBQXdCLEdBQUcsRUFBRSxFQUFLLEtBQUssT0FBTyxLQUFNLEVBQXVCLEtBQU0sR0FBdUIsR0FBRyxDQUFDLEVBRXZJLENBQ1YsQ0FBQyxFQUNJLFFBQVEsSUFBTSxDQUNmLEtBQUssSUFBVyxFQUNoQixLQUFLLE9BQVMsQ0FDbEIsQ0FBQyxFQUdHLEdBQXVCLEtBQU0sR0FBd0IsR0FBRyxHQUN4RCxFQUF1QixLQUFNLEdBQXdCLEdBQUcsRUFBRSxLQUFLLEtBQU0sRUFBdUIsS0FBTSxHQUEwQixHQUFHLEVBQUcsRUFBUSxFQUF1QixLQUFNLEdBQXVCLEdBQUcsQ0FBQyxFQUN0TSxLQUFLLElBQVcsRUFDaEIsS0FBSyxPQUFTLEVBRVgsRUFDWCxDQUNBLFdBQVcsRUFBTSxFQUFjLEVBQVUsQ0FDckMsR0FBTSxHQUFlLEtBQUssTUFBTSxFQUFNLEVBQWMsQ0FBUSxFQUM1RCxNQUFPLEFBQUMsR0FBVSxDQUFZLEVBRXhCLEVBREEsUUFBUSxRQUFRLENBQVksQ0FFdEMsQ0FDQSxVQUFVLEVBQU0sRUFBYyxFQUFVLENBQ3BDLEdBQU0sR0FBZSxLQUFLLE1BQU0sRUFBTSxFQUFjLENBQVEsRUFDNUQsR0FBSSxFQUFVLENBQVksRUFDdEIsS0FBTSxJQUFJLEdBQU8sbUZBQW1GLEVBRXhHLE1BQU8sRUFDWCxDQUNBLG9CQUFvQixFQUFRLENBQ3hCLFNBQVEsV0FBWSxDQUFDLENBQU0sRUFBRyxVQUFVLE1BQU0sRUFDOUMsRUFBdUIsS0FBTSxHQUE2QixFQUFRLEdBQUcsRUFDOUQsSUFDWCxDQUNBLFFBQVEsRUFBSyxFQUFVLENBQ25CLEVBQVEsb0JBQXFCLENBQUMsRUFBSyxDQUFRLEVBQUcsVUFBVSxNQUFNLEVBQzlELEdBQUksR0FBTyxLQUNMLEVBQU0sS0FBSyxJQUFRLEdBQVksRUFBdUIsS0FBTSxHQUFvQixHQUFHLENBQUMsRUFDMUYsTUFBSSxHQUFJLElBQVEsTUFBTyxHQUFJLElBQVMsVUFDaEMsR0FBTyxHQUFhLEVBQUksR0FBTSxHQUFZLEVBQXVCLEtBQU0sR0FBb0IsR0FBRyxFQUFHLEtBQUssSUFBeUIsRUFBRSxzQkFBd0IsR0FBTyxFQUF1QixLQUFNLEVBQXFCLEdBQUcsQ0FBQyxFQUN0TixFQUF1QixLQUFNLEVBQXdCLEdBQUcsRUFBRSxjQUFpQixHQUF1QixLQUFNLEVBQXdCLEdBQUcsRUFBRSxlQUFpQixDQUFDLEdBQUcsT0FBTyxDQUFJLEdBRWxLLElBQ1gsQ0FDQSxXQUFXLEVBQUssRUFBTSxDQUNsQixFQUFRLG9CQUFxQixDQUFDLEVBQUssQ0FBSSxFQUFHLFVBQVUsTUFBTSxFQUMxRCxHQUFNLEdBQWdCLENBQ2xCLFVBQ0EscUJBQ0EsVUFDQSxZQUNBLFVBQ0EsWUFDQSxTQUNBLE9BQ0EsV0FDQSxPQUNBLGNBQ0EsT0FDSixFQUNBLEVBQU8sR0FBVSxFQUFNLENBQUMsRUFBRyxJQUNuQixJQUFNLFFBQVUsQ0FBQyxDQUFDLFNBQVUsU0FBVSxTQUFTLEVBQUUsU0FBUyxDQUFDLEVBQ3BELEdBQ0osRUFBYyxTQUFTLENBQUMsQ0FDbEMsRUFDRCxHQUFNLEdBQWMsRUFBdUIsS0FBTSxHQUF3QixHQUFHLEVBQUUsYUFBYSxFQUF1QixLQUFNLEdBQXdCLEdBQUcsRUFBRSxhQUFhLE9BQVMsR0FDckssRUFBZSxFQUNmLEVBQXVCLEtBQU0sR0FBd0IsR0FBRyxFQUFFLGtCQUFrQixDQUFXLEVBQ3ZGLENBQ0UsTUFBTyxDQUFDLEVBQ1IsTUFBTyxDQUFDLEVBQ1IsUUFBUyxDQUFDLEVBQ1YsT0FBUSxDQUFDLENBQ2IsRUFDSixVQUFXLENBQVksRUFBRSxRQUFRLEdBQU0sQ0FDbkMsR0FBTSxHQUFjLEVBQWEsR0FDakMsQUFBSSxNQUFNLFFBQVEsQ0FBVyxFQUNyQixFQUFZLFFBQVEsQ0FBRyxJQUFNLElBQzdCLEdBQUssR0FBTSxJQUdYLEVBQVksSUFBUSxDQUFFLEtBQU0sS0FDNUIsR0FBSyxHQUFNLEVBQVksR0FFbkMsQ0FBQyxFQUNELEtBQUssTUFBTSxFQUFLLEVBQXVCLEtBQU0sRUFBc0IsR0FBRyxFQUFFLHVCQUF1QixDQUFDLEVBQ3pGLEtBQUssT0FBTyxFQUFLLENBQUksQ0FDaEMsQ0FDQSxrQkFBa0IsRUFBWSxHQUFNLENBQ2hDLFNBQVEsWUFBYSxDQUFDLENBQVMsRUFBRyxVQUFVLE1BQU0sRUFDbEQsRUFBdUIsS0FBTSxHQUFrQyxFQUFXLEdBQUcsRUFDdEUsSUFDWCxDQUNBLFNBQVMsRUFBTSxFQUFLLEVBQUssQ0FDckIsTUFBTyxNQUFLLE9BQU8sRUFBTSxFQUFLLENBQUcsQ0FDckMsQ0FDQSxRQUFRLEVBQU0sRUFBSyxFQUFLLENBQ3BCLE1BQU8sTUFBSyxPQUFPLEVBQU0sRUFBSyxDQUFHLENBQ3JDLENBQ0EsWUFBWSxFQUFNLENBRWQsTUFEQSxHQUFRLGlDQUFrQyxDQUFDLENBQUksRUFBRyxVQUFVLE1BQU0sRUFDOUQsTUFBTyxJQUFTLFVBQVksRUFBdUIsS0FBTSxFQUF3QixHQUFHLEVBQUUsS0FBSyxHQUNwRixLQUdQLE1BQUssSUFBMEMsS0FBSyxZQUFZLEtBQUssSUFBSSxFQUFHLE9BQVEsRUFBTSxHQUFHLEVBRTFGLEtBQ1gsQ0FDQSxxQkFBcUIsRUFBSSxFQUFLLENBQzFCLFNBQVEsb0JBQXFCLENBQUMsRUFBSSxDQUFHLEVBQUcsVUFBVSxNQUFNLEVBQ3hELEVBQUssR0FBTSxLQUFLLEdBQ2hCLEVBQXVCLEtBQU0sR0FBdUIsR0FBRyxFQUFFLElBQUksRUFBdUIsS0FBTSxHQUEyQixHQUFHLEVBQUUseUJBQXlCLEVBQUksR0FBTyxFQUF1QixLQUFNLEdBQWtDLEdBQUcsR0FBSyxZQUFZLENBQUMsRUFDM08sSUFDWCxDQUNBLFNBQVMsRUFBTyxDQUdaLEdBRkEsRUFBUSxvQkFBcUIsQ0FBQyxDQUFLLEVBQUcsVUFBVSxNQUFNLEVBQ3RELEVBQXVCLEtBQU0sR0FBMEIsR0FBTSxHQUFHLEVBQzVELENBQUMsRUFBdUIsS0FBTSxFQUFzQixHQUFHLEVBQUUscUJBQXFCLEVBQUcsQ0FDakYsR0FBSSxDQUFDLEtBQUssT0FBUSxDQUNkLEdBQU0sR0FBUSxLQUFLLElBQW1DLEVBQXVCLEtBQU0sR0FBNEIsR0FBRyxFQUFHLE9BQVcsT0FBVyxFQUFHLEVBQUksRUFDbEosR0FBSSxFQUFVLENBQUssRUFDZixTQUFNLEtBQUssSUFBTSxDQUNiLEVBQXVCLEtBQU0sRUFBc0IsR0FBRyxFQUFFLFNBQVMsQ0FBSyxDQUMxRSxDQUFDLEVBQ00sSUFFZixDQUNBLEdBQU0sR0FBa0IsRUFBdUIsS0FBTSxHQUF3QixHQUFHLEVBQUUsb0JBQW9CLElBQUksRUFDMUcsR0FBSSxFQUFVLENBQWUsRUFDekIsU0FBZ0IsS0FBSyxJQUFNLENBQ3ZCLEVBQXVCLEtBQU0sRUFBc0IsR0FBRyxFQUFFLFNBQVMsQ0FBSyxDQUMxRSxDQUFDLEVBQ00sSUFFZixDQUNBLFNBQXVCLEtBQU0sRUFBc0IsR0FBRyxFQUFFLFNBQVMsQ0FBSyxFQUMvRCxJQUNYLENBQ0EsV0FBVyxFQUFZLENBQ25CLFlBQUssaUJBQW1CLEdBQ3hCLEtBQUssR0FBSyxFQUNILElBQ1gsQ0FDQSxlQUFlLEVBQVMsRUFBUyxDQUM3QixTQUFRLDRCQUE2QixDQUFDLEVBQVMsQ0FBTyxFQUFHLFVBQVUsTUFBTSxFQUN6RSxFQUF1QixLQUFNLEVBQXNCLEdBQUcsRUFBRSxlQUFlLEVBQVMsQ0FBTyxFQUNoRixJQUNYLENBQ0EsWUFBWSxFQUFPLENBQ2YsU0FBUSxvQkFBcUIsQ0FBQyxDQUFLLEVBQUcsVUFBVSxNQUFNLEVBQ3RELEVBQXVCLEtBQU0sRUFBc0IsR0FBRyxFQUFFLFlBQVksQ0FBSyxFQUNsRSxJQUNYLENBQ0EsZUFBZSxFQUFNLENBQ2pCLFNBQVEsaUJBQWtCLENBQUMsQ0FBSSxFQUFHLFVBQVUsTUFBTSxFQUNsRCxLQUFLLElBQTBCLGlCQUFrQixDQUFJLEVBQzlDLElBQ1gsQ0FDQSxPQUFPLEVBQVMsQ0FDWixTQUFRLFlBQWEsQ0FBQyxDQUFPLEVBQUcsVUFBVSxNQUFNLEVBQ2hELEVBQXVCLEtBQU0sR0FBdUIsSUFBWSxHQUFPLEdBQUcsRUFDbkUsSUFDWCxDQUNBLGVBQWUsRUFBUyxDQUNwQixTQUFRLFlBQWEsQ0FBQyxDQUFPLEVBQUcsVUFBVSxNQUFNLEVBQ2hELEVBQXVCLEtBQU0sR0FBK0IsSUFBWSxHQUFPLEdBQUcsRUFDM0UsSUFDWCxDQUNBLGNBQWMsRUFBUyxDQUNuQixTQUFRLFlBQWEsQ0FBQyxDQUFPLEVBQUcsVUFBVSxNQUFNLEVBQ2hELEVBQXVCLEtBQU0sR0FBOEIsSUFBWSxHQUFPLEdBQUcsRUFDMUUsSUFDWCxDQUNBLE9BQU8sRUFBTSxDQUNULFNBQVEsaUJBQWtCLENBQUMsQ0FBSSxFQUFHLFVBQVUsTUFBTSxFQUNsRCxLQUFLLElBQTBCLFNBQVUsQ0FBSSxFQUM3QyxLQUFLLElBQXVCLENBQUksRUFDekIsSUFDWCxDQUNBLGVBQWdCLENBQ1osU0FBUSxDQUFDLEVBQUcsQ0FBQyxFQUNOLEVBQXVCLEtBQU0sRUFBcUIsR0FBRyxFQUFFLFFBQVEsVUFDMUUsQ0FDQSxhQUFhLEVBQUssQ0FDZCxNQUFPLE1BQUssY0FBYyxDQUFHLENBQ2pDLENBQ0EsY0FBYyxFQUFLLENBQ2YsU0FBUSxXQUFZLENBQUMsQ0FBRyxFQUFHLFVBQVUsTUFBTSxFQUMzQyxFQUF1QixLQUFNLEdBQTZCLEdBQU8sR0FBRyxFQUNwRSxFQUF1QixLQUFNLEVBQXFCLEdBQUcsRUFBRSxLQUFLLGFBQWEsQ0FBRyxFQUNyRSxJQUNYLENBQ0EsTUFBTSxFQUFLLEVBQWEsRUFBUyxFQUFTLENBRXRDLEdBREEsRUFBUSx3RUFBeUUsQ0FBQyxFQUFLLEVBQWEsRUFBUyxDQUFPLEVBQUcsVUFBVSxNQUFNLEVBQ25JLElBQWdCLE9BQVcsQ0FFM0IsR0FEQSxHQUFxQixFQUFLLEtBQU0sRUFBdUIsS0FBTSxFQUFxQixHQUFHLENBQUMsRUFDakYsSUFBTyxJQUFJLE1BQU0sV0FBVyxFQUM3QixNQUFPLE1BQUssUUFBUSxFQUFLLEVBQWEsRUFBUyxDQUFPLEVBR3RELEtBQU0sSUFBSSxHQUFPLCtFQUErRSxDQUV4RyxLQUVJLFVBQXVCLEtBQU0sRUFBc0IsR0FBRyxFQUFFLE1BQU0sQ0FBRyxFQUMxRCxJQUVmLENBQ0EsbUJBQW1CLEVBQVEsQ0FDdkIsU0FBUSxXQUFZLENBQUMsQ0FBTSxFQUFHLFVBQVUsTUFBTSxFQUM5QyxFQUF1QixLQUFNLEdBQTRCLEVBQVEsR0FBRyxFQUM3RCxJQUNYLENBQ0EsUUFBUSxFQUFLLEVBQUssRUFBSyxDQUNuQixHQUFNLEdBQW9CLFVBTzFCLEdBTkEsRUFBUSxxQ0FBc0MsQ0FBQyxFQUFLLEVBQUssQ0FBRyxFQUFHLFVBQVUsTUFBTSxFQUMzRSxFQUF1QixLQUFNLEdBQTJCLEdBQUcsR0FDM0QsTUFBSyxJQUE2QixFQUF1QixLQUFNLEdBQTJCLEdBQUcsQ0FBQyxFQUM5RixFQUF1QixLQUFNLEVBQXNCLEdBQUcsRUFBRSxRQUFRLE1BQVMsRUFDekUsRUFBdUIsS0FBTSxHQUEyQixLQUFNLEdBQUcsR0FFakUsVUFBVSxTQUFXLEVBQ3JCLEVBQU0sS0FBSyxJQUFlLEVBQzFCLEVBQU0sVUFFRCxVQUFVLFNBQVcsRUFBRyxDQUM3QixHQUFJLElBQVEsR0FDUixNQUFPLE1BRVgsRUFBTSxFQUNOLEVBQU0sQ0FDVixLQUNLLEFBQUksV0FBVSxTQUFXLEdBQzFCLEdBQU0sRUFDTixFQUFNLFFBRVYsU0FBdUIsS0FBTSxHQUEyQixNQUFPLElBQVEsU0FBVyxFQUFNLEVBQW1CLEdBQUcsRUFDOUcsRUFBTSxHQUFPLEVBQXVCLEtBQU0sRUFBc0IsR0FBRyxFQUFFLGdCQUFnQixxQkFBcUIsRUFDMUcsRUFBdUIsS0FBTSxFQUFzQixHQUFHLEVBQUUsUUFBUSxHQUFPLE1BQVMsRUFDaEYsS0FBSyxRQUFRLEVBQXVCLEtBQU0sR0FBMkIsR0FBRyxDQUFDLEVBQ3pFLEtBQUssU0FBUyxFQUF1QixLQUFNLEdBQTJCLEdBQUcsRUFBRyxDQUFHLEVBQ3hFLElBQ1gsQ0FDQSxLQUFLLEVBQU0sQ0FDUCxTQUFRLDBCQUEyQixDQUFDLENBQUksRUFBRyxVQUFVLE1BQU0sRUFDM0QsRUFBdUIsS0FBTSxFQUFzQixHQUFHLEVBQUUsS0FBSyxDQUFJLEVBQzFELElBQ1gsQ0FDQSxDQUFFLElBQXlCLEdBQUksU0FBVyxHQUFxQixHQUFJLFNBQVcsR0FBeUIsR0FBSSxTQUFXLEdBQTRCLEdBQUksU0FBVyxHQUFtQyxHQUFJLFNBQVcsR0FBc0MsR0FBSSxTQUFXLEdBQTJCLEdBQUksU0FBVyxHQUE4QixHQUFJLFNBQVcsR0FBaUMsR0FBSSxTQUFXLEdBQTZCLEdBQUksU0FBVyxHQUF5QixHQUFJLFNBQVcsR0FBa0MsR0FBSSxTQUFXLEdBQXdCLEdBQUksU0FBVyxHQUEyQixHQUFJLFNBQVcsR0FBeUIsR0FBSSxTQUFXLEdBQWlDLEdBQUksU0FBVyxHQUF3QixHQUFJLFNBQVcsR0FBd0IsR0FBSSxTQUFXLEVBQXlCLEdBQUksU0FBVyxHQUErQixHQUFJLFNBQVcsR0FBOEIsR0FBSSxTQUFXLEdBQXlCLEdBQUksU0FBVyxHQUE4QixHQUFJLFNBQVcsR0FBc0IsR0FBSSxTQUFXLEdBQWlDLEdBQUksU0FBVyxHQUE2QixHQUFJLFNBQVcsR0FBbUMsR0FBSSxTQUFXLEVBQXNCLEdBQUksU0FBVyxHQUF3QixHQUFJLFNBQVcsR0FBZ0MsR0FBSSxTQUFXLEdBQStCLEdBQUksU0FBVyxFQUF1QixHQUFJLFNBQVcsR0FBNkIsR0FBSSxTQUFXLEdBQTRCLEdBQUksU0FBVyxFQUE0QixHQUFJLFNBQVcsS0FBa0IsRUFBTSxDQUMzL0MsR0FBSSxDQUFDLEVBQUssR0FBSyxDQUFDLEVBQUssTUFDakIsTUFBTyxHQUNYLEVBQUssRUFBRSxLQUFLLE1BQU0sRUFBSyxFQUFHLEVBQUssS0FBSyxFQUNwQyxHQUFJLENBQ0EsTUFBTyxHQUFLLEtBQ2hCLE1BQ0EsQ0FBZSxDQUNmLE1BQU8sRUFDWCxDQUNBLENBQUMsS0FBaUIsQ0FDZCxNQUFPLENBQ0gsSUFBSyxJQUFJLElBQVMsQ0FDZCxBQUFLLEtBQUssSUFBbUIsR0FDekIsUUFBUSxJQUFJLEdBQUcsQ0FBSSxFQUN2QixFQUF1QixLQUFNLEdBQTBCLEdBQU0sR0FBRyxFQUM1RCxFQUF1QixLQUFNLEdBQXVCLEdBQUcsRUFBRSxRQUN6RCxFQUF1QixLQUFNLEdBQXVCLEVBQXVCLEtBQU0sR0FBdUIsR0FBRyxFQUFJO0FBQUEsRUFBTSxHQUFHLEVBQzVILEVBQXVCLEtBQU0sR0FBdUIsRUFBdUIsS0FBTSxHQUF1QixHQUFHLEVBQUksRUFBSyxLQUFLLEdBQUcsRUFBRyxHQUFHLENBQ3RJLEVBQ0EsTUFBTyxJQUFJLElBQVMsQ0FDaEIsQUFBSyxLQUFLLElBQW1CLEdBQ3pCLFFBQVEsTUFBTSxHQUFHLENBQUksRUFDekIsRUFBdUIsS0FBTSxHQUEwQixHQUFNLEdBQUcsRUFDNUQsRUFBdUIsS0FBTSxHQUF1QixHQUFHLEVBQUUsUUFDekQsRUFBdUIsS0FBTSxHQUF1QixFQUF1QixLQUFNLEdBQXVCLEdBQUcsRUFBSTtBQUFBLEVBQU0sR0FBRyxFQUM1SCxFQUF1QixLQUFNLEdBQXVCLEVBQXVCLEtBQU0sR0FBdUIsR0FBRyxFQUFJLEVBQUssS0FBSyxHQUFHLEVBQUcsR0FBRyxDQUN0SSxDQUNKLENBQ0osQ0FDQSxDQUFDLElBQTZCLEVBQVcsQ0FDckMsR0FBVyxFQUF1QixLQUFNLEVBQXdCLEdBQUcsQ0FBQyxFQUFFLFFBQVEsQUFBQyxHQUFZLENBQ3ZGLEdBQUssQ0FBQyxHQUFRLElBQVEsaUJBQWlCLENBQU8sRUFDMUMsT0FDSixHQUFNLEdBQU8sRUFBdUIsS0FBTSxFQUF3QixHQUFHLEVBQUUsR0FDdkUsQUFBSSxNQUFNLFFBQVEsQ0FBSSxFQUNkLEVBQUssU0FBUyxDQUFTLEdBQ3ZCLEVBQUssT0FBTyxFQUFLLFFBQVEsQ0FBUyxFQUFHLENBQUMsRUFFckMsTUFBTyxJQUFTLFVBQ3JCLE1BQU8sR0FBSyxFQUVwQixDQUFDLEVBQ0QsTUFBTyxHQUF1QixLQUFNLEVBQXNCLEdBQUcsRUFBRSxnQkFBZ0IsRUFBRSxFQUNyRixDQUNBLENBQUMsSUFBYyxFQUFTLEVBQU0sRUFBaUIsQ0FDM0MsQUFBSyxFQUF1QixLQUFNLEdBQWdDLEdBQUcsRUFBRSxJQUNuRSxHQUF1QixLQUFNLEVBQXFCLEdBQUcsRUFBRSxRQUFRLFlBQVksRUFBUyxDQUFJLEVBQ3hGLEVBQXVCLEtBQU0sR0FBZ0MsR0FBRyxFQUFFLEdBQW1CLEdBRTdGLENBQ0EsQ0FBQyxLQUFXLENBQ1IsRUFBdUIsS0FBTSxHQUF3QixHQUFHLEVBQUUsS0FBSyxDQUMzRCxRQUFTLEVBQXVCLEtBQU0sRUFBd0IsR0FBRyxFQUNqRSxjQUFlLEVBQXVCLEtBQU0sRUFBd0IsR0FBRyxFQUFFLGNBQWMsTUFBTSxDQUFDLEVBQzlGLFlBQWEsRUFBdUIsS0FBTSxHQUE0QixHQUFHLEVBQ3pFLE9BQVEsRUFBdUIsS0FBTSxHQUF1QixHQUFHLEVBQy9ELE9BQVEsRUFBdUIsS0FBTSxHQUF1QixHQUFHLEVBQy9ELGVBQWdCLEVBQXVCLEtBQU0sR0FBK0IsR0FBRyxFQUMvRSxjQUFlLEVBQXVCLEtBQU0sR0FBOEIsR0FBRyxFQUM3RSxrQkFBbUIsRUFBdUIsS0FBTSxHQUFrQyxHQUFHLEVBQ3JGLE9BQVEsRUFBdUIsS0FBTSxHQUF1QixHQUFHLEVBQy9ELFVBQVcsRUFBdUIsS0FBTSxHQUEwQixHQUFHLEVBQ3JFLFVBQVcsRUFBdUIsS0FBTSxHQUEwQixHQUFHLEVBQ3JFLE9BQVEsS0FBSyxPQUNiLFFBQVMsRUFBdUIsS0FBTSxHQUF3QixHQUFHLEVBQ2pFLGFBQWMsRUFBdUIsS0FBTSxHQUE2QixHQUFHLENBQy9FLENBQUMsRUFDRCxFQUF1QixLQUFNLEVBQXNCLEdBQUcsRUFBRSxPQUFPLEVBQy9ELEVBQXVCLEtBQU0sRUFBMkIsR0FBRyxFQUFFLE9BQU8sRUFDcEUsRUFBdUIsS0FBTSxHQUF3QixHQUFHLEVBQUUsT0FBTyxFQUNqRSxFQUF1QixLQUFNLEdBQWlDLEdBQUcsRUFBRSxPQUFPLENBQzlFLENBQ0EsQ0FBQyxLQUFrQixDQUNmLEdBQUksR0FBSyxHQUNMLEVBQ0osTUFBSSxrQ0FBa0MsS0FBSyxFQUF1QixLQUFNLEVBQXFCLEdBQUcsRUFBRSxRQUFRLEtBQUssRUFBRSxFQUFFLEVBQy9HLEVBQVksRUFBdUIsS0FBTSxFQUFxQixHQUFHLEVBQUUsUUFBUSxLQUFLLEVBQUUsTUFBTSxFQUFHLENBQUMsRUFHNUYsRUFBWSxFQUF1QixLQUFNLEVBQXFCLEdBQUcsRUFBRSxRQUFRLEtBQUssRUFBRSxNQUFNLEVBQUcsQ0FBQyxFQUVoRyxFQUFLLEVBQ0EsSUFBSSxHQUFLLENBQ1YsR0FBTSxHQUFJLEtBQUssSUFBUyxFQUF1QixLQUFNLEdBQW9CLEdBQUcsRUFBRyxDQUFDLEVBQ2hGLE1BQU8sR0FBRSxNQUFNLHNCQUFzQixHQUFLLEVBQUUsT0FBUyxFQUFFLE9BQVMsRUFBSSxDQUN4RSxDQUFDLEVBQ0ksS0FBSyxHQUFHLEVBQ1IsS0FBSyxFQUNOLEVBQXVCLEtBQU0sRUFBcUIsR0FBRyxFQUFFLE9BQU8sR0FBRyxHQUNqRSxFQUF1QixLQUFNLEVBQXFCLEdBQUcsRUFBRSxrQkFBa0IsSUFBTSxFQUF1QixLQUFNLEVBQXFCLEdBQUcsRUFBRSxPQUFPLEdBQUcsR0FDaEosR0FBSyxFQUF1QixLQUFNLEVBQXFCLEdBQUcsRUFDckQsT0FBTyxHQUFHLEVBQ1YsUUFBUSxHQUFHLEVBQXVCLEtBQU0sRUFBcUIsR0FBRyxFQUFFLEtBQUssUUFBUSxFQUF1QixLQUFNLEVBQXFCLEdBQUcsRUFBRSxRQUFRLFNBQVMsQ0FBQyxLQUFNLEVBQUUsR0FFbEssQ0FDWCxDQUNBLENBQUMsS0FBMkIsQ0FDeEIsTUFBTyxHQUF1QixLQUFNLEdBQTZCLEdBQUcsQ0FDeEUsQ0FDQSxDQUFDLEtBQTBCLENBQ3ZCLE1BQU8sR0FBdUIsS0FBTSxHQUE0QixHQUFHLENBQ3ZFLENBQ0EsQ0FBQyxLQUFnQixDQUNiLEdBQUksQ0FBQyxFQUF1QixLQUFNLEdBQTZCLEdBQUcsRUFDOUQsT0FDSixHQUFNLEdBQVMsRUFBdUIsS0FBTSxFQUFxQixHQUFHLEVBQUUsT0FBTyxRQUFRLEdBQ2pGLEVBQXVCLEtBQU0sRUFBcUIsR0FBRyxFQUFFLE9BQU8sYUFBYSxHQUMzRSxFQUF1QixLQUFNLEVBQXFCLEdBQUcsRUFBRSxPQUFPLE1BQU0sR0FDcEUsRUFBdUIsS0FBTSxFQUFxQixHQUFHLEVBQUUsT0FBTyxVQUFVLEdBQ3hFLFFBQ0osS0FBSyxPQUFPLEVBQU8sUUFBUSxTQUFVLEVBQUUsQ0FBQyxDQUM1QyxDQUNBLENBQUMsS0FBaUIsQ0FFZCxNQUFPLEFBREssTUFBSyxJQUFRLEVBQ2QsU0FBVyxTQUMxQixDQUNBLENBQUMsSUFBeUIsRUFBTSxDQUM1QixHQUFNLEdBQU8sRUFBSyxNQUFRLEVBQUssTUFBUSxFQUFLLEVBQzVDLE9BQVMsR0FBSSxFQUFHLEVBQU0sR0FBTSxFQUFLLE1BQVEsT0FBVyxJQUNoRCxBQUFJLEVBQXVCLEtBQU0sRUFBcUIsR0FBRyxFQUFFLE9BQU8sZ0JBQWdCLENBQUcsR0FDakYsT0FBTyxjQUFjLEtBQUssTUFBTSxXQUFXLEdBQUcsR0FBSyxDQUFDLENBQUMsR0FDckQsR0FBSyxHQUFLLE9BQU8sQ0FBRyxHQUc1QixNQUFPLEVBQ1gsQ0FDQSxDQUFDLElBQVEsRUFBVSxDQUNmLEdBQU0sR0FBUSxHQUFZLElBQzFCLEdBQUksRUFBdUIsS0FBTSxHQUFxQixHQUFHLEVBQUUsR0FDdkQsTUFBTyxHQUF1QixLQUFNLEdBQXFCLEdBQUcsRUFBRSxHQUNsRSxHQUFJLEdBQU0sQ0FBQyxFQUNYLEdBQUksQ0FDQSxHQUFJLEdBQVcsR0FBWSxFQUF1QixLQUFNLEVBQXFCLEdBQUcsRUFBRSxhQUNsRixBQUFJLENBQUMsR0FBWSxFQUF1QixLQUFNLEVBQXFCLEdBQUcsRUFBRSxLQUFLLFFBQVEsQ0FBUSxHQUN6RixHQUFXLEVBQXVCLEtBQU0sRUFBcUIsR0FBRyxFQUFFLEtBQUssUUFBUSxDQUFRLEdBRTNGLEdBQU0sR0FBYyxFQUF1QixLQUFNLEVBQXFCLEdBQUcsRUFBRSxPQUFPLEVBQVUsQ0FBQyxFQUFLLElBQVUsQ0FDeEcsR0FBSSxFQUFNLFNBQVMsY0FBYyxFQUM3QixNQUFPLGNBS2YsQ0FBQyxFQUNELEdBQXFCLEVBQWEsT0FBVyxFQUF1QixLQUFNLEVBQXFCLEdBQUcsQ0FBQyxFQUNuRyxFQUFNLEtBQUssTUFBTSxFQUF1QixLQUFNLEVBQXFCLEdBQUcsRUFBRSxhQUFhLEVBQWEsTUFBTSxDQUFDLENBQzdHLE1BQ0EsQ0FBZ0IsQ0FDaEIsU0FBdUIsS0FBTSxHQUFxQixHQUFHLEVBQUUsR0FBUyxHQUFPLENBQUMsRUFDakUsRUFBdUIsS0FBTSxHQUFxQixHQUFHLEVBQUUsRUFDbEUsQ0FDQSxDQUFDLElBQTBCLEVBQU0sRUFBTSxDQUNuQyxFQUFPLENBQUMsRUFBRSxPQUFPLENBQUksRUFDckIsRUFBSyxRQUFRLEdBQU8sQ0FDaEIsRUFBTSxLQUFLLElBQWMsQ0FBRyxFQUM1QixFQUF1QixLQUFNLEVBQXdCLEdBQUcsRUFBRSxHQUFNLEtBQUssQ0FBRyxDQUM1RSxDQUFDLENBQ0wsQ0FDQSxDQUFDLElBQTBDLEVBQVMsRUFBTSxFQUFLLEVBQU8sQ0FDbEUsS0FBSyxJQUErQixFQUFTLEVBQU0sRUFBSyxFQUFPLENBQUMsRUFBTSxFQUFLLElBQVUsQ0FDakYsRUFBdUIsS0FBTSxFQUF3QixHQUFHLEVBQUUsR0FBTSxHQUFPLENBQzNFLENBQUMsQ0FDTCxDQUNBLENBQUMsSUFBb0MsRUFBUyxFQUFNLEVBQUssRUFBTyxDQUM1RCxLQUFLLElBQStCLEVBQVMsRUFBTSxFQUFLLEVBQU8sQ0FBQyxFQUFNLEVBQUssSUFBVSxDQUNqRixFQUF1QixLQUFNLEVBQXdCLEdBQUcsRUFBRSxHQUFNLEdBQVEsR0FBdUIsS0FBTSxFQUF3QixHQUFHLEVBQUUsR0FBTSxJQUFRLENBQUMsR0FBRyxPQUFPLENBQUssQ0FDcEssQ0FBQyxDQUNMLENBQ0EsQ0FBQyxJQUErQixFQUFTLEVBQU0sRUFBSyxFQUFPLEVBQWtCLENBQ3pFLEdBQUksTUFBTSxRQUFRLENBQUcsRUFDakIsRUFBSSxRQUFRLEdBQUssQ0FDYixFQUFRLEVBQUcsQ0FBSyxDQUNwQixDQUFDLFVBRUssQ0FBQyxHQUFRLE1BQU8sSUFBUSxVQUFVLENBQUcsRUFDM0MsT0FBVyxLQUFLLElBQVcsQ0FBRyxFQUMxQixFQUFRLEVBQUcsRUFBSSxFQUFFLE1BSXJCLEdBQWlCLEVBQU0sS0FBSyxJQUFjLENBQUcsRUFBRyxDQUFLLENBRTdELENBQ0EsQ0FBQyxJQUFjLEVBQUssQ0FDaEIsTUFBSSxLQUFRLFlBQ0QsY0FDSixDQUNYLENBQ0EsQ0FBQyxJQUFTLEVBQUssRUFBSyxDQUNoQixZQUFLLElBQTBDLEtBQUssSUFBUyxLQUFLLElBQUksRUFBRyxNQUFPLEVBQUssQ0FBRyxFQUNqRixJQUNYLENBQ0EsQ0FBQyxLQUFhLENBQ1YsR0FBSSxHQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFDaEQsR0FBTSxHQUFTLEVBQXVCLEtBQU0sR0FBd0IsR0FBRyxFQUFFLElBQUksRUFDN0UsR0FBcUIsRUFBUSxPQUFXLEVBQXVCLEtBQU0sRUFBcUIsR0FBRyxDQUFDLEVBQzlGLEdBQUksR0FDSixBQUFDLEVBQUssS0FBTSxFQUFLLEtBQU0sRUFBSyxLQUFNLEVBQUssS0FBTSxFQUFLLEtBQU0sRUFBSyxLQUFNLEVBQUssS0FBTSxFQUFLLEtBQU0sRUFBSyxLQUFNLEVBQUssS0FBTSxFQUFLLEtBQU0sRUFBSyxLQUFNLENBQ2pJLFFBQVUsQ0FBRSxHQUFJLE9BQU0sRUFBSSxDQUFFLEVBQXVCLEVBQUksRUFBd0IsRUFBSSxHQUFHLENBQUcsQ0FBRSxFQUFHLE1BQzlGLGdCQUNBLFlBQWMsQ0FBRSxHQUFJLE9BQU0sRUFBSSxDQUFFLEVBQXVCLEVBQUksR0FBNEIsRUFBSSxHQUFHLENBQUcsQ0FBRSxFQUFHLE1BQ3RHLE9BQVMsQ0FBRSxHQUFJLE9BQU0sRUFBSSxDQUFFLEVBQXVCLEVBQUksR0FBdUIsRUFBSSxHQUFHLENBQUcsQ0FBRSxFQUFHLE1BQzVGLE9BQVMsQ0FBRSxHQUFJLE9BQU0sRUFBSSxDQUFFLEVBQXVCLEVBQUksR0FBdUIsRUFBSSxHQUFHLENBQUcsQ0FBRSxFQUFHLE1BQzVGLFVBQVksQ0FBRSxHQUFJLE9BQU0sRUFBSSxDQUFFLEVBQXVCLEVBQUksR0FBMEIsRUFBSSxHQUFHLENBQUcsQ0FBRSxFQUFHLE1BQ2xHLFVBQVksQ0FBRSxHQUFJLE9BQU0sRUFBSSxDQUFFLEVBQXVCLEVBQUksR0FBMEIsRUFBSSxHQUFHLENBQUcsQ0FBRSxFQUFHLE1BQ2xHLE9BQVEsS0FBSyxPQUNiLE9BQVMsQ0FBRSxHQUFJLE9BQU0sRUFBSSxDQUFFLEVBQXVCLEVBQUksR0FBdUIsRUFBSSxHQUFHLENBQUcsQ0FBRSxFQUFHLE1BQzVGLGVBQWlCLENBQUUsR0FBSSxPQUFNLEVBQUksQ0FBRSxFQUF1QixFQUFJLEdBQStCLEVBQUksR0FBRyxDQUFHLENBQUUsRUFBRyxNQUM1RyxjQUFnQixDQUFFLEdBQUksT0FBTSxFQUFJLENBQUUsRUFBdUIsRUFBSSxHQUE4QixFQUFJLEdBQUcsQ0FBRyxDQUFFLEVBQUcsTUFDMUcsa0JBQW9CLENBQUUsR0FBSSxPQUFNLEVBQUksQ0FBRSxFQUF1QixFQUFJLEdBQWtDLEVBQUksR0FBRyxDQUFHLENBQUUsRUFBRyxNQUNsSCxRQUFVLENBQUUsR0FBSSxPQUFNLEVBQUksQ0FBRSxFQUF1QixFQUFJLEdBQXdCLEVBQUksR0FBRyxDQUFHLENBQUUsRUFBRyxNQUM5RixhQUFlLENBQUUsR0FBSSxPQUFNLEVBQUksQ0FBRSxFQUF1QixFQUFJLEdBQTZCLEVBQUksR0FBRyxDQUFHLENBQUUsRUFBRyxLQUM1RyxFQUFJLEVBQ0osRUFBdUIsS0FBTSxFQUF3QixHQUFHLEVBQUUsY0FBZ0IsRUFDMUUsRUFBdUIsS0FBTSxFQUFzQixHQUFHLEVBQUUsU0FBUyxFQUNqRSxFQUF1QixLQUFNLEVBQTJCLEdBQUcsRUFBRSxTQUFTLEVBQ3RFLEVBQXVCLEtBQU0sR0FBd0IsR0FBRyxFQUFFLFNBQVMsRUFDbkUsRUFBdUIsS0FBTSxHQUFpQyxHQUFHLEVBQUUsU0FBUyxDQUNoRixDQUNBLENBQUMsSUFBZ0IsRUFBWSxFQUFNLENBQy9CLE1BQU8sSUFBaUIsRUFBTSxHQUMxQixHQUFXLENBQU0sRUFDVixFQUNWLENBQ0wsQ0FDQSxvQkFBcUIsQ0FDakIsTUFBTyxDQUNILG1CQUFvQixLQUFLLElBQXFCLEtBQUssSUFBSSxFQUN2RCxXQUFZLEtBQUssSUFBYSxLQUFLLElBQUksRUFDdkMsYUFBYyxLQUFLLElBQWUsS0FBSyxJQUFJLEVBQzNDLGtCQUFtQixLQUFLLElBQW9CLEtBQUssSUFBSSxFQUNyRCxnQkFBaUIsS0FBSyxJQUFrQixLQUFLLElBQUksRUFDakQsdUJBQXdCLEtBQUssSUFBeUIsS0FBSyxJQUFJLEVBQy9ELHNCQUF1QixLQUFLLElBQXdCLEtBQUssSUFBSSxFQUM3RCxpQkFBa0IsS0FBSyxJQUFtQixLQUFLLElBQUksRUFDbkQsc0JBQXVCLEtBQUssSUFBd0IsS0FBSyxJQUFJLEVBQzdELGlCQUFrQixLQUFLLElBQW1CLEtBQUssSUFBSSxFQUNuRCxnQkFBaUIsS0FBSyxJQUFrQixLQUFLLElBQUksRUFDakQsWUFBYSxLQUFLLElBQWMsS0FBSyxJQUFJLEVBQ3pDLE1BQU8sS0FBSyxJQUFRLEtBQUssSUFBSSxFQUM3QixjQUFlLEtBQUssSUFBZ0IsS0FBSyxJQUFJLEVBQzdDLGlDQUFrQyxLQUFLLElBQW1DLEtBQUssSUFBSSxFQUNuRixhQUFjLEtBQUssSUFBZSxLQUFLLElBQUksQ0FDL0MsQ0FDSixDQUNBLENBQUMsS0FBdUIsQ0FDcEIsTUFBTyxHQUF1QixLQUFNLEdBQXdCLEdBQUcsQ0FDbkUsQ0FDQSxDQUFDLEtBQWUsQ0FDWixNQUFPLEdBQXVCLEtBQU0sR0FBd0IsR0FBRyxDQUNuRSxDQUNBLENBQUMsS0FBaUIsQ0FDZCxNQUFPLEdBQXVCLEtBQU0sR0FBMEIsR0FBRyxDQUNyRSxDQUNBLENBQUMsS0FBc0IsQ0FDbkIsTUFBTyxHQUF1QixLQUFNLEdBQXVCLEdBQUcsQ0FDbEUsQ0FDQSxDQUFDLEtBQW9CLENBQ2pCLE1BQU8sR0FBdUIsS0FBTSxHQUE2QixHQUFHLEdBQUssQ0FBQyxDQUM5RSxDQUNBLENBQUMsS0FBcUIsQ0FDbEIsTUFBTyxHQUF1QixLQUFNLEVBQXNCLEdBQUcsQ0FDakUsQ0FDQSxDQUFDLEtBQTBCLENBQ3ZCLE1BQU8sR0FBdUIsS0FBTSxFQUEyQixHQUFHLENBQ3RFLENBQ0EsQ0FBQyxLQUFxQixDQUNsQixNQUFPLENBQUMsQ0FBQyxFQUF1QixLQUFNLEdBQXdCLEdBQUcsQ0FDckUsQ0FDQSxDQUFDLEtBQW9CLENBQ2pCLE1BQU8sR0FBdUIsS0FBTSxHQUFnQyxHQUFHLENBQzNFLENBQ0EsQ0FBQyxJQUFjLEVBQU0sRUFBb0IsRUFBbUIsRUFBcUIsQ0FHN0UsTUFGSSxJQUVBLEVBQVUsQ0FBSSxHQUViLElBQ0QsR0FBTyxLQUFLLElBQWlCLENBQUksR0FJakMsQUFGMkIsTUFBSyxJQUF5QixFQUFFLDZCQUMzRCxLQUFLLElBQXlCLEVBQUUsOEJBQWdDLFNBRWhFLEdBQU8sS0FBSyxJQUF5QixDQUFJLEdBRXpDLEdBQ0EsR0FBTyxHQUFnQixFQUFNLEtBQU0sRUFBdUIsS0FBTSxHQUFpQyxHQUFHLEVBQUUsY0FBYyxFQUFHLEVBQUssSUFFekgsQ0FDWCxDQUNBLENBQUMsSUFBUSxFQUFVLENBQUMsRUFBRyxDQUNuQixFQUF1QixLQUFNLEVBQXdCLEVBQXVCLEtBQU0sRUFBd0IsR0FBRyxHQUFLLENBQUMsRUFBRyxHQUFHLEVBQ3pILEdBQU0sR0FBYSxDQUFDLEVBQ3BCLEVBQVcsTUFBUSxFQUF1QixLQUFNLEVBQXdCLEdBQUcsRUFBRSxPQUFTLENBQUMsRUFDdkYsRUFBVyxjQUFnQixFQUF1QixLQUFNLEVBQXdCLEdBQUcsRUFBRSxlQUFpQixDQUFDLEVBQ3ZHLEdBQU0sR0FBYyxDQUFDLEVBQ3JCLEVBQVcsTUFBTSxRQUFRLEdBQUssQ0FDMUIsRUFBWSxHQUFLLEdBQ2hCLEdBQVEsSUFBTSxDQUFDLEdBQUcsUUFBUSxHQUFLLENBQzVCLEVBQVksR0FBSyxFQUNyQixDQUFDLENBQ0wsQ0FBQyxFQUNELE9BQU8sT0FBTyxFQUF1QixLQUFNLEdBQWdDLEdBQUcsRUFBRyxPQUFPLEtBQUssRUFBdUIsS0FBTSxHQUF1QixHQUFHLENBQUMsRUFBRSxPQUFPLENBQUMsRUFBSyxJQUFjLENBQzlLLEdBQU0sR0FBTyxFQUF1QixLQUFNLEdBQXVCLEdBQUcsRUFBRSxHQUFXLE9BQU8sR0FBTyxDQUFFLEtBQU8sR0FBWSxFQUNwSCxNQUFJLEdBQUssT0FBUyxHQUNkLEdBQUksR0FBYSxHQUVkLENBQ1gsRUFBRyxDQUFDLENBQUMsQ0FBQyxFQUNOLEVBQXVCLEtBQU0sR0FBdUIsQ0FBQyxFQUFHLEdBQUcsRUFDM0QsR0FBTSxHQUFlLENBQ2pCLFFBQ0EsVUFDQSxTQUNBLGlCQUNBLFFBQ0EsWUFDQSxTQUNBLGVBQ0osRUFDTSxFQUFnQixDQUNsQixPQUNBLE1BQ0EsUUFDQSxVQUNBLHFCQUNBLFNBQ0EsVUFDQSxrQkFDQSxtQkFDQSxtQkFDSixFQUNBLFNBQWEsUUFBUSxHQUFLLENBQ3RCLEVBQVcsR0FBTSxHQUF1QixLQUFNLEVBQXdCLEdBQUcsRUFBRSxJQUFNLENBQUMsR0FBRyxPQUFPLEFBQUMsR0FBTSxDQUFDLEVBQVksRUFBRSxDQUN0SCxDQUFDLEVBQ0QsRUFBYyxRQUFRLEFBQUMsR0FBTSxDQUN6QixFQUFXLEdBQUssR0FBVSxFQUF1QixLQUFNLEVBQXdCLEdBQUcsRUFBRSxHQUFJLEdBQUssQ0FBQyxFQUFZLEVBQUUsQ0FDaEgsQ0FBQyxFQUNELEVBQVcsVUFBWSxFQUF1QixLQUFNLEVBQXdCLEdBQUcsRUFBRSxVQUNqRixFQUF1QixLQUFNLEVBQXdCLEVBQVksR0FBRyxFQUNwRSxFQUF1QixLQUFNLEVBQXNCLEVBQXVCLEtBQU0sRUFBc0IsR0FBRyxFQUNuRyxFQUF1QixLQUFNLEVBQXNCLEdBQUcsRUFBRSxNQUFNLENBQVcsRUFDekUsR0FBTSxLQUFNLEVBQXVCLEtBQU0sRUFBcUIsR0FBRyxDQUFDLEVBQUcsR0FBRyxFQUM5RSxFQUF1QixLQUFNLEVBQTJCLEVBQXVCLEtBQU0sRUFBMkIsR0FBRyxFQUM3RyxFQUF1QixLQUFNLEVBQTJCLEdBQUcsRUFBRSxNQUFNLENBQVcsRUFDOUUsR0FBVyxLQUFNLEVBQXVCLEtBQU0sRUFBc0IsR0FBRyxFQUFHLEVBQXVCLEtBQU0sRUFBcUIsR0FBRyxDQUFDLEVBQUcsR0FBRyxFQUM1SSxFQUF1QixLQUFNLEdBQXdCLEVBQXVCLEtBQU0sR0FBd0IsR0FBRyxFQUN2RyxFQUF1QixLQUFNLEdBQXdCLEdBQUcsRUFBRSxNQUFNLEVBQ2hFLEdBQVEsRUFBdUIsS0FBTSxFQUFzQixHQUFHLEVBQUcsRUFBdUIsS0FBTSxFQUEyQixHQUFHLEVBQUcsRUFBdUIsS0FBTSxHQUFpQyxHQUFHLEVBQUcsRUFBdUIsS0FBTSxFQUFxQixHQUFHLENBQUMsRUFBRyxHQUFHLEVBQ2hRLEVBQXVCLEtBQU0sR0FBMkIsR0FBRyxHQUM1RCxFQUF1QixLQUFNLEdBQTJCLEdBQVcsS0FBTSxFQUF1QixLQUFNLEVBQXNCLEdBQUcsRUFBRyxFQUF1QixLQUFNLEdBQXdCLEdBQUcsRUFBRyxFQUF1QixLQUFNLEVBQXFCLEdBQUcsQ0FBQyxFQUFHLEdBQUcsRUFDN1AsRUFBdUIsS0FBTSxHQUFpQyxHQUFHLEVBQUUsTUFBTSxFQUN6RSxFQUF1QixLQUFNLEdBQWtDLEtBQU0sR0FBRyxFQUN4RSxFQUF1QixLQUFNLEdBQXVCLEdBQUksR0FBRyxFQUMzRCxFQUF1QixLQUFNLEdBQTBCLEtBQU0sR0FBRyxFQUNoRSxFQUF1QixLQUFNLEdBQTBCLEdBQU8sR0FBRyxFQUNqRSxLQUFLLE9BQVMsR0FDUCxJQUNYLENBQ0EsQ0FBQyxJQUFTLEVBQU0sRUFBSyxDQUNqQixNQUFPLEdBQXVCLEtBQU0sRUFBcUIsR0FBRyxFQUFFLEtBQUssU0FBUyxFQUFNLENBQUcsQ0FDekYsQ0FDQSxDQUFDLElBQW1DLEVBQU0sRUFBYyxFQUFtQixFQUFlLEVBQUcsRUFBVyxHQUFPLENBQzNHLEdBQUksR0FBaUIsQ0FBQyxDQUFDLEdBQXFCLEVBQzVDLEVBQU8sR0FBUSxFQUF1QixLQUFNLEdBQTRCLEdBQUcsRUFDM0UsRUFBdUIsS0FBTSxFQUF3QixHQUFHLEVBQUUsR0FBSyxFQUF1QixLQUFNLEVBQXFCLEdBQUcsRUFBRSxLQUFLLEdBQzNILEVBQXVCLEtBQU0sRUFBd0IsR0FBRyxFQUFFLGNBQWdCLEtBQUssSUFBeUIsRUFDeEcsR0FBTSxHQUFxQixDQUFDLENBQUMsRUFBdUIsS0FBTSxFQUF3QixHQUFHLEVBQUUsY0FBYyxjQUMvRixFQUFTLE9BQU8sT0FBTyxDQUFDLEVBQUcsRUFBdUIsS0FBTSxFQUF3QixHQUFHLEVBQUUsY0FBZSxDQUN0RyxhQUFjLEVBQ2xCLENBQUMsRUFDSyxFQUFTLEVBQXVCLEtBQU0sRUFBcUIsR0FBRyxFQUFFLE9BQU8sU0FBUyxFQUFNLE9BQU8sT0FBTyxDQUFDLEVBQUcsRUFBdUIsS0FBTSxFQUF3QixHQUFHLEVBQUcsQ0FDckssY0FBZSxDQUFFLDJCQUE0QixHQUFPLEdBQUcsQ0FBTyxDQUNsRSxDQUFDLENBQUMsRUFDSSxFQUFPLE9BQU8sT0FBTyxFQUFPLEtBQU0sRUFBdUIsS0FBTSxHQUE2QixHQUFHLENBQUMsRUFDbEcsRUFDRSxFQUFVLEVBQU8sUUFDbkIsRUFBYSxHQUNiLEVBQWdCLEdBQ3BCLE9BQU8sS0FBSyxDQUFJLEVBQUUsUUFBUSxHQUFPLENBQzdCLEFBQUksSUFBUSxFQUF1QixLQUFNLEdBQXdCLEdBQUcsR0FBSyxFQUFLLEdBQzFFLEVBQWEsR0FFUixJQUFRLEVBQXVCLEtBQU0sR0FBMkIsR0FBRyxHQUFLLEVBQUssSUFDbEYsR0FBZ0IsR0FFeEIsQ0FBQyxFQUNELEVBQUssR0FBSyxLQUFLLEdBQ2YsS0FBSyxPQUFTLEVBQ1YsSUFBaUIsR0FDakIsRUFBdUIsS0FBTSxFQUFzQixHQUFHLEVBQUUsdUJBQXVCLEVBRW5GLEdBQUksQ0FFQSxHQURBLEtBQUssSUFBYyxFQUNmLEVBQ0EsTUFBTyxNQUFLLElBQWMsRUFBTSxFQUFvQixDQUFDLENBQUMsRUFBbUIsRUFBSyxFQUVsRixBQUFJLEVBQXVCLEtBQU0sR0FBd0IsR0FBRyxHQUlwRCxBQUhhLENBQUMsRUFBdUIsS0FBTSxHQUF3QixHQUFHLENBQUMsRUFDdEUsT0FBTyxFQUFRLEVBQXVCLEtBQU0sR0FBd0IsR0FBRyxJQUFNLENBQUMsQ0FBQyxFQUMvRSxPQUFPLEdBQUssRUFBRSxPQUFTLENBQUMsRUFDaEIsU0FBUyxHQUFLLEVBQUssRUFBRSxFQUFLLEVBQUUsT0FBUyxFQUFFLEdBQ2hELEdBQUssRUFBRSxJQUFJLEVBQ1gsRUFBYSxJQUdyQixFQUF1QixLQUFNLEdBQWdDLEdBQU8sR0FBRyxFQUN2RSxHQUFNLEdBQWMsRUFBdUIsS0FBTSxHQUF3QixHQUFHLEVBQUUsWUFBWSxFQUNwRixFQUFxQixFQUF1QixLQUFNLEdBQTJCLEdBQUcsRUFBRSxnQkFBaUIsR0FDbkcsRUFBcUIsR0FBYyxHQUFzQixFQUMvRCxHQUFJLEVBQUssRUFBRSxPQUFRLENBQ2YsR0FBSSxFQUFZLE9BQVEsQ0FDcEIsR0FBSSxHQUNKLE9BQVMsR0FBSSxHQUFnQixFQUFHLEVBQUssRUFBSyxFQUFFLEtBQU8sT0FBVyxJQUUxRCxHQURBLEVBQU0sT0FBTyxFQUFLLEVBQUUsRUFBRSxFQUNsQixFQUFZLFNBQVMsQ0FBRyxHQUFLLElBQVEsRUFBdUIsS0FBTSxHQUFrQyxHQUFHLEVBQUcsQ0FDMUcsR0FBTSxHQUFZLEVBQXVCLEtBQU0sR0FBd0IsR0FBRyxFQUFFLFdBQVcsRUFBSyxLQUFNLEVBQVEsRUFBSSxFQUFHLEVBQVUsR0FBYyxHQUFpQixDQUFRLEVBQ2xLLE1BQU8sTUFBSyxJQUFjLEVBQVcsRUFBb0IsQ0FBQyxDQUFDLEVBQW1CLEVBQUssQ0FDdkYsU0FDUyxDQUFDLEdBQ04sSUFBUSxFQUF1QixLQUFNLEdBQWtDLEdBQUcsRUFBRyxDQUM3RSxFQUFzQixFQUN0QixLQUNKLENBRUosQUFBSSxDQUFDLEVBQXVCLEtBQU0sR0FBd0IsR0FBRyxFQUFFLGtCQUFrQixHQUM3RSxFQUF1QixLQUFNLEdBQWtDLEdBQUcsR0FDbEUsR0FDQSxDQUFDLEdBQ0QsRUFBdUIsS0FBTSxFQUEyQixHQUFHLEVBQUUsa0JBQWtCLEVBQXFCLENBQVcsQ0FFdkgsQ0FDQSxBQUFJLEVBQXVCLEtBQU0sR0FBa0MsR0FBRyxHQUNsRSxFQUFLLEVBQUUsU0FBUyxFQUF1QixLQUFNLEdBQWtDLEdBQUcsQ0FBQyxHQUNuRixDQUFDLEdBQ0csR0FBdUIsS0FBTSxHQUE0QixHQUFHLEdBQzVELEdBQVksRUFBSSxFQUNwQixLQUFLLHFCQUFxQixFQUMxQixLQUFLLEtBQUssQ0FBQyxFQUVuQixDQUNBLEdBQUksRUFBdUIsS0FBTSxHQUF3QixHQUFHLEVBQUUsa0JBQWtCLEdBQUssQ0FBQyxFQUFvQixDQUN0RyxHQUFNLEdBQVksRUFBdUIsS0FBTSxHQUF3QixHQUFHLEVBQUUsV0FBVyxLQUFNLEtBQU0sRUFBUSxFQUFHLEVBQVUsR0FBYyxHQUFpQixDQUFRLEVBQy9KLE1BQU8sTUFBSyxJQUFjLEVBQVcsRUFBb0IsQ0FBQyxDQUFDLEVBQW1CLEVBQUssQ0FDdkYsQ0FDQSxHQUFJLEVBQW9CLENBQ3BCLEFBQUksRUFBdUIsS0FBTSxHQUE0QixHQUFHLEdBQzVELEdBQVksRUFBSSxFQUNwQixFQUFPLENBQUMsRUFBRSxPQUFPLENBQUksRUFDckIsR0FBTSxHQUFpQixFQUFLLE1BQU0sRUFBSyxRQUFRLEtBQUssRUFBdUIsS0FBTSxHQUEyQixHQUFHLEVBQUUsZUFBZSxFQUFJLENBQUMsRUFDckksU0FBdUIsS0FBTSxHQUEyQixHQUFHLEVBQUUsY0FBYyxFQUFnQixDQUFDLEVBQUssSUFBZ0IsQ0FDN0csR0FBSSxFQUNBLEtBQU0sSUFBSSxHQUFPLEVBQUksT0FBTyxFQUNoQyxBQUFDLElBQWUsQ0FBQyxHQUFHLFFBQVEsR0FBYyxDQUN0QyxFQUF1QixLQUFNLEdBQXVCLEdBQUcsRUFBRSxJQUFJLENBQVUsQ0FDM0UsQ0FBQyxFQUNELEtBQUssS0FBSyxDQUFDLENBQ2YsQ0FBQyxFQUNNLEtBQUssSUFBYyxFQUFNLENBQUMsRUFBb0IsQ0FBQyxDQUFDLEVBQW1CLEVBQUssQ0FDbkYsQ0FvQkEsR0FuQkssRUFBdUIsS0FBTSxHQUEwQixHQUFHLEdBQzNELENBQUksRUFDSSxHQUF1QixLQUFNLEdBQTRCLEdBQUcsR0FDNUQsR0FBWSxFQUFJLEVBQ3BCLEVBQWlCLEdBQ2pCLEtBQUssU0FBUyxLQUFLLEVBQ25CLEtBQUssS0FBSyxDQUFDLEdBRU4sR0FDRCxHQUF1QixLQUFNLEdBQTRCLEdBQUcsR0FDNUQsR0FBWSxFQUFJLEVBQ3BCLEVBQWlCLEdBQ2pCLEVBQXVCLEtBQU0sRUFBc0IsR0FBRyxFQUFFLFlBQVksS0FBSyxFQUN6RSxLQUFLLEtBQUssQ0FBQyxJQUdmLENBQUMsR0FBa0IsRUFBdUIsS0FBTSxFQUF3QixHQUFHLEVBQUUsZUFBZSxPQUFTLEdBQ3JHLEdBQWlCLE9BQU8sS0FBSyxDQUFJLEVBQUUsS0FBSyxHQUFPLEVBQXVCLEtBQU0sRUFBd0IsR0FBRyxFQUFFLGVBQWUsUUFBUSxDQUFHLEdBQUssR0FBSyxFQUFLLEtBQVMsRUFBSSxHQUUvSixDQUFDLEVBQWdCLENBQ2pCLEdBQUksRUFBTyxNQUNQLEtBQU0sSUFBSSxHQUFPLEVBQU8sTUFBTSxPQUFPLEVBQ3pDLEdBQUksQ0FBQyxFQUFvQixDQUNyQixHQUFNLEdBQWEsS0FBSyxJQUFnQixFQUFTLENBQUMsRUFBRyxFQUFPLEtBQUssRUFDakUsQUFBSyxHQUNELEdBQWMsR0FBZ0IsRUFBTSxLQUFNLEVBQXVCLEtBQU0sR0FBaUMsR0FBRyxFQUFFLGNBQWMsRUFBRyxFQUFJLEdBRXRJLEVBQWMsS0FBSyxJQUFnQixFQUFZLEdBQStELENBQUksRUFDOUcsRUFBVSxDQUFXLEdBQUssQ0FBQyxHQUMzQixHQUFjLEVBQVksS0FBSyxJQUNwQixHQUFnQixFQUFNLEtBQU0sRUFBdUIsS0FBTSxHQUFpQyxHQUFHLEVBQUUsY0FBYyxFQUFHLEVBQUssQ0FDL0gsRUFFVCxDQUNKLENBQ0osT0FDTyxFQUFQLENBQ0ksR0FBSSxZQUFlLEdBQ2YsRUFBdUIsS0FBTSxFQUFzQixHQUFHLEVBQUUsS0FBSyxFQUFJLFFBQVMsQ0FBRyxNQUU3RSxNQUFNLEVBQ2QsQ0FDQSxNQUFPLE1BQUssSUFBYyxHQUErRCxFQUFNLEVBQW9CLENBQUMsQ0FBQyxFQUFtQixFQUFJLENBQ2hKLENBQ0EsQ0FBQyxJQUFnQixFQUFTLEVBQWUsRUFBYSxFQUFrQixDQUNwRSxHQUFNLEdBQWtCLENBQUUsR0FBRyxLQUFLLG1CQUFtQixDQUFFLEVBQ3ZELE1BQU8sQUFBQyxJQUFTLENBQ2IsR0FBSSxFQUNBLEtBQU0sSUFBSSxHQUFPLEVBQVksT0FBTyxFQUN4QyxFQUF1QixLQUFNLEVBQTJCLEdBQUcsRUFBRSxlQUFlLENBQUksRUFDaEYsRUFBdUIsS0FBTSxFQUEyQixHQUFHLEVBQUUsa0JBQWtCLEVBQU0sQ0FBZSxFQUNwRyxHQUFJLEdBQXVCLEdBQzNCLEFBQUksRUFBdUIsS0FBTSxHQUErQixHQUFHLEdBQy9ELEdBQXVCLEVBQXVCLEtBQU0sRUFBMkIsR0FBRyxFQUFFLGdCQUFnQixDQUFJLEdBRTVHLEFBQUksRUFBdUIsS0FBTSxHQUF1QixHQUFHLEdBQUssQ0FBQyxFQUM3RCxFQUF1QixLQUFNLEVBQTJCLEdBQUcsRUFBRSxpQkFBaUIsRUFBTSxFQUFTLEVBQWUsQ0FBQyxDQUFDLENBQWdCLEVBRXpILEVBQXVCLEtBQU0sR0FBOEIsR0FBRyxHQUNuRSxFQUF1QixLQUFNLEVBQTJCLEdBQUcsRUFBRSxpQkFBaUIsRUFBTSxFQUFTLENBQUMsRUFBRyxHQUFPLEVBQUssRUFFakgsRUFBdUIsS0FBTSxFQUEyQixHQUFHLEVBQUUsZUFBZSxDQUFJLEVBQ2hGLEVBQXVCLEtBQU0sRUFBMkIsR0FBRyxFQUFFLGFBQWEsQ0FBSSxFQUM5RSxFQUF1QixLQUFNLEVBQTJCLEdBQUcsRUFBRSxZQUFZLENBQUksQ0FDakYsQ0FDSixDQUNBLENBQUMsS0FBaUIsQ0FDZCxFQUF1QixLQUFNLEdBQTBCLEdBQU0sR0FBRyxDQUNwRSxDQUNBLENBQUMsSUFBdUIsRUFBTSxDQUMxQixHQUFJLE1BQU8sSUFBUyxTQUNoQixFQUF1QixLQUFNLEVBQXdCLEdBQUcsRUFBRSxJQUFJLEdBQVEsT0FHdEUsUUFBVyxLQUFLLEdBQ1osRUFBdUIsS0FBTSxFQUF3QixHQUFHLEVBQUUsSUFBSSxHQUFLLEVBRy9FLENBQ0osRUFDTyxZQUF5QixFQUFHLENBQy9CLE1BQU8sQ0FBQyxDQUFDLEdBQUssTUFBTyxHQUFFLG9CQUF1QixVQUNsRCxDQ2orQ0EsR0FBTSxJQUFRLEdBQWEsRUFBZSxFQUNuQyxHQUFRLEdDTGYsc0JBQ0Esd0JDRkEsR0FBTSxJQUFjLEdBQUksYUFDbEIsR0FBYyxHQUFJLGFBQ2xCLEdBQWEsSUFDYixHQUFTLEdBQVksT0FBTyxrQkFBa0IsRUFFdkMsR0FBTixLQUFtQixDQU16QixLQUFjLFdBQVUsRUFBcUMsQ0FDNUQsR0FBTSxHQUFhLEdBQVksT0FBTyxDQUFRLEVBQ3hDLEVBQWEsS0FBTSxRQUFPLE9BQU8sVUFBVSxNQUFPLEVBQVEsQ0FBQyxLQUFNLFFBQVEsRUFBRyxHQUFPLENBQUMsV0FBVyxDQUFDLEVBaUJ0RyxNQWhCbUIsUUFBTyxPQUFPLFVBQ2hDLENBQ0MsS0FBTSxTQUNOLEtBQU0sQ0FBQyxLQUFNLFNBQVMsRUFDdEIsY0FDQSxPQUNELEVBQ0EsRUFDQSxDQUNDLEtBQU0sVUFDTixPQUFRLEdBQ1QsRUFDQSxHQUNBLENBQUMsVUFBVyxTQUFTLENBQ3RCLENBR0QsQ0FFQSxLQUFhLGdCQUFlLEVBQWMsRUFBdUMsQ0FFaEYsR0FBTSxHQUFNLEtBQU0sTUFBSyxVQUFVLENBQVEsRUFFbkMsRUFBcUIsR0FBWSxPQUFPLENBQUksRUFDNUMsRUFBUyxPQUFPLGdCQUFnQixHQUFJLFlBQVcsRUFBVSxDQUFDLEVBRzFELEVBQWlCLEdBQUksWUFDMUIsS0FBTSxRQUFPLE9BQU8sUUFDbkIsQ0FBQyxLQUFNLFVBQVcsR0FBSSxDQUFNLEVBQzVCLEVBQ0EsQ0FDRCxDQUNELEVBRU0sRUFBYSxHQUFJLFlBQVksRUFBTyxXQUFhLEVBQWUsVUFBVyxFQUNqRixTQUFXLElBQUssRUFBUSxDQUFFLEVBQzFCLEVBQVcsSUFBSyxFQUFnQixFQUFPLFVBQVcsRUFFM0MsQ0FDUixDQUVBLEFBQVEsZ0JBQWlCLEVBQTZCLENBQ3JELEdBQUksR0FBUyxHQUNiLE9BQVMsR0FBTSxFQUFHLEVBQU0sRUFBTSxPQUFRLElBRXJDLEdBQVUsT0FBTyxhQUFhLEVBQU0sRUFBSSxFQUV6QyxNQUFPLEVBQ1IsQ0FFQSxLQUFhLGlCQUFnQixFQUFjLEVBQW1DLENBRTdFLEdBQU0sR0FBYSxLQUFNLE1BQUssZUFBZSxFQUFNLENBQVEsRUFLM0QsTUFGbUIsTUFBTSxLQUFLLGdCQUFnQixDQUFVLENBQUUsQ0FHM0QsQ0FFQSxBQUFRLGNBQWMsRUFBeUIsQ0FDOUMsR0FBTSxHQUFTLENBQUMsRUFDaEIsT0FBUyxHQUFJLEVBQUcsRUFBSSxFQUFJLE9BQVEsSUFDL0IsRUFBTyxLQUFLLEVBQUksV0FBVyxDQUFDLENBQUMsRUFFOUIsTUFBTyxJQUFJLFlBQVcsQ0FBTSxDQUM3QixDQUVBLEtBQWEsa0JBQWlCLEVBQTRCLEVBQXdDLENBQ2pHLEdBQUksQ0FHSCxHQUFNLEdBQVMsRUFBZSxNQUFNLEVBQUUsRUFBVSxFQUcxQyxFQUFxQixFQUFlLE1BQU0sRUFBVSxFQUVwRCxFQUFNLEtBQU0sTUFBSyxVQUFVLENBQVEsRUFHbkMsRUFBaUIsS0FBTSxRQUFPLE9BQU8sUUFDMUMsQ0FBQyxLQUFNLFVBQVcsR0FBSSxDQUFNLEVBQzVCLEVBQ0EsQ0FDRCxFQUlBLE1BRHNCLElBQVksT0FBTyxDQUFjLENBRXhELE1BQUUsQ0FFRCxNQUFPLEtBQ1IsQ0FDRCxDQUVBLEtBQWEsbUJBQWtCLEVBQXVCLEVBQXdDLENBQzdGLEdBQUksQ0FFSCxHQUFNLEdBQWdCLEtBQUssY0FBYyxLQUFLLENBQWEsQ0FBQyxFQUU1RCxNQUFPLE1BQU0sTUFBSyxpQkFBaUIsRUFBZSxDQUFRLENBb0IzRCxNQUFFLENBRUQsTUFBTyxLQUNSLENBQ0QsQ0FFRCxFQzVJTyxHQUFNLElBQU4sS0FBZ0QsQ0FLdEQsWUFBYSxFQUFvQixFQUFrQixFQUFvQixDQUV0RSxLQUFLLFdBQWEsRUFDbEIsS0FBSyxTQUFXLEVBQ2hCLEtBQUssV0FBYSxDQUNuQixDQUVBLEtBQWMsV0FBVyxFQUFpQixFQUFzQyxDQUcvRSxHQUFNLEdBQWEsQUFEQyxHQUFJLGFBQVksRUFDTCxPQUFPLENBQVEsRUFDeEMsRUFBYSxLQUFNLFFBQU8sT0FBTyxVQUMzQixNQUNDLEVBQ0UsU0FDRSxHQUNGLENBQUMsV0FBVyxDQUMzQixFQWlCQSxNQWhCbUIsTUFBTSxRQUFPLE9BQU8sVUFDeEIsQ0FDYixLQUFNLFNBQ04sS0FBTSxVQUNOLE9BQ0EsV0FBWSxLQUFLLFVBQ2xCLEVBQ1ksRUFDWSxDQUN2QixLQUFNLFVBQ04sT0FBUSxHQUNULEVBQ2dCLEdBQ0YsQ0FBQyxVQUFXLFNBQVMsQ0FDcEMsQ0FHRCxDQUVBLEtBQWMsZ0JBQWdCLEVBQWMsRUFBd0MsQ0FFbkYsR0FBTSxHQUFPLE9BQU8sZ0JBQWlCLEdBQUksWUFBVyxLQUFLLFFBQVEsQ0FBRSxFQUU3RCxFQUFNLEtBQU0sTUFBSyxVQUFXLEVBQVUsQ0FBSyxFQUczQyxFQUFxQixBQURQLEdBQUksYUFBWSxFQUNHLE9BQU8sQ0FBSSxFQUM1QyxFQUFTLE9BQU8sZ0JBQWdCLEdBQUksWUFBVyxLQUFLLFVBQVUsQ0FBQyxFQUcvRCxFQUFpQixHQUFJLFlBQzFCLEtBQU0sUUFBTyxPQUFPLFFBQ0wsQ0FDYixLQUFNLFVBQ04sR0FBSSxDQUNMLEVBQ1EsRUFDQyxDQUNWLENBQ0QsRUFFTSxFQUFhLEdBQUksWUFBWSxFQUFPLFdBQWEsRUFBSyxXQUFhLEVBQWUsVUFBVyxFQUNuRyxTQUFXLElBQUssRUFBUSxDQUFFLEVBQzFCLEVBQVcsSUFBSyxFQUFNLEVBQU8sVUFBVyxFQUN4QyxFQUFXLElBQUssRUFBZ0IsRUFBTyxXQUFhLEVBQUssVUFBVyxFQUU3RCxDQUNSLENBRUEsQUFBUSxnQkFBaUIsRUFBNkIsQ0FDckQsR0FBSSxHQUFTLEdBQ2IsT0FBUyxHQUFNLEVBQUcsRUFBTSxFQUFNLE9BQVEsSUFFckMsR0FBVSxPQUFPLGFBQWEsRUFBTSxFQUFJLEVBRXpDLE1BQU8sRUFDUixDQUVBLEtBQWEsaUJBQWdCLEVBQWMsRUFBbUMsQ0FFN0UsR0FBTSxHQUFhLEtBQU0sTUFBSyxlQUFlLEVBQU0sQ0FBUSxFQUszRCxNQUZtQixNQUFNLEtBQUssZ0JBQWdCLENBQVUsQ0FBRSxDQUczRCxDQUVBLEFBQVEsY0FBYyxFQUF5QixDQUM5QyxHQUFNLEdBQVMsQ0FBQyxFQUNoQixPQUFTLEdBQUksRUFBRyxFQUFJLEVBQUksT0FBUSxJQUMvQixFQUFPLEtBQUssRUFBSSxXQUFXLENBQUMsQ0FBQyxFQUU5QixNQUFPLElBQUksWUFBVyxDQUFNLENBQzdCLENBRUEsS0FBYyxrQkFDYixFQUNBLEVBQ3VCLENBQ3ZCLEdBQUksQ0FFSCxHQUFJLEdBQ0EsRUFHSixFQUFTLEVBQ1QsRUFBYSxFQUFTLEtBQUssV0FDM0IsR0FBTSxHQUFTLEVBQWUsTUFBTSxFQUFRLENBQVUsRUFHdEQsRUFBUyxFQUNULEVBQWEsRUFBUyxLQUFLLFNBQzNCLEdBQU0sR0FBTyxFQUFlLE1BQU0sRUFBUSxDQUFVLEVBR3BELEVBQVMsRUFDVCxFQUFhLE9BQ2IsR0FBTSxHQUFxQixFQUFlLE1BQU0sQ0FBTSxFQUVoRCxFQUFNLEtBQU0sTUFBSyxVQUFVLEVBQVUsQ0FBSSxFQUd6QyxFQUFpQixLQUFNLFFBQU8sT0FBTyxRQUM1QixDQUNiLEtBQU0sVUFDTixHQUFJLENBQ0wsRUFDUSxFQUNDLENBQ1YsRUFLQSxNQURzQixBQURGLElBQUksYUFBWSxFQUNGLE9BQU8sQ0FBYyxDQUd4RCxNQUFFLENBRUQsTUFBTyxLQUNSLENBQ0QsQ0FFQSxLQUFhLG1CQUFtQixFQUF1QixFQUF5QyxDQUMvRixHQUFJLENBQ0gsR0FBTSxHQUFnQixLQUFLLGNBQWMsS0FBSyxDQUFhLENBQUMsRUFDNUQsTUFBTyxNQUFNLE1BQUssaUJBQWtCLEVBQWUsQ0FBUyxDQUM3RCxNQUFFLENBQ0QsTUFBTyxLQUNSLENBQ0QsQ0FFRCxFQzdKTyxHQUFNLElBQW9CLENBQ2hDLEtBQU0sVUFDTixHQUFJLEdBQUksWUFBVyxDQUFDLElBQUssSUFBSyxJQUFLLElBQUssSUFBSyxHQUFJLEdBQUksSUFBSyxHQUFJLElBQUssR0FBSSxHQUFHLENBQUMsRUFDM0UsVUFBVyxHQUNaLEVBRWEsR0FBTixLQUEyQixDQUVqQyxLQUFjLFVBQVMsRUFBa0IsQ0FFeEMsR0FBTSxHQUFnQixBQURILEdBQUksYUFBWSxFQUNGLE9BQU8sQ0FBUSxFQUUxQyxFQUFpQixLQUFNLFFBQU8sT0FBTyxPQUFPLENBQUUsS0FBTSxTQUFVLEVBQUcsQ0FBYSxFQVVwRixNQVJZLE1BQU0sUUFBTyxPQUFPLFVBQy9CLE1BQ0EsRUFDQSxHQUNBLEdBQ0EsQ0FBQyxVQUFXLFNBQVMsQ0FDdEIsQ0FHRCxDQUtBLEtBQWEsaUJBQWdCLEVBQWMsRUFBbUMsQ0FDN0UsR0FBTSxHQUFNLEtBQU0sTUFBSyxTQUFTLENBQVEsRUFHbEMsRUFBaUIsQUFESixHQUFJLGFBQVksRUFDRCxPQUFPLENBQUksRUFHdkMsRUFBaUIsR0FBSSxZQUFXLEtBQU0sUUFBTyxPQUFPLFFBQ3pELEdBQW1CLEVBQUssQ0FDekIsQ0FBQyxFQUtELE1BRm1CLE1BQUssT0FBTyxhQUFhLEdBQUcsQ0FBYyxDQUFDLENBRy9ELENBRUEsQUFBUSxjQUFjLEVBQXlCLENBQzlDLEdBQU0sR0FBUyxDQUFDLEVBQ2hCLE9BQVMsR0FBSSxFQUFHLEVBQUksRUFBSSxPQUFRLElBQy9CLEVBQU8sS0FBSyxFQUFJLFdBQVcsQ0FBQyxDQUFDLEVBRTlCLE1BQU8sSUFBSSxZQUFXLENBQU0sQ0FDN0IsQ0FFQSxLQUFhLG1CQUFrQixFQUF1QixFQUF3QyxDQUM3RixHQUFJLENBRUgsR0FBTSxHQUFpQixLQUFLLGNBQWMsS0FBSyxDQUFhLENBQUMsRUFFdkQsRUFBTSxLQUFNLE1BQUssU0FBUyxDQUFRLEVBR2xDLEVBQWlCLEtBQU0sUUFBTyxPQUFPLFFBQVEsR0FBbUIsRUFBSyxDQUFjLEVBS3pGLE1BRHNCLEFBREgsSUFBSSxhQUFZLEVBQ0YsT0FBTyxDQUFjLENBRXZELE1BQUUsQ0FDRCxNQUFPLEtBQ1IsQ0FDRCxDQUVELEVDakVPLEdBQU0sSUFBTixLQUF5QixDQUUvQixNQUFjLGVBQTZCLENBQzFDLE1BQU8sSUFBSSxJQUFrQixHQUFJLEdBQUksSUFBTyxDQUM3QyxDQUVBLE1BQWMsMEJBQTBCLEVBQWlDLENBQ3hFLEdBQU0sR0FBUyxHQUFvQix3QkFBd0IsQ0FBSSxFQUMvRCxHQUFLLEdBQVUsS0FDZCxNQUFPLEdBRVIsS0FBTSxJQUFJLE9BQU8sa0RBQWtELEVBQUssU0FBUyxDQUNsRixDQUVBLE1BQWMseUJBQXlCLEVBQXdDLENBQzlFLE1BQUssR0FBSyxTQUFXLE1BQ2IsR0FBSSxJQUlQLEVBQUssU0FBVyxNQUNiLEdBQUksSUFBa0IsR0FBSSxHQUFJLElBQVEsRUFHdkMsSUFDUixDQUVBLE1BQWMsNkJBQTZCLEVBQTJDLENBQ3JGLEdBQU0sR0FBUyxHQUFvQiwyQkFBNEIsQ0FBWSxFQUUzRSxHQUFJLEdBQVUsS0FDYixNQUFPLEdBRVIsS0FBTSxJQUFJLE9BQU8seURBQXlELEVBQVksU0FBUyxDQUNoRyxDQUVBLE1BQWMsNEJBQTRCLEVBQWtELENBVTNGLE1BQUssR0FBWSxTQUFXLEVBQ3BCLEdBQUksSUFHUCxFQUFZLFNBQVcsRUFDcEIsR0FBSSxJQUdQLEVBQVksU0FBVyxFQUNwQixHQUFJLElBQWtCLEdBQUksR0FBSSxJQUFPLEVBR3RDLElBQ1IsQ0FFRCxFQ2xFTyxHQUFNLElBQU4sS0FBZSxDQU1yQixZQUFhLEVBQWdCLEVBQWEsRUFBb0IsQ0FKOUQsS0FBTyxRQUFVLE1BS2hCLEtBQUssUUFBVSxFQUNmLEtBQUssS0FBTyxFQUNaLEtBQUssWUFBYyxDQUNwQixDQUNELEVBRWEsR0FBTixLQUFvQixDQUkxQixZQUFvQixRQUFRLEVBQWMsRUFBYSxFQUFpQyxDQUV2RixHQUFNLEdBQWdCLEtBQU0sQUFEYixJQUFvQixhQUFhLEVBQ2IsZ0JBQWdCLEVBQU0sQ0FBSSxFQUM3RCxNQUFPLElBQUksSUFBVSxHQUFlLGdCQUFpQixFQUFNLENBQWEsQ0FDekUsQ0FFQSxZQUFvQixTQUFTLEVBQWdCLEVBQW9DLENBQ2hGLE1BQUssR0FBSyxhQUFlLEdBQ2pCLEdBR0QsS0FBTSxBQURFLElBQW9CLHlCQUEwQixDQUFLLEVBQzlDLGtCQUFtQixFQUFLLFlBQWEsQ0FBSyxDQUMvRCxDQUNELEVBakJhLEdBQU4sR0FFTixBQUZZLEdBRUUsZ0JBQWtCLE1BaUIxQixHQUFNLElBQU4sS0FBdUIsQ0FFN0IsTUFBYyxRQUFRLEVBQXlCLENBRTlDLE1BQU8sTUFBSyxVQUFVLEVBQU0sS0FBTSxDQUFDLENBQ3BDLENBRUEsTUFBYyxRQUFRLEVBQWdDLENBRXJELE1BQUssS0FBZ0IsR0FDYixHQUFJLElBQVUsR0FBZSxnQkFBaUIsR0FBSSxFQUFHLEVBRXRELEtBQUssTUFBTyxDQUFZLENBQ2hDLENBQ0QsRUNoREEsR0FBTSxJQUFxQyxZQUNyQyxHQUFpQyxRQUtoQyxHQUFNLElBQTRCLENBQ3hDLEdBQ0EsRUFDRCxFQ1JPLEdBQU0sSUFBWSxxQkFDWixHQUFvQixtQkFFcEIsR0FBWSxxQkFDWixHQUFvQixtQkFDcEIsR0FBbUIsZUFDbkIsR0FBMkIsYUFNakMsR0FBTSxJQUFZLENBQ3hCLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsR0FDQSxFQUNELEVBRWEsR0FBdUIsZUFDdkIsR0FBcUIsYUFHckIsR0FBWSxDQUN4QixHQUNBLEVBQ0QsRUFFYSxHQUFRLFlDL0JkLEdBQU0sSUFBTixLQUFpQixDQUl4QixFQ0RPLEdBQU0sSUFBTixLQUFnQyxDQWV0QyxZQUFZLEVBQWEsQ0FDeEIsS0FBSyxRQUFRLENBQUksQ0FDbEIsQ0FFQSxBQUFRLFFBQVMsRUFBcUIsQ0FzQnJDLEdBbkJBLEtBQUssY0FBZ0IsRUFFckIsS0FBSyxRQUFVLEVBQUssU0FBVyxFQUUvQixLQUFLLE9BQVMsR0FBVSxLQUFNLEFBQUMsR0FBVyxFQUFLLFdBQVcsQ0FBTSxDQUFFLEdBQUssR0FDdkUsS0FBSyxPQUFTLEdBQVUsS0FBTSxBQUFDLEdBQVcsRUFBSyxTQUFTLENBQU0sQ0FBRSxHQUFLLEdBSXJFLEtBQUssbUJBQXFCLEtBQUssT0FBTyxPQUFTLEVBQy9DLEtBQUssbUJBQXFCLEtBQUssT0FBTyxPQUFTLEVBRS9DLEtBQUssMkJBQTZCLEtBQUssU0FBVyxJQUFvQixLQUFLLFNBQVcsR0FFdEYsS0FBSyx5QkFBMkIsQ0FBQyxHQUFHLEdBQVcsR0FBRyxFQUFTLEVBQUUsS0FBTSxBQUFDLEdBQVcsRUFBSyxTQUFTLENBQU8sQ0FBQyxFQUVyRyxLQUFLLFdBQWEsS0FBSyxvQkFBc0IsS0FBSyxtQkFDbEQsS0FBSyxXQUFhLENBQUMsS0FBSyxvQkFBc0IsQ0FBQyxLQUFLLHlCQUVoRCxLQUFLLFdBQVcsQ0FDbkIsR0FBTSxHQUFjLEtBQUssd0JBQXdCLENBQUksRUFFckQsQUFBSyxHQUFlLEtBQ25CLEtBQUssWUFBYyxFQUVuQixLQUFLLFdBQWEsRUFFcEIsQ0FDRCxDQUVBLEFBQVEsd0JBQXdCLEVBQW1DLENBQ2xFLEdBQU0sR0FBUyxHQUFJLElBRW5CLEdBQ0MsQ0FBQyxLQUFLLG9CQUNILENBQUMsS0FBSyxtQkFFVCxNQUFPLE1BR1IsQUFBSyxLQUFLLDJCQUNULEVBQU8sUUFBVSxFQUNaLEFBQUssS0FBSyxRQUFVLElBQWEsS0FBSyxRQUFVLEdBQ3JELEVBQU8sUUFBVSxFQUNQLE1BQUssUUFBVSxJQUFhLEtBQUssUUFBVSxLQUNyRCxHQUFPLFFBQVUsR0FJbEIsR0FBTSxHQUFVLEVBQUssVUFBVSxLQUFLLE9BQU8sT0FBUSxFQUFLLE9BQVMsS0FBSyxPQUFPLE1BQU0sRUFHbkYsR0FBSyxDQUFDLEdBQUcsR0FBVyxHQUFHLEVBQVMsRUFBRSxLQUFNLEFBQUMsR0FBVyxFQUFRLFNBQVUsQ0FBTyxDQUFDLEVBRTdFLE1BQU8sTUFJUixHQUFJLEVBQVEsVUFBVSxFQUFFLEdBQU0sTUFBTSxHQUFLLEdBQU0sQ0FDOUMsR0FBTSxHQUFnQixFQUFRLFFBQVEsR0FBTSxHQUFNLE1BQU0sRUFDeEQsR0FBSSxFQUFjLEVBQ2pCLE1BQU8sTUFFUixFQUFPLEtBQU8sRUFBUSxVQUFVLEdBQU0sT0FBTyxDQUFhLEVBQzFELEVBQU8saUJBQW1CLEVBQVEsVUFBVSxFQUFjLEdBQU0sTUFBTSxDQUN2RSxLQUNDLEdBQU8saUJBQW1CLEVBRzNCLE1BQU8sRUFFUixDQUNELEVUbEVBLEdBQU0sSUFBTixLQUF5QixDQUdyQixLQUFNLFlBQVksRUFBa0IsQ0FFaEMsR0FBTSxHQUFNLFFBQVEsSUFBSSxFQUVwQixFQUNBLEVBQ0EsRUFFRSxFQUFzQixDQUFDLEVBRzdCLEFBQUssSUFBVyxNQUVaLEdBQVUsSUFBTSxRQUFRLElBQUsseUNBQTBDLEVBQ3ZFLEVBQVksQUFBQyxHQUFNLFFBQVEsSUFBSyxJQUFJLEVBQUUsaUJBQWlCLEVBQUUsY0FBYyxFQUFFLGtCQUFrQixFQUFFLFlBQWEsRUFDMUcsRUFBUSxJQUFNLENBQUMsR0FFWixBQUFJLEdBQVUsT0FFakIsR0FBVSxJQUFNLENBQUMsRUFDakIsRUFBWSxBQUFDLEdBQU0sRUFBUyxLQUFNLENBQUUsRUFDcEMsRUFBUSxJQUFNLFFBQVEsSUFBSyxLQUFLLFVBQVcsRUFBVSxLQUFNLENBQUUsQ0FBRSxHQUU1RCxBQUFJLElBQVcsUUFFbEIsR0FBVSxJQUFNLENBQUMsRUFDakIsRUFBWSxBQUFDLEdBQU0sRUFBUyxLQUFNLENBQUUsRUFDcEMsRUFBUSxJQUFNLFFBQVEsTUFBTyxDQUFTLEdBSXRDLEdBQVUsSUFBTSxDQUFDLEVBQ2pCLEVBQVksQUFBQyxHQUFNLFFBQVEsSUFBSyxHQUFHLEVBQUUsY0FBZSxFQUNwRCxFQUFRLElBQU0sQ0FBQyxHQUluQixLQUFNLE1BQUssT0FDUCxFQUNBLEVBQ0EsRUFDQSxDQUNKLENBRUosQ0FFQSxLQUFNLFFBQ0YsRUFDQSxFQUNBLEVBQ0EsRUFDYyxDQUNkLEVBQWMsRUFDZCxhQUFpQixLQUFLLElBQU0sU0FBUyxFQUFLLEVBQUssRUFDM0MsRUFBZ0IsQ0FBQyxFQUVyQixFQUFZLENBQ2hCLENBR0osRUFFTSxHQUFOLEtBQXlCLENBRXJCLEtBQU0sWUFBWSxFQUFvQixFQUF3QixDQUUxRCxHQUFNLEdBQU0sUUFBUSxJQUFJLEVBRXhCLGFBQWlCLEtBQVcsSUFBTSxTQUFTLEVBQUssRUFBSSxFQUVoRCxHQUFJLEVBQVEsYUFBZSxVQUV2QixhQUFpQixLQUFVLE1BQUsseUJBQTBCLEVBQVMsQ0FBVSxFQUN6RSxLQUFLLGFBQWMsRUFBUSxDQUFjLFVBR3RDLEVBQVEsYUFBZSxZQUFZLENBRTFDLEdBQU0sR0FBUyxLQUFNLE1BQUssMkJBQTRCLEVBQVMsQ0FBVSxFQUN6RSxLQUFLLGFBQWMsRUFBUSxDQUFjLENBRTdDLENBR1IsQ0FFQSxNQUFRLHlCQUEwQixFQUFrQixFQUF5RCxDQUV6RyxHQUFLLEVBQVEsU0FBVyxLQUFPLENBQzNCLEtBQU0sQ0FDRixVQUNBLFFBQVMsR0FDVCxRQUFTLFlBQ2IsRUFDQSxNQUNKLENBRUEsR0FBTSxHQUFRLEVBQVEsUUFBUyxNQUFPO0FBQUEsQ0FBSyxFQUUzQyxPQUFTLEdBQVUsRUFBRyxFQUFVLEVBQU0sT0FBUSxJQUFXLENBQ3JELEdBQU0sR0FBTyxFQUFNLEdBQ2IsRUFBUyxFQUFVLEVBQ25CLEVBQW1CLGFBQ25CLEVBQVUsTUFBTSxLQUFNLEVBQUssU0FBVSxDQUFpQixDQUFFLEVBQzlELE9BQVcsS0FBUyxHQUFTLENBRXpCLEdBQU0sR0FBVyxRQUFRLFVBQWUsRUFBTSxNQUFPLElBRS9DLEVBQWdCLFlBQUssRUFBTSxjQUUzQixFQUFjLEdBQUksSUFBNEIsQ0FBYyxFQUNsRSxHQUFJLENBQUMsRUFBWSxZQUFjLEVBQVksYUFBZSxLQUFNLENBQzVELEtBQU0sQ0FDRixVQUNBLFFBQVMsR0FDVCxRQUFTLEdBQUcsbUJBQ2hCLEVBRUEsUUFDSixDQUVBLEdBQU0sR0FBSyxHQUFvQiwyQkFBNEIsRUFBWSxXQUFZLEVBQ25GLEdBQUssR0FBTSxLQUFNLENBQ2IsS0FBTSxDQUNGLFVBQ0EsUUFBUyxHQUNULFFBQVMsR0FBRyxtQkFDaEIsRUFDQSxRQUNKLENBRUEsR0FBSSxHQUFlLEdBQ25CLE9BQVMsR0FBUSxFQUFHLEVBQVEsRUFBVSxPQUFRLElBQVMsQ0FDbkQsR0FBTSxHQUFLLEVBQVUsR0FDZixFQUFPLEVBQVEsRUFFckIsR0FBSyxBQURpQixLQUFNLEdBQUcsa0JBQWtCLEVBQVksWUFBWSxpQkFBa0IsQ0FBRSxHQUN2RSxLQUFNLENBQ3hCLEVBQWUsR0FDZixLQUFNLENBQ0YsVUFDQSxRQUFTLEdBQ1QsUUFBUyxHQUFHLGdCQUF1QixHQUN2QyxFQUNBLEtBQ0osQ0FDSixDQUVBLEdBQUksRUFDQSxLQUdSLENBRUosQ0FFSixDQUVBLEtBQU0sNEJBQTRCLEVBQWtCLEVBQTJDLENBQzNGLEdBQUksRUFBUSxTQUFXLE1BQVEsRUFBUSxRQUFRLFFBQVUsRUFDckQsTUFBTyxDQUNILFVBQ0EsUUFBUyxHQUNULFFBQVMsWUFDYixFQUdKLEdBQU0sR0FBVyxHQUFpQixPQUFRLEVBQVEsU0FBVyxFQUFHLEVBRTFELEVBQUssR0FBb0Isd0JBQXlCLENBQVMsRUFDakUsR0FBSyxHQUFNLEtBQ1AsTUFBTyxDQUNILFVBQ0EsUUFBUyxHQUNULFFBQVMsZ0JBQ2IsRUFHSixPQUFTLEdBQUksRUFBRyxFQUFJLEVBQVUsT0FBUSxJQUFLLENBQ3ZDLEdBQU0sR0FBSyxFQUFVLEdBRXJCLEdBQUssQUFEVyxLQUFNLEdBQUcsa0JBQWtCLEVBQVMsWUFBYSxDQUFFLEdBQ25ELEtBQ1osTUFBTyxDQUNILFVBQ0EsUUFBUyxHQUNULFFBQVMsYUFBYSxFQUFFLEdBQzVCLENBRVIsQ0FFQSxNQUFPLENBQ0gsVUFDQSxRQUFTLEdBQ1QsUUFBUyxtQkFDYixDQUNKLENBRUEsYUFBYSxFQUFvQixFQUF1QixDQUNwRCxBQUFJLEdBQWlCLEVBQU8sU0FHNUIsUUFBUSxJQUFLLEdBQUcsRUFBTyxRQUFVLFNBQVcsZUFBZSxFQUFPLFFBQVEsbUJBQW1CLEVBQU8sY0FBYyxFQUFPLFFBQVEsYUFBYyxDQUNuSixDQUVBLGNBQWMsRUFBdUIsRUFBdUIsQ0FDeEQsT0FBVyxLQUFVLEdBQ2pCLEtBQUssYUFBYyxFQUFRLENBQWMsQ0FFakQsQ0FDSixFQUVNLEdBQU4sS0FBMkIsQ0FDdkIsS0FBTSxZQUFZLEVBQW9CLEVBQWUsRUFBaUIsQ0FFbEUsUUFBUSxJQUFLLGFBQWEsRUFBTyxhQUFhLE9BQVEsRUFFdEQsR0FBTSxHQUFNLFFBQVEsSUFBSSxFQUV4QixhQUFpQixLQUFXLElBQU0sU0FBUyxFQUFLLEVBQUksRUFFaEQsR0FBSSxFQUFRLGFBQWUsVUFBVSxDQUVoQyxHQUFNLEdBQVMsS0FBTSxNQUFLLHNCQUF1QixFQUFTLEVBQVcsRUFBUSxDQUFPLEVBQ3BGLEtBQUssYUFBYyxDQUFPLENBRS9CLFNBQVcsRUFBUSxhQUFlLFlBQVksQ0FFMUMsR0FBTSxHQUFTLEtBQU0sTUFBSyx3QkFBeUIsRUFBUyxFQUFXLEVBQVEsQ0FBTyxFQUN0RixLQUFLLGFBQWMsQ0FBTyxDQUU5QixDQUVSLENBRUEsS0FBTSx1QkFBc0IsRUFBa0IsRUFBcUIsRUFBZ0IsRUFBMEMsQ0FFekgsR0FBTSxHQUFRLEVBQVEsUUFBUyxNQUFPO0FBQUEsQ0FBSyxFQUNyQyxFQUE0QixDQUFDLEVBRW5DLE9BQVMsR0FBVSxFQUFHLEVBQVUsRUFBTSxPQUFRLElBQVcsQ0FFckQsR0FBTSxHQUFPLEVBQU0sR0FFYixFQUFTLEVBQVUsRUFFbkIsRUFBb0IsQ0FDdEIsaUJBQ0EsWUFDSixFQUVJLEVBQWdCLEVBQ2hCLEVBQWEsRUFDYixFQUFpQixFQUVyQixPQUFXLEtBQW9CLEdBRzNCLGFBQWlCLEtBQVMsR0FBYyxTQUFVLENBQWlCLEVBQUksQ0FFbkUsSUFFQSxHQUFNLEdBQVcsUUFBUSxVQUFlLEVBQU0sTUFBTyxJQUUvQyxFQUFjLEVBQU0sR0FDcEIsRUFBZ0IsWUFBSyxFQUFNLGNBRTNCLEVBQWMsR0FBSSxJQUE0QixDQUFjLEVBQ2xFLEdBQUksQ0FBQyxFQUFZLFlBQWMsRUFBWSxhQUFlLEtBQ3RELE1BQU8sQ0FDSCxVQUNBLFFBQVMsR0FDVCxRQUFTLFVBQVUsb0JBQ25CLFFBQVMsTUFDYixFQUdKLEdBQU0sR0FBSyxHQUFvQiwyQkFBNEIsRUFBWSxXQUFZLEVBQ25GLEdBQUssR0FBTSxLQUNQLE1BQU8sQ0FDSCxVQUNBLFFBQVMsR0FDVCxRQUFTLFVBQVUsb0JBQ25CLFFBQVMsTUFDYixFQUdKLEdBQUksSUFBaUMsS0FDckMsT0FBUyxJQUFRLEVBQUcsR0FBUSxFQUFVLE9BQVEsS0FBUyxDQUNuRCxHQUFNLElBQUssRUFBVSxJQUVyQixHQURBLEdBQWdCLEtBQU0sR0FBRyxrQkFBa0IsRUFBWSxZQUFZLGlCQUFrQixFQUFFLEVBQ2xGLElBQWlCLEtBQ2xCLEtBRVIsQ0FFQSxBQUFJLEtBQWdCLE1BQ2hCLEtBQ0EsRUFBZ0IsRUFBYyxRQUFTLEVBQWEsRUFBYyxFQUcxRSxDQUdKLEdBQUksR0FBYyxFQUNkLE1BQU8sQ0FDSCxVQUNBLFFBQVMsR0FDVCxRQUFTLHNCQUFzQix3QkFBaUMsSUFDaEUsUUFBUyxNQUNiLEVBR0osRUFBZSxLQUFNLENBQWMsQ0FFdkMsQ0FFQSxHQUFJLEdBQVUsQUFBSyxRQUFNLEVBQVEsRUFBUSxZQUFhLEVBRXRELEdBQUksQ0FBQyxFQUFPLENBQ1IsR0FBTSxHQUFhLEFBQUssV0FBUyxDQUFRLEVBQ3pDLEFBQUssQUFBRyxjQUFZLENBQVcsR0FDM0IsQUFBRyxhQUFXLEVBQVksQ0FBRSxVQUFXLEVBQUssQ0FBRSxFQUVsRCxBQUFHLGlCQUFlLEVBQVMsRUFBZSxLQUFNO0FBQUEsQ0FBSyxDQUFFLENBQzNELENBRUEsTUFBTyxTQUFRLFFBQVEsQ0FDbkIsVUFDQSxRQUFTLEdBQ1QsUUFBUyxZQUNULFFBQVMsQ0FDYixDQUFDLENBQ0wsQ0FFQSxhQUFhLEVBQXVCLENBQ2hDLFFBQVEsSUFBSyxHQUFHLEVBQU8sYUFBYSxFQUFPLFFBQVEsZUFBZSxFQUFPLFNBQVcsS0FBTyxHQUFLLFFBQVUsRUFBTyxRQUFVLEtBQU0sQ0FDckksQ0FFQSxLQUFNLHlCQUF3QixFQUFrQixFQUFxQixFQUFnQixFQUEwQyxDQUUzSCxHQUFJLEdBQVUsQUFBSyxRQUFNLEVBQVEsRUFBUSxZQUFhLEVBR2hELEVBQVcsQUFBSyxZQUFTLENBQU8sRUFDaEMsRUFBWSxBQUFLLFdBQVEsQ0FBTyxFQUNoQyxFQUFjLEVBQVMsUUFBUSxFQUFXLEtBQUssRUFLckQsR0FGQSxFQUFVLEFBQUssUUFBSyxBQUFLLFdBQVEsQ0FBTyxFQUFHLENBQVcsRUFFbEQsQ0FBQyxFQUFPLENBQ1IsR0FBTSxHQUFhLEFBQUssV0FBUyxDQUFRLEVBQ3pDLEFBQUssQUFBRyxjQUFZLENBQVcsR0FDM0IsQUFBRyxhQUFXLEVBQVksQ0FBRSxVQUFXLEVBQUssQ0FBRSxDQUV0RCxDQUVBLEdBQUksRUFBUSxTQUFXLE1BQVEsRUFBUSxRQUFRLFFBQVUsRUFFckQsTUFBSyxJQUNELEFBQUcsaUJBQWUsRUFBUyxFQUFHLEVBRzNCLENBQ0gsVUFDQSxRQUFTLEdBQ1QsUUFBUyxtQkFDVCxRQUFTLENBQ2IsRUFHSixHQUFNLEdBQVcsR0FBaUIsT0FBUSxFQUFRLFNBQVcsRUFBRyxFQUUxRCxFQUFLLEdBQW9CLHdCQUF5QixDQUFTLEVBQ2pFLEdBQUssR0FBTSxLQUNQLE1BQU8sQ0FDSCxVQUNBLFFBQVMsR0FDVCxRQUFTLHdCQUNULFFBQVMsTUFDYixFQUdKLE9BQVMsR0FBSSxFQUFHLEVBQUksRUFBVSxPQUFRLElBQUssQ0FDdkMsR0FBTSxHQUFLLEVBQVUsR0FDZixFQUFVLEtBQU0sR0FBRyxrQkFBa0IsRUFBUyxZQUFhLENBQUUsRUFDbkUsR0FBSyxHQUFXLEtBQ1osTUFBSyxJQUNELEFBQUcsaUJBQWUsRUFBUyxDQUFRLEVBR2hDLENBQ0gsVUFDQSxRQUFTLEdBQ1QsUUFBUyxZQUNULFFBQVMsQ0FDYixDQUVSLENBRUEsTUFBTyxDQUNILFVBQ0EsUUFBUyxHQUNULFFBQVMsMkJBQ1QsUUFBUyxNQUNiLENBQ0osQ0FDSixFQUVNLEdBQU4sS0FBVyxDQUNQLGFBQWUsS0FBTSxFQUErQyxDQUVoRSxhQUFpQixLQUFLLE1BQU0sQUFBRyxhQUFTLFFBQVEsQ0FBRyxFQUFHLENBQ2xELEdBQU0sR0FBUSxBQUFLLFFBQUssRUFBSyxFQUFFLElBQUksRUFDbkMsQUFBSSxFQUFFLFlBQVksRUFDZCxNQUFPLEdBQU0sS0FBSyxDQUFLLEVBQ2hCLEVBQUUsT0FBTyxHQUNoQixNQUFNLEdBRWQsQ0FDSixDQUVBLGFBQWUsU0FBVSxFQUFjLEVBQTJELENBRTlGLGFBQWlCLEtBQUssSUFBTSxLQUFNLENBQUksRUFBRyxDQUVyQyxHQUFNLEdBQU0sQUFBSyxXQUFRLENBQUMsRUFBRSxZQUFZLEVBQUUsTUFBTSxDQUFDLEVBR2pELEdBQUssQ0FBQyxDQUFDLEtBQU0sR0FBYSxFQUF5QixFQUFFLFNBQVUsQ0FBSSxFQUMvRCxTQUdKLEdBQU0sR0FBZSxJQUFXLE9BQU0sQUFBSyxZQUFTLEVBQUssQ0FBQyxFQUNwRCxFQUFZLEdBQWtCLEdBQU8sS0FBUyxLQUFNLEFBQUcsYUFBUyxTQUFVLEVBQUcsTUFBTyxFQUFJLE9BRzlGLEdBQUssR0FBTyxLQUFNLENBRWQsQUFDSSxHQUFTLFNBQTJCLEVBQWtCLEdBQ25ELEVBQVMsU0FBMkIsRUFBa0IsSUFFekQsTUFBTSxDQUNGLFlBQWEsVUFDYixTQUFVLEVBQ1YsYUFBYyxFQUNkLFVBQVcsRUFDWCxRQUFTLEVBQWlCLEVBQVUsTUFDeEMsR0FFSixRQUNKLENBR0EsS0FBTSxDQUNGLFlBQWEsWUFDYixTQUFVLEVBQ1YsYUFBYyxFQUNkLFVBQVcsRUFDWCxRQUFTLENBQ2IsQ0FFSixDQUVKLENBRUosRUFFTSxHQUFtQyxDQUNyQyxhQUFjLEdBQ2QsTUFBTyxDQUFDLElBQUssSUFBSSxFQUNqQixTQUFVLG1CQUNWLEtBQU0sT0FDVixFQUVNLEdBQW1DLENBQ3JDLE1BQU8sSUFDUCxTQUFVLHdCQUNWLEtBQU0sU0FDTixRQUFTLENBQUUsVUFBVyxRQUFTLE9BQVEsS0FBSyxFQUM1QyxRQUFTLFNBQ2IsRUFJQSxBQUFNLEdBQVEsR0FBUSxRQUFRLElBQUksQ0FBQyxFQUM5QixNQUFPLCtCQUFnQyxFQUV2QyxRQUFTLE9BQVEsNERBQTZELEFBQUMsR0FBVSxFQUFNLE9BQVEsQ0FDcEcsT0FBUSxFQUNaLENBQUUsRUFBRyxBQUFDLEdBQVMsR0FBSSxJQUFtQixFQUFFLFdBQVcsRUFBSyxNQUFpQixDQUFFLEVBRTFFLFFBQVEsQ0FBQyxPQUFRLE9BQU8sRUFBRyxxRUFBc0UsQUFBQyxHQUFVLEVBQU0sT0FBUyxDQUN4SCxVQUFXLEdBQ1gsTUFBTyxDQUNILE1BQU8sQ0FBQyxJQUFLLE1BQU0sRUFDbkIsU0FBVSxrQkFDVixLQUFNLFVBQ04sUUFBUyxFQUNiLENBQ0osQ0FBRSxFQUFHLEFBQUMsR0FBUyxHQUFJLElBQW1CLEVBQUUsV0FBWSxFQUFLLFVBQXVCLEVBQUssS0FBaUIsQ0FBRSxFQUV2RyxRQUFRLFVBQVcsNEVBQThFLEFBQUMsR0FBVSxFQUFNLE9BQVMsQ0FDeEgsVUFBVyxHQUNYLE9BQVEsQ0FDSixNQUFPLENBQUMsSUFBSyxNQUFPLElBQUksRUFDeEIsU0FBVSxtQkFDVixLQUFNLFNBQ04sYUFBYyxFQUNsQixFQUNBLE9BQVEsQ0FDSixNQUFPLENBQUMsS0FBTSxLQUFLLEVBQ25CLFNBQVUsVUFDVixLQUFNLFVBQ04sUUFBUyxFQUNiLENBQ0osQ0FBRSxFQUFHLEFBQUMsR0FBUyxHQUFJLElBQXNCLEVBQUUsV0FBWSxFQUFLLFVBQXVCLEVBQUssT0FBa0IsRUFBSyxTQUFXLEVBQU0sQ0FBRSxFQUVqSSxjQUFjLEVBQ2QsS0FBSyxFQUNMLEtBQU0sSUFBSyxFQUNYLFFBQVEsQ0FDTCxDQUFDLFVBQVcsb0dBQW9HLEVBQ2hILENBQUMsOEJBQStCLG9FQUFvRSxFQUNwRyxDQUFDLHdEQUF5RCxzQ0FBc0MsQ0FDbEcsQ0FBQyxFQUNGLE1BQU0iLAogICJuYW1lcyI6IFtdCn0K
